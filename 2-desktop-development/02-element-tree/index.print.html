




	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="K-State CIS 400 Textbook">
    <meta name="author" content="Nathan Bean">
    <title>Exploring Elements :: K-State CIS 400 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cis400/2-desktop-development/02-element-tree/index.html" rel="canonical" type="text/html" title="Exploring Elements :: K-State CIS 400 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis400/2-desktop-development/02-element-tree/index.xml" rel="alternate" type="application/rss+xml" title="Exploring Elements :: K-State CIS 400 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis400/2-desktop-development/02-element-tree/tele.html" rel="alternate" type="text/html" title="Exploring Elements :: K-State CIS 400 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis400/2-desktop-development/02-element-tree/embed.html" rel="alternate" type="text/html" title="Exploring Elements :: K-State CIS 400 Textbook">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/fontawesome-all.min.css?1695143862" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis400/css/fontawesome-all.min.css?1695143862" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/nucleus.css?1695143862" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/auto-complete.css?1695143862" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis400/css/auto-complete.css?1695143862" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/perfect-scrollbar.min.css?1695143862" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/fonts.css?1695143862" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis400/css/fonts.css?1695143862" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/theme.css?1695143862" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/theme-auto.css?1695143862" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/variant.css?1695143862" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/print.css?1695143862" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/format-print.css?1695143862" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/ie.css?1695143862" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/url.js?1695143862"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/variant.js?1695143862"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cis400/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cis400/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cis400/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/custom.css?1695143862" rel="stylesheet">

  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cis400/2-desktop-development/02-element-tree/index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div id="top-tele-link">
            <a class="print-link" title='Teleprompter View' href="https://ksu-cs-textbooks.github.io/cis400/2-desktop-development/02-element-tree/tele.html">
              <i class="fas fa-tv fa-fw"></i>
            </a>
          </div>
          <div id="top-embed-link">
            <a class="print-link" title='Embeddable Version' href="https://ksu-cs-textbooks.github.io/cis400/2-desktop-development/02-element-tree/embed.html">
              <i class="fas fa-expand-arrows-alt fa-fw"></i>
            </a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" class="topbar-link" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cis400/index.html"><span itemprop="name">CIS 400: Object-Oriented Design, Implementation, and Testing</span></a><meta itemprop="position" content="1"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cis400/2-desktop-development/index.html"><span itemprop="name">Desktop Development</span></a><meta itemprop="position" content="2"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Exploring Elements</span><meta itemprop="position" content="3"></li>
            </ol>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable chapter narrow" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 2</div>
<h1 id="exploring-elements">Exploring Elements</h1>

<p>Our application is a tree?</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Exploring Elements</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="introduction">Introduction</h1>

<p>In the previous chapter, we introduced Windows Presentation Foundation and XAML, and discussed common layouts and controls, as well as some of the most common features of each of them.  We also saw the concept of component-based design and explored its use.  In this chapter, we&rsquo;ll take a deeper dive into how WPF and XAML structure GUIs into an <em>elements tree</em>, and some different ways we can leverage these features for greater control and customization in our programs.</p>
<h2 id="key-terms">Key Terms</h2>
<ul>
<li>The Elements Tree</li>
<li>Styles</li>
<li>Resources</li>
</ul>
<h2 id="c-keywords-and-elements">C# Keywords and Elements</h2>
<ul>
<li><code>&lt;Style&gt;</code></li>
<li><code>&lt;Setter&gt;</code></li>
<li><code>StaticResource</code></li>
</ul>
<h2 id="key-skills">Key Skills</h2>
<p>In this chapter, you should learn how to navigate the elements tree, declare styles to simplify styling your applications, and declare resources that can be bound to properties of controls.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="the-elements-tree">The Elements Tree</h1>

<p>Consider the <code>ShoppingList</code> class we developed in the last chapter:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;UserControl</span> <span style="color:#a6e22e">x:Class=</span><span style="color:#e6db74">&#34;ShopEasy.ShoppingList&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns:x=</span><span style="color:#e6db74">&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns:mc=</span><span style="color:#e6db74">&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns:d=</span><span style="color:#e6db74">&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns:local=</span><span style="color:#e6db74">&#34;clr-namespace:ShopEasy&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">mc:Ignorable=</span><span style="color:#e6db74">&#34;d&#34;</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">d:DesignHeight=</span><span style="color:#e6db74">&#34;450&#34;</span> <span style="color:#a6e22e">d:DesignWidth=</span><span style="color:#e6db74">&#34;200&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;DockPanel&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;TextBlock</span> <span style="color:#a6e22e">DockPanel.Dock=</span><span style="color:#e6db74">&#34;Top&#34;</span> <span style="color:#a6e22e">FontWeight=</span><span style="color:#e6db74">&#34;Bold&#34;</span> <span style="color:#a6e22e">TextAlignment=</span><span style="color:#e6db74">&#34;Center&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>            Shopping List For:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/TextBlock&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;TextBox</span> <span style="color:#a6e22e">DockPanel.Dock=</span><span style="color:#e6db74">&#34;Top&#34;</span> <span style="color:#a6e22e">FontWeight=</span><span style="color:#e6db74">&#34;Bold&#34;</span> <span style="color:#a6e22e">TextAlignment=</span><span style="color:#e6db74">&#34;Center&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span> <span style="color:#a6e22e">DockPanel.Dock=</span><span style="color:#e6db74">&#34;Bottom&#34;</span> <span style="color:#a6e22e">Click=</span><span style="color:#e6db74">&#34;AddItemToList&#34;</span><span style="color:#f92672">&gt;</span>Add Item To List<span style="color:#f92672">&lt;/Button&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;TextBox</span> <span style="color:#a6e22e">Name=</span><span style="color:#e6db74">&#34;itemTextBox&#34;</span> <span style="color:#a6e22e">DockPanel.Dock=</span><span style="color:#e6db74">&#34;Bottom&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;ListView</span> <span style="color:#a6e22e">Name=</span><span style="color:#e6db74">&#34;itemsListView&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/DockPanel&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/UserControl&gt;</span></span></span></code></pre></div><p>Each element in this XAML corresponds to a object of a specific Type, and the nesting of the elements implies a tree-like structure we call the <a href="https://docs.microsoft.com/en-us/dotnet/desktop/wpf/advanced/trees-in-wpf?view=netframeworkdesktop-4.8" target="_blank"><em>element tree</em></a>
.  We can draw this out as an actual tree:</p>
<p>
<a href="#image-c55ca6cd40d378f7683c639212628d01" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.2.2.1.png" alt="The elements tree for the ShoppingList component" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-c55ca6cd40d378f7683c639212628d01">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.2.2.1.png" alt="The elements tree for the ShoppingList component" class="lightbox-image" loading="lazy">
</a></p>
<p>The relationships in the tree are also embodied in the code.  Each element has either a <code>Child</code> or <code>Children</code> property depending on if it can have just one or multiple children, and these are populated by the elements defined in the XAML.  Thus, because the <code>&lt;DockPanel&gt;</code> has nested within it, a <code>&lt;TextBlock&gt;</code>, <code>&lt;TextBox&gt;</code>, <code>&lt;Button&gt;</code>, <code>&lt;TextBox&gt;</code>, and <code>&lt;ListView&gt;</code>, these are all contained in its <code>Children</code> Property.  In turn, the <code>&lt;Button&gt;</code> element has text as a child, which is implemented as another <code>&lt;TextBlock&gt;</code>.  Also, each component has a <code>Parent</code> property, which references the control that is its immediate parent.</p>
<p>In other words, all the WPF controls are effectively <em>nodes</em> in a <em>tree data structure</em>.  We can modify this data structure by adding or removing nodes.  This is exactly what happens in the <code>ListSwitcher</code> control - when you click the &ldquo;New List&rdquo; button, or the &ldquo;Prior&rdquo; or &ldquo;Next&rdquo; button, you are swapping the subtree that is the child of its <code>&lt;Border&gt;</code> element:</p>
<p>
<a href="#image-8115f1ba5a537d656bb984fb107363a7" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.2.2.2.png" alt="The elements tree for the ListSwitcher component" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-8115f1ba5a537d656bb984fb107363a7">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.2.2.2.png" alt="The elements tree for the ListSwitcher component" class="lightbox-image" loading="lazy">
</a></p>
<p>In fact, the entire application is one large tree of elements, with the <code>&lt;Application&gt;</code> as its root:</p>
<p>
<a href="#image-9b09171ce1ef0dfd4e4d2e3618ae72d1" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.2.2.3.png" alt="ShopEasy App element tree" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-9b09171ce1ef0dfd4e4d2e3618ae72d1">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.2.2.3.png" alt="ShopEasy App element tree" class="lightbox-image" loading="lazy">
</a></p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="navigating-the-tree">Navigating the Tree</h1>

<p>When you first learned about trees, you also learned about tree traversal algorithms.  This is one reason that WPF is organized into a tree - the rendering process actually uses a tree traversal algorithm to determine how large to make each control!</p>
<p>You can also traverse the tree yourself, by exploring <code>Child</code>, <code>Children</code>, or <code>Parent</code> properties.  For example, if we needed to gain access to the <code>ListSwitcher</code> from the <code>ShoppingList</code> in the previous example, you could reach it by invoking:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>   ListSwitcher switcher = <span style="color:#66d9ef">this</span>.Parent.Parent.Parent <span style="color:#66d9ef">as</span> ListSwitcher;</span></span></code></pre></div><p>In this example, <code>this</code> is our <code>ShoppingList</code>, the first <code>Parent</code> is the <code>Border</code> containing the <code>ShoppingList</code>, the second <code>Parent</code> is the <code>Grid</code> containing that <code>Border</code>, and the third <code>Parent</code> is the actual <code>ListSwitcher</code>.  We have to cast it to be a <code>ListSwitcher</code> because the type of the <code>Parent</code> property is a <code>DependencyObject</code> (a common base class of all controls).</p>
<p>Of course, this is a rather brittle way of finding an ancestor, because if we add any nodes to the element tree (perhaps move the <code>Grid</code> within a <code>DockPanel</code>), we&rsquo;ll need to rewrite it.  It would be better to use a loop to iteratively climb the tree until we find the control we&rsquo;re looking for.  This is greatly aided by the <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.logicaltreehelper?view=netcore-3.1" target="_blank"><code>LogicalTreeHelper</code></a>
 library, which provides standardized static methods for accessing parents and children in the elements tree:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">// Start climbing the tree from this node</span>
</span></span><span style="display:flex;"><span>DependencyObject parent = <span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Get this node&#39;s parent</span>
</span></span><span style="display:flex;"><span>    parent = LogicalTreeHelper.GetParent(parent);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Invariant: there is a parent element, and it is not a ListSwitcher </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span>(!(parent <span style="color:#66d9ef">is</span> <span style="color:#66d9ef">null</span> || parent <span style="color:#66d9ef">is</span> ListSwitcher));
</span></span><span style="display:flex;"><span><span style="color:#75715e">// If we get to this point, parent is either null, or the ListSwitcher we&#39;re looking for</span></span></span></code></pre></div><p>Searching the ancestors is a relatively easy task, as each node in the tree has only one parent.  Searching the descendants takes more work, as each node may have many children, with children of their own.</p>
<p>This approach works well for complex applications with complex GUIs, where it is infeasible to keep references around.  However, for our simple application here, it might make more sense to refactor the <code>ShoppingList</code> class to keep track of the <code>ListSwitcher</code> that created it, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Windows;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Windows.Controls;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> ShopEasy
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Interaction logic for ShoppingList.xaml</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">partial</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ShoppingList</span> : UserControl
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// The ListSwitcher that created this list</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> ListSwitcher listSwitcher;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// Constructs a new ShoppingList</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> ShoppingList(ListSwitcher listSwitcher)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            InitializeComponent();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.listSwitcher = listSwitcher;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// Adds the item in the itemTextBox to the itemsListView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;param name=&#34;sender&#34;&gt;The object sending the event&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;param name=&#34;e&#34;&gt;The events describing the event&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> AddItemToList(<span style="color:#66d9ef">object</span> sender, RoutedEventArgs e)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Make sure there&#39;s an item to add</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (itemTextBox.Text.Length == <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Add the item to the list</span>
</span></span><span style="display:flex;"><span>            itemsListView.Items.Add(itemTextBox.Text);
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Clear the text box</span>
</span></span><span style="display:flex;"><span>            itemTextBox.Clear();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>However, this approach now tightly couples the <code>ListSwitcher</code> and <code>ShoppingList</code> - we can no longer use the <code>ShoppingList</code> for other contexts without a <code>ListSwitcher</code>.</p>
<p>If we instead employed the the traversal algorithm detailed above:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Windows;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Windows.Controls;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> ShopEasy
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Interaction logic for ShoppingList.xaml</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">partial</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ShoppingList</span> : UserControl
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// The ListSwitcher that created this list</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">private</span> ListSwitcher listSwitcher { 
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">get</span> {
</span></span><span style="display:flex;"><span>                DependencyObject parent = <span style="color:#66d9ef">this</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e">// Get this node&#39;s parent</span>
</span></span><span style="display:flex;"><span>                    parent = LogicalTreeHelper.GetParent(parent);
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// Invariant: there is a parent element, and it is not a ListSwitcher </span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">while</span>(!(parent <span style="color:#66d9ef">is</span> <span style="color:#66d9ef">null</span> || parent <span style="color:#66d9ef">is</span> ListSwitcher));
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">return</span> parent;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// Constructs a new ShoppingList</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> ShoppingList()
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            InitializeComponent();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// Adds the item in the itemTextBox to the itemsListView</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;param name=&#34;sender&#34;&gt;The object sending the event&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/// &lt;param name=&#34;e&#34;&gt;The events describing the event&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">void</span> AddItemToList(<span style="color:#66d9ef">object</span> sender, RoutedEventArgs e)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Make sure there&#39;s an item to add</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (itemTextBox.Text.Length == <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Add the item to the list</span>
</span></span><span style="display:flex;"><span>            itemsListView.Items.Add(itemTextBox.Text);
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Clear the text box</span>
</span></span><span style="display:flex;"><span>            itemTextBox.Clear();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>We could invoke the <code>listSwitcher</code> property to get the ancestor <code>ListSwitcher</code>.  If this control is being used without one, the value will be <code>Null</code>.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="styling-the-tree">Styling the Tree</h1>

<p>Windows Presentation Foundation takes advantage of the elements tree in other ways.  One of the big ones is for styling related elements.  Let&rsquo;s say we are creating a calculator GUI:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;UserControl</span> <span style="color:#a6e22e">x:Class=</span><span style="color:#e6db74">&#34;Calculator.Calculator&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">xmlns:x=</span><span style="color:#e6db74">&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">xmlns:d=</span><span style="color:#e6db74">&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">xmlns:mc=</span><span style="color:#e6db74">&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">xmlns:local=</span><span style="color:#e6db74">&#34;clr-namespace:Calculator&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">mc:Ignorable=</span><span style="color:#e6db74">&#34;d&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">d:DesignWidth=</span><span style="color:#e6db74">&#34;450&#34;</span> <span style="color:#a6e22e">d:DesignHeight=</span><span style="color:#e6db74">&#34;450&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Grid&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Grid.ColumnDefinitions&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;ColumnDefinition/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;ColumnDefinition/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;ColumnDefinition/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;ColumnDefinition/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/Grid.ColumnDefinitions&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Grid.RowDefinitions&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;RowDefinition/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;RowDefinition/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;RowDefinition/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;RowDefinition/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;RowDefinition/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/Grid.RowDefinitions&gt;</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">&gt;</span>7<span style="color:#f92672">&lt;/Button&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">&gt;</span>8<span style="color:#f92672">&lt;/Button&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;2&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">&gt;</span>9<span style="color:#f92672">&lt;/Button&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;2&#34;</span><span style="color:#f92672">&gt;</span>4<span style="color:#f92672">&lt;/Button&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;2&#34;</span><span style="color:#f92672">&gt;</span>5<span style="color:#f92672">&lt;/Button&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;2&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;2&#34;</span><span style="color:#f92672">&gt;</span>6<span style="color:#f92672">&lt;/Button&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;3&#34;</span><span style="color:#f92672">&gt;</span>7<span style="color:#f92672">&lt;/Button&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;3&#34;</span><span style="color:#f92672">&gt;</span>8<span style="color:#f92672">&lt;/Button&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;2&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;3&#34;</span><span style="color:#f92672">&gt;</span>8<span style="color:#f92672">&lt;/Button&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;4&#34;</span> <span style="color:#a6e22e">Grid.ColumnSpan=</span><span style="color:#e6db74">&#34;3&#34;</span><span style="color:#f92672">&gt;</span>0<span style="color:#f92672">&lt;/Button&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;3&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">&gt;</span>-<span style="color:#f92672">&lt;/Button&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;3&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;2&#34;</span><span style="color:#f92672">&gt;</span>-<span style="color:#f92672">&lt;/Button&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;3&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;3&#34;</span><span style="color:#f92672">&gt;</span>*<span style="color:#f92672">&lt;/Button&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Button</span> <span style="color:#a6e22e">Grid.Column=</span><span style="color:#e6db74">&#34;3&#34;</span> <span style="color:#a6e22e">Grid.Row=</span><span style="color:#e6db74">&#34;4&#34;</span><span style="color:#f92672">&gt;</span>/<span style="color:#f92672">&lt;/Button&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/Grid&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/Window&gt;</span></span></span></code></pre></div><p>Once we have the elements laid out, we realize the text of the buttons is too small.  Fixing this would mean setting the <code>FontSize</code> property of each <code>&lt;Button&gt;</code>.  That&rsquo;s a lot of repetitive coding.</p>
<p>Thankfully, the XAML developers anticipated this kind of situation, and allow us to attach a <code>&lt;Style&gt;</code> resource to the control. We typically would do this above the controls we want to style - in this case, either on the <code>&lt;Grid&gt;</code> or the <code>&lt;UserControl&gt;</code>.  If we were to attach it to the <code>&lt;Grid&gt;</code>, we&rsquo;d declare a <code>&lt;Grid.Resources&gt;</code> property, and inside it, a <code>&lt;Style&gt;</code>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;Grid.Resources&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Style&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/Style&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/Grid.Resources&gt;</span></span></span></code></pre></div><p>The <code>&lt;Style&gt;</code> element allows us to specify a <code>TargetType</code> property, which is the Type we want the style to apply to - in this case <code>&quot;Button&quot;</code>.  Inside the <code>&lt;Style&gt;</code> element, we declare <code>&lt;Setter&gt;</code> elements, which need <code>Property</code> and <code>Value</code> attribute.  As you might guess from the names, the <code>&lt;Setter&gt;</code> will set the specified property to the specified value on each element of the target type.</p>
<p>Therefore, if we use:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;Grid.Resources&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Style</span> <span style="color:#a6e22e">TargetType=</span><span style="color:#e6db74">&#34;Button&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;FontSize&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;40&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/Style&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/Grid.Resources&gt;</span></span></span></code></pre></div><p>The result will be that all buttons that are children of the <code>&lt;Grid&gt;</code> will have their <code>FontSize</code> set to <code>40</code> device-independent pixels.  We don&rsquo;t need to add a separate <code>FontSize=&quot;40&quot;</code> to each one!  However, if we add <code>FontSize=&quot;50&quot;</code> to a single button, that button alone will have a slightly larger font.</p>
<p>We can declare as many <code>&lt;Setters&gt;</code> as we want in a <code>&lt;Style&gt;</code> element, and as many <code>&lt;Style&gt;</code> elements as we want in a <code>&lt;.Resources&gt;</code> element.  Moreover, styles apply to all children in the elements tree.  Closer setters override those farther up the tree, and setting the property directly on an element always gives the final say.</p>
<p>Thus, we might put application-wide styles directly in our <code>MainWindow</code> using <code>&lt;Window.Resources&gt;</code>, and override those further down the elements tree when we want a different behavior.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>You may notice some similarities between <code>&lt;Style&gt;</code> elements and the <em>cascading style sheets (css)</em> of web technologies. This is not surprising, as the styling approach used in WPF was inspired by CSS, much as XAML drew inspiration from HTML.  However, the implementation details are necessarily different, as XAML is effectively declaring C# objects.  Hence, the use of &lsquo;setters&rsquo; to set &lsquo;properties&rsquo; to a specific &lsquo;value&rsquo;.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="resources">Resources</h1>

<p>The <code>&lt;Style&gt;</code> element represents just one kind of resource.  We can provide other kinds of resources, like raw data.  Say we want to provide a string to display in our program, but want that string declared somewhere easy to find and change (perhaps our customers change their mind frequently).  We could declare the string in the <code>Application</code> resources:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;Application</span> <span style="color:#a6e22e">x:Class=</span><span style="color:#e6db74">&#34;WpfTutorialSamples.App&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns:x=</span><span style="color:#e6db74">&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns:sys=</span><span style="color:#e6db74">&#34;clr-namespace:System;assembly=mscorlib&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">StartupUri=</span><span style="color:#e6db74">&#34;WPF application/ExtendedResourceSample.xaml&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Application.Resources&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;sys:String</span> <span style="color:#a6e22e">x:Key=</span><span style="color:#e6db74">&#34;StringToDisplay&#34;</span><span style="color:#f92672">&gt;</span>Hello World!<span style="color:#f92672">&lt;/sys:String&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/Application.Resources&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/Application&gt;</span></span></span></code></pre></div><p>Then, in our actual control we can use that string as a <em>static resource</em>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;TextBlock</span> <span style="color:#a6e22e">Text=</span><span style="color:#e6db74">&#34;{StaticResource StringToDisplay}&#34;</span><span style="color:#f92672">&gt;</span></span></span></code></pre></div><p>As long as that element is a descendant of the element the resource is declared on, it will be used in the property.  In this case, we&rsquo;ll display the string &ldquo;Hello World!&rdquo; in the <code>TextBlock</code>.  Note that we have to use the <code>x:Key</code> property to identify the resource, and repeat the key in the <code>&quot;{StaticResource StringToDisplay}&quot;</code>.  The curly braces and the <code>StaticResource</code> both need to be there (technically, they are setting up a <em>data binding</em>, which we&rsquo;ll talk about in a future chapter).</p>
<p>We can declare any kind of type as a resource and make it available in our XAML this way.</p>
<p>For example, we could create a <code>LinearGradientBrush</code>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;Application</span> <span style="color:#a6e22e">x:Class=</span><span style="color:#e6db74">&#34;WpfTutorialSamples.App&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns:x=</span><span style="color:#e6db74">&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns:sys=</span><span style="color:#e6db74">&#34;clr-namespace:System;assembly=mscorlib&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">StartupUri=</span><span style="color:#e6db74">&#34;WPF application/ExtendedResourceSample.xaml&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Application.Resources&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;LinearGradientBrush</span> <span style="color:#a6e22e">x:Key=</span><span style="color:#e6db74">&#34;Rainbow&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;LinearGradientBrush.GradientStops&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;GradientStop</span> <span style="color:#a6e22e">Color=</span><span style="color:#e6db74">&#34;Red&#34;</span> <span style="color:#a6e22e">Offset=</span><span style="color:#e6db74">&#34;0.0&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;GradientStop</span> <span style="color:#a6e22e">Color=</span><span style="color:#e6db74">&#34;Yellow&#34;</span> <span style="color:#a6e22e">Offset=</span><span style="color:#e6db74">&#34;0.25&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;GradientStop</span> <span style="color:#a6e22e">Color=</span><span style="color:#e6db74">&#34;Green&#34;</span> <span style="color:#a6e22e">Offset=</span><span style="color:#e6db74">&#34;0.50&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;GradientStop</span> <span style="color:#a6e22e">Color=</span><span style="color:#e6db74">&#34;Blue&#34;</span> <span style="color:#a6e22e">Offset=</span><span style="color:#e6db74">&#34;0.75&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;GradientStop</span> <span style="color:#a6e22e">Color=</span><span style="color:#e6db74">&#34;Violet&#34;</span> <span style="color:#a6e22e">Offset=</span><span style="color:#e6db74">&#34;1.0&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;/LinearGradientBrush.GradientStops&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/LinearGradientBrush&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/Application.Resources&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/Application&gt;</span></span></span></code></pre></div><p>And then use it as a <code>Background</code> or <code>Foreground</code> property in our controls:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;Grid</span> <span style="color:#a6e22e">Background=</span><span style="color:#e6db74">&#34;{StaticResource Rainbow}&#34;</span><span style="color:#f92672">&gt;</span></span></span></code></pre></div><p>Since it is only defined in one place, it is now easier to reuse, and if we ever need to change it, we only need to change it in one location.</p>
<p>Finally, we can create static resources from images and other media.  First, we have to set its build action to &ldquo;Resource&rdquo; in the <strong>&ldquo;Properties&rdquo;</strong> window after adding it to our project:</p>
<p>
<a href="#image-204ac20c2102ffa1e477d9f1fca40343" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.2.5.1.png" alt="Setting the image properties" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-204ac20c2102ffa1e477d9f1fca40343">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.2.5.1.png" alt="Setting the image properties" class="lightbox-image" loading="lazy">
</a></p>
<p>Then we can declare a <code>&lt;BitmapImage&gt;</code> resource using a <code>UriSource</code> property that matches the path to the image within our project:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;Application</span> <span style="color:#a6e22e">x:Class=</span><span style="color:#e6db74">&#34;WpfTutorialSamples.App&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns:x=</span><span style="color:#e6db74">&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns:sys=</span><span style="color:#e6db74">&#34;clr-namespace:System;assembly=mscorlib&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">StartupUri=</span><span style="color:#e6db74">&#34;WPF application/ExtendedResourceSample.xaml&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Application.Resources&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;BitmapImage</span> <span style="color:#a6e22e">x:Key=</span><span style="color:#e6db74">&#34;MountainImage&#34;</span> <span style="color:#a6e22e">UriSource=</span><span style="color:#e6db74">&#34;Images/mountains.jpg&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/Applicaton.Resources&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/Application&gt;</span></span></span></code></pre></div><p>And then we can use this as the <code>ImageSource</code> for an <code>ImageBrush</code>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;Grid&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Grid.Background&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;ImageBrush</span> <span style="color:#a6e22e">ImageSource=</span><span style="color:#e6db74">&#34;{StaticResource MountainImage}&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/Grid.Background&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/Grid&gt;</span></span></span></code></pre></div><p>The benefit of using images and other media as resources is that they are <em>compiled into the binary assembly</em> (the <em>.dll</em> or <em>.exe</em> file).  This means they don&rsquo;t need to be copied separately when we distribute our application.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="templates">Templates</h1>

<p>Most WPF controls are themselves composed of multiple, simpler, controls. For example, a <code>&lt;Button&gt;</code> is composed of a <code>&lt;Border&gt;</code> and whatever content you place inside the button.  A simplified version of this structure appears below (I removed the styling information and the <code>VisualState</code> components responsible for presenting the button differently when it is enabled, disabled, hovered on, or clicked):</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;Border</span> <span style="color:#a6e22e">TextBlock.Foreground=</span><span style="color:#e6db74">&#34;{TemplateBinding Foreground}&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">x:Name=</span><span style="color:#e6db74">&#34;Border&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">CornerRadius=</span><span style="color:#e6db74">&#34;2&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">BorderThickness=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;Border.BorderBrush&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;LinearGradientBrush</span> <span style="color:#a6e22e">StartPoint=</span><span style="color:#e6db74">&#34;0,0&#34;</span>
</span></span><span style="display:flex;"><span>                          <span style="color:#a6e22e">EndPoint=</span><span style="color:#e6db74">&#34;0,1&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;LinearGradientBrush.GradientStops&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;GradientStopCollection&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&lt;GradientStop</span> <span style="color:#a6e22e">Color=</span><span style="color:#e6db74">&#34;{DynamicResource BorderLightColor}&#34;</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#a6e22e">Offset=</span><span style="color:#e6db74">&#34;0.0&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&lt;GradientStop</span> <span style="color:#a6e22e">Color=</span><span style="color:#e6db74">&#34;{DynamicResource BorderDarkColor}&#34;</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#a6e22e">Offset=</span><span style="color:#e6db74">&#34;1.0&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/GradientStopCollection&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;/LinearGradientBrush.GradientStops&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/LinearGradientBrush&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/Border.BorderBrush&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;Border.Background&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;LinearGradientBrush</span> <span style="color:#a6e22e">EndPoint=</span><span style="color:#e6db74">&#34;0.5,1&#34;</span>
</span></span><span style="display:flex;"><span>                          <span style="color:#a6e22e">StartPoint=</span><span style="color:#e6db74">&#34;0.5,0&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;GradientStop</span> <span style="color:#a6e22e">Color=</span><span style="color:#e6db74">&#34;{DynamicResource ControlLightColor}&#34;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">Offset=</span><span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;GradientStop</span> <span style="color:#a6e22e">Color=</span><span style="color:#e6db74">&#34;{DynamicResource ControlMediumColor}&#34;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">Offset=</span><span style="color:#e6db74">&#34;1&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/LinearGradientBrush&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/Border.Background&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;ContentPresenter</span> <span style="color:#a6e22e">Margin=</span><span style="color:#e6db74">&#34;2&#34;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">HorizontalAlignment=</span><span style="color:#e6db74">&#34;Center&#34;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">VerticalAlignment=</span><span style="color:#e6db74">&#34;Center&#34;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">RecognizesAccessKey=</span><span style="color:#e6db74">&#34;True&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/Border&gt;</span></span></span></code></pre></div><p>This has some implications for working with the control - for example, if you wanted to add rounded corners to the <code>&lt;Button&gt;</code>, they would actually need to be added to the <code>&lt;Border&gt;</code> <em>inside</em> the button.  This can be done by nesting styles, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;Grid&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Grid.Resources&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;Style</span> <span style="color:#a6e22e">TargetType=</span><span style="color:#e6db74">&#34;Button&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;Style.Resources&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;Style</span> <span style="color:#a6e22e">TargetType=</span><span style="color:#e6db74">&#34;Border&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;CornerRadius&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;25&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;/Style&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;/Style.Resources&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/Style&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/Grid.Resources&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button&gt;</span>I have rounded corners now!<span style="color:#f92672">&lt;/Button&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/Grid&gt;</span></span></span></code></pre></div><p>Note how the <code>&lt;Style&gt;</code> targeting the <code>&lt;Border&gt;</code> is <em>nested inside the <code>Resources</code></em> of the <code>&lt;Style&gt;</code> targeting the <code>&lt;Button&gt;</code>?  This means that the style rules for the <code>&lt;Border&gt;</code> will only be applied to <code>&lt;Border&gt;</code> elements that are part of a <code>&lt;Button&gt;</code>.</p>
<h3 id="templates">Templates</h3>
<p>Above I listed a simplified version of the XAML used to create a button.  The full listing can be found <a href="https://docs.microsoft.com/en-us/dotnet/desktop/wpf/controls/button-styles-and-templates?view=netframeworkdesktop-4.8#button-controltemplate-example" target="_blank">in the Microsoft Documentation</a></p>
<p>What&rsquo;s more, you can <em>replace</em> this standard rendering in your controls by replacing the <code>Template</code> property.  For example, we could replace our button with a super-simple rounded <code>&lt;Border&gt;</code> that nested a <code>&lt;TextBlock&gt;</code> that does word-wrapping of the button content:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;Button&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Button.Template&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;ControlTemplate&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;Border</span> <span style="color:#a6e22e">CornerRadius=</span><span style="color:#e6db74">&#34;25&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;TextBlock</span> <span style="color:#a6e22e">TextWrapping=</span><span style="color:#e6db74">&#34;Wrap&#34;</span><span style="color:#f92672">&gt;</span>  
</span></span><span style="display:flex;"><span>                    <span style="color:#f92672">&lt;ContentPresenter</span> <span style="color:#a6e22e">Margin=</span><span style="color:#e6db74">&#34;2&#34;</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#a6e22e">HorizontalAlignment=</span><span style="color:#e6db74">&#34;Center&#34;</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#a6e22e">VerticalAlignment=</span><span style="color:#e6db74">&#34;Center&#34;</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#a6e22e">RecognizesAccessKey=</span><span style="color:#e6db74">&#34;True&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;/TextBlock&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;/Border&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/ControlTemplate&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/Button.ControlTemplate&gt;</span>
</span></span><span style="display:flex;"><span>    This is a simple button!
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/Button&gt;</span></span></span></code></pre></div><p>The <code>&lt;ContentPresenter&gt;</code> is what presents the <em>content</em> nested inside the button - in this case, the text <code>This is a simple button!</code>.  Of course, this super-simple button will not change its appearance when you hover over it or click it, or when it is disabled.  But it helps convey the idea of a <code>&lt;ControlTemplate&gt;</code>.  As with any other property, you can also set the <code>Template</code> property of a control using a <code>&lt;Setter&gt;</code> within a <code>&lt;Style&gt;</code> targeting that element.</p>
<p>If you only need a simple tweak - like applying word-wrapping to the text of a button, it often makes more sense to supply as content a control that will do so, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>&lt;Button&gt;
</span></span><span style="display:flex;"><span>    &lt;TextBlock TextWrapping=<span style="color:#e6db74">&#34;Wrap&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        I also wrap text!
</span></span><span style="display:flex;"><span>    &lt;/TextBlock&gt;
</span></span><span style="display:flex;"><span>&lt;/Button&gt;</span></span></code></pre></div><p>This allows the <code>&lt;Button&gt;</code> to continue to use the default <code>ControlTemplate</code> while providing the desired word-wrapping with a minimum of extra code.</p>
<p>A similar idea appears with <code>&lt;DataTemplate&gt;</code>, which allows you to customize how bound data is displayed in a control.  For example, we often want to display the items in a <code>&lt;ListBox&gt;</code> in a different way than the default (a <code>&lt;TextBlock&gt;</code> with minimal styling).  We&rsquo;ll visit this in the upcoming <a href="https://ksu-cs-textbooks.github.io/cis400/2-desktop-development/04-data-binding/04-binding-lists/" target="_blank">binding lists</a>
 section.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="summary">Summary</h1>

<p>In this chapter, we saw how WPF applications are organized into a tree of controls.  Moreover, we discussed how WPF uses this tree to perform its layout and rendering calculations.  We also saw how we can traverse this tree in our programs to find parent or child elements of a specific type.</p>
<p>In addition, we saw how declaring <em>resources</em> at a specific point in the tree makes them available to all elements descended from that node.  The resources we looked at included <code>&lt;Style&gt;</code> elements, which allow us to declare setters for properties of a specific type of element, to apply consistent styling rules.</p>
<p>We also saw how we could declare resources with a <code>x:Key</code> property, and bind them as static resources to use in our controls - including strings and other common types.  Building on that idea, we saw how we could embed images and other media files as resources.</p>
<p>We also explored how <code>&lt;ControlTemplates&gt;</code> are used to compose complex controls from simpler controls, and make it possible to swap out that implementation for a custom one.  We also briefly discussed when it may make more sense to compose the <em>content</em> of a control differently to get the same effect.</p>
<p>When we explore events and data binding in later chapters, we will see how these concepts <em>also</em> interact with the element tree in novel ways.</p>

            <footer class="footline">

            </footer>
          </article>

          </section>

        </div>
      </main>
    
<div class="git-footer">
<p class="theme-version-footer">5.18.0</p>
<p>Last modified by: 
            <i class='fas fa-user'></i> Russell Feldhausen
            <i class='fas fa-calendar'></i> <a href="https://gitlab.cs.ksu.edu/cs-textbooks/cis400-textbook/-/commit/681e5c9c43e3ac6de614c2cc74487702fd43cab7">Aug 10, 2023</a>
</p>
</div>

    
    </div>
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/clipboard.min.js?1695143865" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/perfect-scrollbar.min.js?1695143865" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/theme.js?1695143865" defer></script>
  </body>
</html>
