<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content='To create a new WPF control from within Visual Studio, we usually choose ‚ÄúAdd > User Control (WPF‚Ä¶)‚Äù from the solution context menu.
This creates two files, the [filename].xaml:
<UserControl x:Class="WpfApp1.UserControl1" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:local="clr-namespace:WpfApp1" mc:Ignorable="d" d:DesignHeight="100" d:DesignWidth="400"> <Grid> </Grid> </UserControl>and the codebehind for that XAML file, [filename].xaml.cs (where [filename] is the name you supplied):
using System; using System.Collections.Generic; using System.Collections.ObjectModel; using System.Text; using System.Windows; using System.Windows.Controls; using System.Windows.Data; using System.'><meta name=author content="Nathan Bean"><meta name=twitter:card content="summary"><meta name=twitter:title content="Editing WPF Controls :: K-State CIS 400 Textbook"><meta name=twitter:description content='To create a new WPF control from within Visual Studio, we usually choose ‚ÄúAdd > User Control (WPF‚Ä¶)‚Äù from the solution context menu.
This creates two files, the [filename].xaml:
<UserControl x:Class="WpfApp1.UserControl1" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:local="clr-namespace:WpfApp1" mc:Ignorable="d" d:DesignHeight="100" d:DesignWidth="400"> <Grid> </Grid> </UserControl>and the codebehind for that XAML file, [filename].xaml.cs (where [filename] is the name you supplied):
using System; using System.Collections.Generic; using System.Collections.ObjectModel; using System.Text; using System.Windows; using System.Windows.Controls; using System.Windows.Data; using System.'><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis400/2-desktop-development/01-wpf/07-editing/"><meta property="og:site_name" content="K-State CIS 400 Textbook"><meta property="og:title" content="Editing WPF Controls :: K-State CIS 400 Textbook"><meta property="og:description" content='To create a new WPF control from within Visual Studio, we usually choose ‚ÄúAdd > User Control (WPF‚Ä¶)‚Äù from the solution context menu.
This creates two files, the [filename].xaml:
<UserControl x:Class="WpfApp1.UserControl1" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:local="clr-namespace:WpfApp1" mc:Ignorable="d" d:DesignHeight="100" d:DesignWidth="400"> <Grid> </Grid> </UserControl>and the codebehind for that XAML file, [filename].xaml.cs (where [filename] is the name you supplied):
using System; using System.Collections.Generic; using System.Collections.ObjectModel; using System.Text; using System.Windows; using System.Windows.Controls; using System.Windows.Data; using System.'><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Desktop Development"><meta property="article:published_time" content="2018-08-24T10:53:26-05:00"><meta property="article:modified_time" content="2022-08-09T15:47:29-05:00"><meta itemprop=name content="Editing WPF Controls :: K-State CIS 400 Textbook"><meta itemprop=description content='To create a new WPF control from within Visual Studio, we usually choose ‚ÄúAdd > User Control (WPF‚Ä¶)‚Äù from the solution context menu.
This creates two files, the [filename].xaml:
<UserControl x:Class="WpfApp1.UserControl1" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:local="clr-namespace:WpfApp1" mc:Ignorable="d" d:DesignHeight="100" d:DesignWidth="400"> <Grid> </Grid> </UserControl>and the codebehind for that XAML file, [filename].xaml.cs (where [filename] is the name you supplied):
using System; using System.Collections.Generic; using System.Collections.ObjectModel; using System.Text; using System.Windows; using System.Windows.Controls; using System.Windows.Data; using System.'><meta itemprop=datePublished content="2018-08-24T10:53:26-05:00"><meta itemprop=dateModified content="2022-08-09T15:47:29-05:00"><meta itemprop=wordCount content="706"><title>Editing WPF Controls :: K-State CIS 400 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis400/2-desktop-development/01-wpf/07-editing/ rel=canonical type=text/html title="Editing WPF Controls :: K-State CIS 400 Textbook"><link href=/cis400/2-desktop-development/01-wpf/07-editing/index.xml rel=alternate type=application/rss+xml title="Editing WPF Controls :: K-State CIS 400 Textbook"><link href=/cis400/2-desktop-development/01-wpf/07-editing/tele.html rel=alternate type=text/html title="Editing WPF Controls :: K-State CIS 400 Textbook"><link href=/cis400/2-desktop-development/01-wpf/07-editing/embed.html rel=alternate type=text/html title="Editing WPF Controls :: K-State CIS 400 Textbook"><link href=/cis400/css/fontawesome-all.min.css?1724766100 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/fontawesome-all.min.css?1724766100 rel=stylesheet></noscript><link href=/cis400/css/nucleus.css?1724766100 rel=stylesheet><link href=/cis400/css/auto-complete.css?1724766100 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/auto-complete.css?1724766100 rel=stylesheet></noscript><link href=/cis400/css/perfect-scrollbar.min.css?1724766100 rel=stylesheet><link href=/cis400/css/fonts.css?1724766100 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/fonts.css?1724766100 rel=stylesheet></noscript><link href=/cis400/css/theme.css?1724766100 rel=stylesheet><link href=/cis400/css/theme-auto.css?1724766100 rel=stylesheet id=R-variant-style><link href=/cis400/css/chroma-auto.css?1724766100 rel=stylesheet id=R-variant-chroma-style><link href=/cis400/css/variant.css?1724766100 rel=stylesheet><link href=/cis400/css/print.css?1724766100 rel=stylesheet media=print><link href=/cis400/css/format-print.css?1724766100 rel=stylesheet><script src=/cis400/js/variant.js?1724766100></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis400",window.index_js_url="/cis400/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis400/css/custom.css?1724766100 rel=stylesheet></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=/cis400/2-desktop-development/01-wpf/07-editing/><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/cis400/2-desktop-development/><span itemprop=name>Desktop Development</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/cis400/2-desktop-development/01-wpf/><span itemprop=name>Windows Presentation Foundation</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Editing WPF Controls</span><meta itemprop=position content="3"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis400/2-desktop-development/01-wpf/06-control-properties/ title="Control Properties (ü°ê)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis400/2-desktop-development/01-wpf/08-component-based-design/ title="Component-Based Design (ü°í)"><i class="fa-fw fas fa-chevron-right"></i></a></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=editing-wpf-controls>Editing WPF Controls</h1><p>To create a new WPF control from within Visual Studio, we usually choose <strong>&ldquo;Add > User Control (WPF&mldr;)&rdquo;</strong> from the solution context menu.</p><p><a href=#R-image-5e5a57a642cfaba0990968f9de6c49ca class=lightbox-link><img alt="Adding a UserControl in Visual Studio" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.7.1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-5e5a57a642cfaba0990968f9de6c49ca><img alt="Adding a UserControl in Visual Studio" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.7.1.png></a></p><p>This creates two files, the <em>[filename].xaml</em>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;UserControl</span> <span class=na>x:Class=</span><span class=s>&#34;WpfApp1.UserControl1&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:x=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:mc=</span><span class=s>&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>xmlns:d=</span><span class=s>&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>xmlns:local=</span><span class=s>&#34;clr-namespace:WpfApp1&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>mc:Ignorable=</span><span class=s>&#34;d&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>d:DesignHeight=</span><span class=s>&#34;100&#34;</span> <span class=na>d:DesignWidth=</span><span class=s>&#34;400&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Grid&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/UserControl&gt;</span></span></span></code></pre></div><p>and the codebehind for that XAML file, <em>[filename].xaml.cs</em> (where [filename] is the name you supplied):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>using</span> <span class=nn>System</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Collections.Generic</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Collections.ObjectModel</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Text</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows.Controls</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows.Data</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows.Documents</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows.Input</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows.Media</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows.Media.Imaging</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows.Navigation</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows.Shapes</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>namespace</span> <span class=nn>WpfApp1</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Interaction logic for UserControl1.xaml</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>partial</span> <span class=k>class</span> <span class=nc>UserControl1</span> <span class=p>:</span> <span class=n>UserControl</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=n>UserControl1</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>InitializeComponent</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>As was mentioned previously, the <code>InitializeComponent()</code> call in the constructor is what builds the structure specified in the XAML file to the object, so it should not be removed, nor should any manipulation of that structure be done before this method invocation.</p><div class="box notices cstyle tip"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Tip</div><div class=box-content><p>Most custom controls are subclasses of the <code>UserControl</code> class, and choosing this option has Visual Studio create the boilerplate for us. However, if you need to extend a <em>specific</em> control, i.e. a <code>ListView</code>, it is often easiest to start with a <code>UserControl</code> made this way, and then change the base class to <code>ListView</code> in the <em>[filename].xaml.cs</em> file, as well as changing the <code>&lt;UserControl></code> element to a <code>&lt;ListView></code> element in the <em>[filename].xaml</em>.</p></div></div><h3 id=namespaces-and-assemblies>Namespaces and Assemblies</h3><p>Also, notice how the attributes of the control in the XAML file contain a <em>local</em> namespace:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl> xmlns:local=&#34;clr-namespace:WpfApp1&#34;</span></span></code></pre></div><p>This is the equivalent of a <code>using</code> statement for XAML; it creates the <code>local</code> namespace and ties it to the project&rsquo;s primary namespace. We can then create an element corresponding to any class in that namespace. Let&rsquo;s say we have another custom control, <code>ThingAMaJig</code> that we want to utilize in this control. We can use the element notation to add it to our grid:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl>    <span class=nt>&lt;Grid&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;local:ThingAMaJig&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid&gt;</span></span></span></code></pre></div><p>Note that we must preface the class name in the element with the <code>local</code> namespace, with a colon (<code>:</code>) separating the two.</p><p>We can also add additional namespace statements. For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl>xmlns:system=&#34;clr-namespace:System;assembly=mscorlib&#34;</span></span></code></pre></div><p>This brings in the <code>System</code> namespace, so now we can use the classes and types defined there, i.e <code>String</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;system:String&gt;</span>Hello World!<span class=nt>&lt;/system:String&gt;</span></span></span></code></pre></div><p>Note that for the namespace attribute, we also included the assembly information. This is necessary for any assemblies that are not defined by this project (i.e. exist in their own DLL files).</p><h3 id=the-wpf-editor>The WPF Editor</h3><p>In Visual Studio, opening a WPF XAML file will open a special editor that provides a side-by-side visual and XAML code editors for the control:</p><p><a href=#R-image-6e2f450e084e5db4d4916729a2a09fba class=lightbox-link><img alt="The Visual Studio WPF XAML Editor" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.7.2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6e2f450e084e5db4d4916729a2a09fba><img alt="The Visual Studio WPF XAML Editor" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.7.2.png></a></p><p>As you edit the XAML, it also updates the visualization in the visual editor. Also, many element properties can be edited from the visual editor or the properties pane - and these changes are automatically applied to the XAML. And, just like with Windows Forms, you can drag controls from the toolbox into the visualization to add them to the layout.</p><p>However, you will likely find yourselves often directly editing the XAML. This is often the fastest and most foolproof way of editing WPF controls. Remember that in WPF controls resize to fit the available space, and are not positioned by coordinates. For this reason, the visual editor will actually apply <em>margins</em> instead of positioning elements, which can cause unexpected results if your application is viewed at a different resolution (including some controls being inaccessible as they are covered by other controls).</p><p>A couple of buttons in the editor deserve some closer attention:</p><p><a href=#R-image-48e994e61bf5fa572c1cb6f0384aff97 class=lightbox-link><img alt="Visual Studio WPF XAML Editor Button Detail 1" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.7.3.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-48e994e61bf5fa572c1cb6f0384aff97><img alt="Visual Studio WPF XAML Editor Button Detail 1" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.7.3.png></a></p><ol><li>The zoom factor in the design editor</li><li>Refreshes the design editor - sometimes it hangs on re-rendering, and you need to click this.</li><li>Toggles rendering effects (These use the graphics hardware, and can be computationally involved. Turning them off can improve performance on weaker machines)</li><li>Toggles the snap grid (provides grid lines for easier layout)</li><li>Toggles snap-to-grid</li><li>Toggles the artboard background (which provides a checkered background to make it easier to judge what is transparent)</li><li>Toggles snapping to snap lines (those lines that appear between controls to help you align them)</li><li>Toggles showing platform-only vs. all controls (for when targeting multiple platforms)</li></ol><p><a href=#R-image-a9d403997ba9dbd7762504a0c3a91d4c class=lightbox-link><img alt="Visual Studio WPF XAML Editor Button Detail 2" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.7.4.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a9d403997ba9dbd7762504a0c3a91d4c><img alt="Visual Studio WPF XAML Editor Button Detail 2" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.7.4.png></a></p><ol start=9><li>Switches to a vertical split between the design editor and XAML editor</li><li>Switches to a horizontal split between the design editor and XAML editor</li><li>Switches to showing only the design editor or XAML editor</li></ol><footer class=footline></footer></article></div></main><div class=git-footer><p class=theme-version-footer>6.0.0</p><p>Last modified by:
<i class='fas fa-user'></i> Nathan Bean
<i class='fas fa-calendar'></i> <a href=https://github.com/ksu-cs-textbooks/cis400/commit/8e4c09032549d7f95f6dabd334b917659ca17e78>Aug 9, 2022</a></p></div></div><script src=/cis400/js/clipboard.min.js?1724766100 defer></script><script src=/cis400/js/perfect-scrollbar.min.js?1724766100 defer></script><script src=/cis400/js/theme.js?1724766100 defer></script></body></html>