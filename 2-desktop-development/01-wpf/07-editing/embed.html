




	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		

	
	
		

	
	
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="K-State CIS 400 Textbook">
    <meta name="author" content="Nathan Bean">
    <title>Editing WPF Controls :: K-State CIS 400 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cis400/2-desktop-development/01-wpf/07-editing/index.html" rel="canonical" type="text/html" title="Editing WPF Controls :: K-State CIS 400 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis400/2-desktop-development/01-wpf/07-editing/index.xml" rel="alternate" type="application/rss+xml" title="Editing WPF Controls :: K-State CIS 400 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis400/2-desktop-development/01-wpf/07-editing/index.print.html" rel="alternate" type="text/html" title="Editing WPF Controls :: K-State CIS 400 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis400/2-desktop-development/01-wpf/07-editing/tele.html" rel="alternate" type="text/html" title="Editing WPF Controls :: K-State CIS 400 Textbook">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/fontawesome-all.min.css?1692386520" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis400/css/fontawesome-all.min.css?1692386520" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/nucleus.css?1692386520" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/auto-complete.css?1692386520" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis400/css/auto-complete.css?1692386520" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/perfect-scrollbar.min.css?1692386520" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/fonts.css?1692386520" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis400/css/fonts.css?1692386520" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/theme.css?1692386520" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/theme-auto.css?1692386520" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/variant.css?1692386520" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/print.css?1692386520" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/ie.css?1692386520" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/url.js?1692386520"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/variant.js?1692386520"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cis400/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cis400/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cis400/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/custom.css?1692386520" rel="stylesheet">

  </head>
  <body class="mobile-support embed disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cis400/2-desktop-development/01-wpf/07-editing/embed.html">
    <div id="body" class="default-animation">
      
      
      
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
    
    
    
<p>To create a new WPF control from within Visual Studio, we usually choose <strong>&ldquo;Add &gt; User Control (WPF&hellip;)&rdquo;</strong> from the solution context menu.</p>
<p>
<a href="#image-13098546c280cac945711510bcfc6f69" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.1.7.1.png" alt="Adding a UserControl in Visual Studio" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-13098546c280cac945711510bcfc6f69">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.1.7.1.png" alt="Adding a UserControl in Visual Studio" class="lightbox-image" loading="lazy">
</a></p>
<p>This creates two files, the <em>[filename].xaml</em>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;UserControl</span> <span style="color:#a6e22e">x:Class=</span><span style="color:#e6db74">&#34;WpfApp1.UserControl1&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns:x=</span><span style="color:#e6db74">&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns:mc=</span><span style="color:#e6db74">&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns:d=</span><span style="color:#e6db74">&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">xmlns:local=</span><span style="color:#e6db74">&#34;clr-namespace:WpfApp1&#34;</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">mc:Ignorable=</span><span style="color:#e6db74">&#34;d&#34;</span> 
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">d:DesignHeight=</span><span style="color:#e6db74">&#34;100&#34;</span> <span style="color:#a6e22e">d:DesignWidth=</span><span style="color:#e6db74">&#34;400&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Grid&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/Grid&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/UserControl&gt;</span></span></span></code></pre></div><p>and the codebehind for that XAML file, <em>[filename].xaml.cs</em> (where [filename] is the name you supplied):</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Collections.Generic;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Collections.ObjectModel;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Text;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Windows;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Windows.Controls;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Windows.Data;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Windows.Documents;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Windows.Input;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Windows.Media;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Windows.Media.Imaging;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Windows.Navigation;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Windows.Shapes;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> WpfApp1
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Interaction logic for UserControl1.xaml</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">partial</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">UserControl1</span> : UserControl
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">public</span> UserControl1()
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            InitializeComponent();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>As was mentioned previously, the <code>InitializeComponent()</code> call in the constructor is what builds the structure specified in the XAML file to the object, so it should not be removed, nor should any manipulation of that structure be done before this method invocation.</p>

  
  
<div class="box notices cstyle tip">
  <div class="box-label"><i class="fa-fw fas fa-lightbulb"></i> Tip</div>
  <div class="box-content">

<p>Most custom controls are subclasses of the <code>UserControl</code> class, and choosing this option has Visual Studio create the boilerplate for us.  However, if you need to extend a <em>specific</em> control, i.e. a <code>ListView</code>, it is often easiest to start with a <code>UserControl</code> made this way, and then change the base class to <code>ListView</code> in the <em>[filename].xaml.cs</em> file, as well as changing the <code>&lt;UserControl&gt;</code> element to a <code>&lt;ListView&gt;</code> element in the <em>[filename].xaml</em>.</p>
</div>
</div>
<h3 id="namespaces-and-assemblies">Namespaces and Assemblies</h3>
<p>Also, notice how the attributes of the control in the XAML file contain a <em>local</em> namespace:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span> xmlns:local=&#34;clr-namespace:WpfApp1&#34;</span></span></code></pre></div><p>This is the equivalent of a <code>using</code> statement for XAML; it creates the <code>local</code> namespace and ties it to the project&rsquo;s primary namespace. We can then create an element corresponding to any class in that namespace.  Let&rsquo;s say we have another custom control, <code>ThingAMaJig</code> that we want to utilize in this control.  We can use the element notation to add it to our grid:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    <span style="color:#f92672">&lt;Grid&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;local:ThingAMaJig&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/Grid&gt;</span></span></span></code></pre></div><p>Note that we must preface the class name in the element with the <code>local</code> namespace, with a colon (<code>:</code>) separating the two.</p>
<p>We can also add additional namespace statements.  For example:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>xmlns:system=&#34;clr-namespace:System;assembly=mscorlib&#34;</span></span></code></pre></div><p>This brings in the <code>System</code> namespace, so now we can use the classes and types defined there, i.e <code>String</code>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;system:String&gt;</span>Hello World!<span style="color:#f92672">&lt;/system:String&gt;</span></span></span></code></pre></div><p>Note that for the namespace attribute, we also included the assembly information.  This is necessary for any assemblies that are not defined by this project (i.e. exist in their own DLL files).</p>
<h3 id="the-wpf-editor">The WPF Editor</h3>
<p>In Visual Studio, opening a WPF XAML file will open a special editor that provides a side-by-side visual and XAML code editors for the control:</p>
<p>
<a href="#image-9a3c2b6d5a02f07ebf2c1569338300c2" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.1.7.2.png" alt="The Visual Studio WPF XAML Editor" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-9a3c2b6d5a02f07ebf2c1569338300c2">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.1.7.2.png" alt="The Visual Studio WPF XAML Editor" class="lightbox-image" loading="lazy">
</a></p>
<p>As you edit the XAML, it also updates the visualization in the visual editor.  Also, many element properties can be edited from the visual editor or the properties pane - and these changes are automatically applied to the XAML. And, just like with Windows Forms, you can drag controls from the toolbox into the visualization to add them to the layout.</p>
<p>However, you will likely find yourselves often directly editing the XAML. This is often the fastest and most foolproof way of editing WPF controls.  Remember that in WPF controls resize to fit the available space, and are not positioned by coordinates.  For this reason, the visual editor will actually apply <em>margins</em> instead of positioning elements, which can cause unexpected results if your application is viewed at a different resolution (including some controls being inaccessible as they are covered by other controls).</p>
<p>A couple of buttons in the editor deserve some closer attention:</p>
<p>
<a href="#image-16fbb999fdabcf5102e7a39d5cd1dbde" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.1.7.3.png" alt="Visual Studio WPF XAML Editor Button Detail 1" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-16fbb999fdabcf5102e7a39d5cd1dbde">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.1.7.3.png" alt="Visual Studio WPF XAML Editor Button Detail 1" class="lightbox-image" loading="lazy">
</a></p>
<ol>
<li>The zoom factor in the design editor</li>
<li>Refreshes the design editor - sometimes it hangs on re-rendering, and you need to click this.</li>
<li>Toggles rendering effects (These use the graphics hardware, and can be computationally involved. Turning them off can improve performance on weaker machines)</li>
<li>Toggles the snap grid (provides grid lines for easier layout)</li>
<li>Toggles snap-to-grid</li>
<li>Toggles the artboard background (which provides a checkered background to make it easier to judge what is transparent)</li>
<li>Toggles snapping to snap lines (those lines that appear between controls to help you align them)</li>
<li>Toggles showing platform-only vs. all controls (for when targeting multiple platforms)</li>
</ol>
<p>
<a href="#image-d4977728de652801cd455a09fbc57742" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.1.7.4.png" alt="Visual Studio WPF XAML Editor Button Detail 2" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-d4977728de652801cd455a09fbc57742">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.1.7.4.png" alt="Visual Studio WPF XAML Editor Button Detail 2" class="lightbox-image" loading="lazy">
</a></p>
<ol start="9">
<li>Switches to a vertical split between the design editor and XAML editor</li>
<li>Switches to a horizontal split between the design editor and XAML editor</li>
<li>Switches to showing only the design editor or XAML editor</li>
</ol>

            <footer class="footline">

            </footer>
          </article>
        </div>
      </main>
    </div>
    
    
    
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/clipboard.min.js?1692386522" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/perfect-scrollbar.min.js?1692386522" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/theme.js?1692386522" defer></script>
  </body>
</html>
