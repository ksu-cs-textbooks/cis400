<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="Some clever statement…"><meta name=author content="Nathan Bean"><meta name=twitter:card content="summary"><meta name=twitter:title content="Windows Presentation Foundation :: K-State CIS 400 Textbook"><meta name=twitter:description content="Some clever statement…"><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis400/2-desktop-development/01-wpf/"><meta property="og:site_name" content="K-State CIS 400 Textbook"><meta property="og:title" content="Windows Presentation Foundation :: K-State CIS 400 Textbook"><meta property="og:description" content="Some clever statement…"><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta itemprop=name content="Windows Presentation Foundation :: K-State CIS 400 Textbook"><meta itemprop=description content="Some clever statement…"><meta itemprop=datePublished content="2018-08-24T10:53:05-05:00"><meta itemprop=dateModified content="2023-08-10T15:29:34-05:00"><meta itemprop=wordCount content="3"><title>Windows Presentation Foundation :: K-State CIS 400 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis400/2-desktop-development/01-wpf/ rel=canonical type=text/html title="Windows Presentation Foundation :: K-State CIS 400 Textbook"><link href=/cis400/2-desktop-development/01-wpf/index.xml rel=alternate type=application/rss+xml title="Windows Presentation Foundation :: K-State CIS 400 Textbook"><link href=/cis400/2-desktop-development/01-wpf/tele.html rel=alternate type=text/html title="Windows Presentation Foundation :: K-State CIS 400 Textbook"><link href=/cis400/2-desktop-development/01-wpf/embed.html rel=alternate type=text/html title="Windows Presentation Foundation :: K-State CIS 400 Textbook"><link href=/cis400/css/fontawesome-all.min.css?1733760445 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/fontawesome-all.min.css?1733760445 rel=stylesheet></noscript><link href=/cis400/css/nucleus.css?1733760445 rel=stylesheet><link href=/cis400/css/auto-complete.css?1733760445 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/auto-complete.css?1733760445 rel=stylesheet></noscript><link href=/cis400/css/perfect-scrollbar.min.css?1733760445 rel=stylesheet><link href=/cis400/css/fonts.css?1733760445 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/fonts.css?1733760445 rel=stylesheet></noscript><link href=/cis400/css/theme.css?1733760445 rel=stylesheet><link href=/cis400/css/theme-auto.css?1733760445 rel=stylesheet id=R-variant-style><link href=/cis400/css/chroma-auto.css?1733760445 rel=stylesheet id=R-variant-chroma-style><link href=/cis400/css/variant.css?1733760445 rel=stylesheet><link href=/cis400/css/print.css?1733760445 rel=stylesheet media=print><link href=/cis400/css/format-print.css?1733760445 rel=stylesheet><script src=/cis400/js/variant.js?1733760445></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis400",window.index_js_url="/cis400/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis400/css/custom.css?1733760445 rel=stylesheet></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=/cis400/2-desktop-development/01-wpf/><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/cis400/2-desktop-development/><span itemprop=name>Desktop Development</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Windows Presentation Foundation</span><meta itemprop=position content="2"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis400/2-desktop-development/ title="Desktop Development (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis400/2-desktop-development/01-wpf/01-introduction/ title="Introduction (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable chapter narrow" tabindex=-1><div class=flex-block-wrapper><article class=chapter><header class=headline></header><div class=article-subheading>Chapter 1</div><h1 id=windows-presentation-foundation>Windows Presentation Foundation</h1><p>Some clever statement&mldr;</p><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of Windows Presentation Foundation</h1><article class=default><header class=headline></header><h1 id=introduction>Introduction</h1><p>Windows Presentation Foundation (WPF) is a open-source system for rendering Windows application user interfaces. It was released as part of the .NET framework in 2006. In many ways, it is intended to be a successor to Windows Forms. This chapter will examine the basics of working with WPF in detail.</p><h2 id=key-terms>Key Terms</h2><p>Some key terms to learn in this chapter are:</p><ul><li>Graphical User Interface (GUI)</li><li>Windows Presentation Foundation (WPF)</li><li>Extensible Application Markup Language (XAML)</li><li>Codebehind</li><li>Layouts</li><li>Controls</li><li>Component-Based Design</li><li>Composition</li></ul><h2 id=key-skills>Key Skills</h2><p>The key skill to learn in this chapter is how to use C# and XAML to develop WPF user interfaces that adapt to device screen dimensions.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=wpf-features>WPF Features</h1><p>Windows Presentation Foundation is a library and toolkit for creating Graphical User Interfaces - a user interface that is presented as a combination of interactive graphical and text elements commonly including buttons, menus, and various flavors of editors and inputs. GUIs represent a major step forward in usability from earlier programs that were interacted with by typing commands into a text-based terminal (the EPIC software we looked at in the beginning of this textbook is an example of this earlier form of user interface).</p><p>You might be wondering why Microsoft introduced WPF when it already had support for creating GUIs in its earlier Windows Forms product. In part, this decision was driven by the evolution of computing technology.</p><h3 id=screen-resolution-and-aspect-ratio>Screen Resolution and Aspect Ratio</h3><p>No doubt you are used to having a wide variety of screen resolutions available across a plethora of devices. But this was not always the case. Computer monitors once came in very specific, standardized resolutions, and only gradually were these replaced by newer, higher-resolution monitors. The table below summarizes this time, indicating the approximate period each resolution dominated the market.</p><table><tr><th>Standard</th><th>Size</th><th>Peak Years</th></tr><tr><td>VGA</td><td>640x480</td><td>1987-1990</td></tr><tr><td>SVGA</td><td>800x600</td><td>1990-2003</td></tr><tr><td>XGA</td><td>1024x768</td><td>2007-2015</td></tr></table><p>Windows Forms was introduced in the early 2000&rsquo;s, at a time where the most popular screen resolution in the United States was transitioning from SVGA to XGA, and screen resolutions (especially for business computers running Windows) had remained remarkably consistent for long periods. Moreover, these resolutions were all using the 4:3 aspect ratio (the ratio of width to height of the screen). Hence, the developers of Windows forms did not consider the need to support vastly different screen resolutions and aspect ratios. Contrast that with trends since that time:</p><p><a href=#R-image-8695212d3ab5108b51c288afef65dfdb class=lightbox-link><img alt="Screen Resolutions in US from 2009-2020" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.2.1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8695212d3ab5108b51c288afef65dfdb><img alt="Screen Resolutions in US from 2009-2020" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.2.1.png></a></p><p>There is no longer a clearly dominating resolution, nor even an aspect ratio! Thus, it has become increasingly important for Windows applications to adapt to different screen resolutions. Windows Forms does not do this easily - each element in a Windows Forms application has a statically defined width and height, as well as its position in the window. Altering these values in response to different screen resolution requires significant calculations to resize and reposition the elements, and the code to perform these calculations must be written by the programmer.</p><p>In contrast, WPF adopts a multi-pass layout mechanism similar to that of a web browser, where it calculates the necessary space for each element within the GUI, then adapts the layout based on the actual space. With careful design, the need for writing code to position and size elements is eliminated, and the resulting GUIs adapt well to the wide range of available screen sizes.</p><h3 id=direct3d-and-hardware-graphics-acceleration>Direct3D and Hardware Graphics Acceleration</h3><p>Another major technology shift was the widespread adoption of hardware-accelerated 3D graphics. In the 1990&rsquo;s this technology was limited to computers built specifically for playing video games, 3D modeling, video composition, or other graphics-intensive tasks. But by 2006, this hardware had become so widely accepted that with Windows Vista, Microsoft redesigned the Windows kernel to leverage this technology to take on the task of rendering windows applications.</p><p>WPF leveraged this decision and offloads much of the rendering work to the graphics hardware. This meant that WPF controls could be vector-based, instead of the raster-based approach adopted by Windows Forms. Vector-based rendering means the image to be drawn on-screen is created from instructions as needed, rather than copied from a bitmap. This allows controls to look as sharp when scaled to different screen resolutions or enhanced by software intended to support low-vision users. Raster graphics scaled the same way will look pixelated and jagged.</p><p>Leveraging the power of hardware accelerated graphics also allowed for the use of more powerful animations and transitions, as well as freeing up the CPU for other tasks. It also simplifies the use of 3D graphics in windows applications. WPF also leveraged this power to provide a rich storyboarding and animation system as well as inbuilt support for multimedia. In contrast, Windows Forms applications are completely rendered using the CPU and offer only limited support for animations and multimedia resources.</p><h3 id=customizable-styling-and-template-system>Customizable Styling and Template System</h3><p>One additional shift is that Windows forms leverage controls built around graphical representations provided directly by the hosting Windows operating system. This helped keep windows applications looking and feeling like the operating system they were deployed on, but limits the customizability of the controls. A commonly attempted feature - placing an image on a button - becomes an onerous task within Windows Forms. Attempting to customize controls often required the programmer to take over the rendering work entirely, providing the commands to render the raw shapes of the control directly onto the control&rsquo;s canvas. Unsurprisingly, an entire secondary market for pre-developed custom controls emerged to help counter this issue.</p><p>In contrast, WPF separated control rendering from windows subsystems, and implemented a declarative style of defining user interfaces using Extensible Application Markup Language (XAML). This provides the programmer complete control over how controls are rendered, and multiple mechanisms of increasing complexity to accomplish this. Style properties can be set on individual controls, or bundled into &ldquo;stylesheets&rdquo; and applied en-masse. Further, each control&rsquo;s default style is determined by a template that can be replaced with a custom implementation, completely altering the appearance of a control.</p><p>This is just the tip of the iceberg - WPF also features a new and robust approach to data binding that will be subject of its own chapter, and allows for UI to be completely separated from logic, allowing for more thorough unit testing of application code.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=xaml>XAML</h1><p>Windows Presentation Foundation builds upon Extensible Application Markup Language (XAML), an extension of the XML language we&rsquo;ve discussed previously. Just like XML, it consists of elements defined by opening and closing tags.</p><p>For example, a button is represented by:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Button&gt;&lt;/Button&gt;</span></span></span></code></pre></div><p>Which, because it has no children, could also be expressed with a self-closing tag:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Button/&gt;</span></span></span></code></pre></div><p>In addition, elements can have <em>attributes</em>, i.e we could add a height, width, and content to our button:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Button</span> <span class=na>Height=</span><span class=s>&#34;30&#34;</span> <span class=na>Width=</span><span class=s>&#34;120&#34;</span> <span class=na>Content=</span><span class=s>&#34;Click Me!&#34;</span><span class=nt>/&gt;</span></span></span></code></pre></div><p>XAML also offers an <em>expanded</em> property syntax that is an alternative to attributes. For example, we could re-write the above button as:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Button&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;Button.Height&gt;</span>30<span class=nt>&lt;/Button.Height&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;Button.Width&gt;</span>120<span class=nt>&lt;/Button.Width&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;Button.Content&gt;</span>Click Me!<span class=nt>&lt;/Button.Content&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/Button&gt;</span></span></span></code></pre></div><p>Note how we repeat the tag name (<code>Button</code>) and append the attribute name (<code>Height</code>, <code>Width</code>, and <code>Content</code> to it with a period between the two). This differentiates the expanded property from nested elements, i.e. in this XAML code:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Grid&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;Grid.ColumnDefinitions&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;ColumnDefinition</span> <span class=na>Width=</span><span class=s>&#34;200&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;ColumnDefinition</span> <span class=na>Width=</span><span class=s>&#34;200&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;ColumnDefinition</span> <span class=na>Width=</span><span class=s>&#34;200&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;/Grid.ColumnDefinitions&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;Grid.RowDefinitions&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;RowDefinition/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;RowDefinition/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;/Grid.RowDefinitions&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;Button</span> <span class=na>Height=</span><span class=s>&#34;30&#34;</span> <span class=na>Width=</span><span class=s>&#34;120&#34;</span> <span class=na>Content=</span><span class=s>&#34;Click Me!&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/Grid&gt;</span></span></span></code></pre></div><p><code>&lt;Grid.ColumnDefinitions></code> and <code>&lt;Grid.RowDefinitions></code> are attributes of the <code>&lt;Grid></code>, while <code>&lt;Button Height="30" Width="120" Content="Click Me!"/></code> is a child element of the <code>&lt;Grid></code> element.</p><p>Because XAML is an extension of XML, we can add comments the same way, by enclosing the comment within a <code>&lt;!--</code> and <code>--></code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=c>&lt;!-- I am a comment --&gt;</span></span></span></code></pre></div><h2 id=xaml-defines-objects>XAML Defines Objects</h2><p>What makes XAML different from vanilla XML is that <em>it defines objects</em>. The XAML used for Windows Presentation Foundation is drawn from the<div style=display:inline><a href=http://schemas.microsoft.com/winfx/2006/xaml/presentation rel=external target=_blank>http://schemas.microsoft.com/winfx/2006/xaml/presentation</a></div>namespace. This namespace defines exactly what elements exist in this flavor of XAML, and they correspond to specific classes defined in the WPF namespaces.</p><p>For example, the <code>&lt;Button></code> class corresponds to the WPF <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.button?view=netcore-3.1" rel=external target=_blank>Button</a> class. This class has a <code>Content</code> property which defines the text or other content displayed on the button. Additionally, it has a <code>Width</code> and <code>Height</code> property. Thus the XAML:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Button</span> <span class=na>Height=</span><span class=s>&#34;30&#34;</span> <span class=na>Width=</span><span class=s>&#34;120&#34;</span> <span class=na>Content=</span><span class=s>&#34;Click Me!&#34;</span><span class=nt>/&gt;</span></span></span></code></pre></div><p>Effectively says <em>construct an instance of the <code>Button</code> class with its <code>Height</code> property set to 30, its <code>Width</code> property set to 120, and its <code>Content</code> property set to the string <code>"Click Me!"</code></em>. Were we to write the corresponding C# code, it would look like:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl><span class=kt>var</span> <span class=n>button</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Button</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>button</span><span class=p>.</span><span class=n>Height</span> <span class=p>=</span> <span class=m>30</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>button</span><span class=p>.</span><span class=n>Width</span> <span class=p>=</span> <span class=m>120</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>button</span><span class=p>.</span><span class=n>Content</span> <span class=p>=</span> <span class=s>&#34;Click Me!&#34;</span><span class=p>;</span></span></span></code></pre></div><p>This is why XAML stands for Extensible <em>Application</em> Markup Language - it&rsquo;s effectively another way of writing programs! You can find the documentation for all the controls declared in the xaml/presentation namespace on <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls?view=netcore-3.1" rel=external target=_blank>docs.microsoft.com</a>.</p><h2 id=xaml-and-partial-classes>XAML and Partial Classes</h2><p>In addition to being used to define objects, XAML can also be used to define part of a class. Consider this <code>MainWindow</code> XAML code, which is generated by the Visual Studio WPF Project Template:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Window</span> <span class=na>x:Class=</span><span class=s>&#34;WpfApp1.MainWindow&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:x=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:d=</span><span class=s>&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:mc=</span><span class=s>&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:local=</span><span class=s>&#34;clr-namespace:WpfApp1&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>mc:Ignorable=</span><span class=s>&#34;d&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>Title=</span><span class=s>&#34;MainWindow&#34;</span> <span class=na>Height=</span><span class=s>&#34;450&#34;</span> <span class=na>Width=</span><span class=s>&#34;800&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Grid&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/Window&gt;</span></span></span></code></pre></div><p>And its corresponding C# file:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl><span class=k>namespace</span> <span class=nn>WpfApp1</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Interaction logic for MainWindow.xaml</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>partial</span> <span class=k>class</span> <span class=nc>MainWindow</span> <span class=p>:</span> <span class=n>Window</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=n>MainWindow</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>InitializeComponent</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>Notice the use of the <code>partial</code> modifier in the C# code? This indicates that the <code>MainWindow</code> class is only <em>partially</em> defined in this file (<em>MainWindow.xaml.cs</em>) - the rest of the definition exists in another file. That&rsquo;s the previously referenced XAML file (<em>MainWindow.xaml</em>). Notice in the XAML that the <code>&lt;Window></code> element has the attribute <code>x:Class="WpfApp1.MainWindow"</code>? That indicates that it defines part of the class <code>MainWindow</code> defined in the <code>WpfApp1</code> namespace - it&rsquo;s the other part of our file!</p><p>When we compile this project, the XAML is actually transformed into a temporary C# file as part of the build process, and that C# file is joined with the other C# file. This temporary file defines the <code>InitializeComponent()</code> method, which would look something like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C# data-lang=C#><span class=line><span class=cl><span class=k>void</span> <span class=n>InitializeComponent</span><span class=p>()</span> 
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=n>Title</span> <span class=p>=</span> <span class=s>&#34;MainWindow&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=n>Height</span> <span class=p>=</span> <span class=m>450</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=n>Width</span> <span class=p>=</span> <span class=m>800</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kt>var</span> <span class=n>grid</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Grid</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=n>Content</span> <span class=p>=</span> <span class=n>grid</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>Notice how it sets the properties corresponding to the attributes defined on the <code>&lt;MainWindow></code> element? Further, it assigns the child of that element (a <code>&lt;Grid></code> element) as the <code>Content</code> property of the <code>Window</code>. Nested XAML elements are typically assigned to either <code>Content</code> or <code>Children</code> properties, depending on if the element in question is a container element or not (container elements can have multiple children, all other elements are limited to a single child).</p><p>Any structure defined in our XAML is set up during this <code>InitializeComponent()</code> call. This means you should <strong>never remove the <code>InitializeComponent();</code> invocation</strong> from a WPF class, or your XAML-defined content will not be added. Similarly, you should not manipulate that structure until the <code>InitializeComponent();</code> method has been invoked, or the structure will not exist!</p><p>This strategy of splitting GUI code into two files is known in Microsoft parlance as <em>codebehind</em>, and it allows the GUI&rsquo;s visual aspect to be created independently of the code that provides its logic. This approach has been a staple of both Windows Forms and Windows Presentation Foundation. This separation also allows for graphic designers to create the GUI look-and-feel without ever needing to write a line of code. There is a companion application to Visual Studio called <a href=https://en.wikipedia.org/wiki/Microsoft_Blend rel=external target=_blank>Blend</a> that can be used to write the XAML files for a project without needing the full weight and useability of Visual Studio.</p><div class="box notices cstyle tip"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Tip</div><div class=box-content><p>Occasionally, Visual Studio will encounter a problem while building the temporary file from the XAML definition, and the resulting temporary file may become corrupted. When this happens, your changes to the XAML are no longer incorporated into the program when you compile, because the process can&rsquo;t overwrite the corrupted temporary file. Instead, the corrupted temporary file is used - resulting in weird and unexpected behavior. If this happens to you, just run the <strong>&ldquo;Build > Clean&rdquo;</strong> menu option on the project to delete all the temporary files.</p></div></div><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>Partial classes weren&rsquo;t a WPF-specific innovation - Windows Forms used them first. In Windows Forms, when you create a form, Visual Studio actually creates <em>two</em> C# files. One of these is the one intended for you to edit, and the other is used by the drag-and-drop editor, which fills it with auto-generated C# code. If you ever make the mistake of editing <em>this</em> file, it will cause all kinds of problems for the drag-and-drop editor (and you)! In contrast, the drag-and-drop editor for WPF actually modifies the same XAML file you do - allowing you to use the editor, manually edit the XAML, or any combination of the two.</p></div></div><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=layouts>Layouts</h1><p>Windows Presentation Foundation provides a number of container elements that fulfill the specialized purpose of <em>layouts</em>. Unlike most WPF controls, they can have multiple children, which they organize on-screen. And unlike Windows Forms, these layouts adjust to the available space.</p><p>Let&rsquo;s examine each of five layouts in turn:</p><h2 id=the-grid>The Grid</h2><p>The default layout is the <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.grid?view=netcore-3.1" rel=external target=_blank>Grid</a>, which lays out its children elements in a grid pattern. A <code>&lt;Grid></code> is composed of columns and rows, the number and characteristics of which are defined by the grid&rsquo;s <code>ColumnDefinitions</code> and <code>RowDefinitions</code> properties. These consist of a collection of <code>ColumnDefinition</code> and <code>&lt;RowDefinition/></code> elements. Each <code>&lt;ColumnDefinition/></code> is typically given a <code>Width</code> property value, while each <code>&lt;RowDefinition/></code> is given a <code>Height</code> property value.</p><p>Thus, you might expect the code:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Grid&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;Grid.ColumnDefinitions&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;ColumnDefinition</span> <span class=na>Width=</span><span class=s>&#34;200&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;ColumnDefinition</span> <span class=na>Width=</span><span class=s>&#34;200&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;ColumnDefinition</span> <span class=na>Width=</span><span class=s>&#34;200&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;/Grid.ColumnDefinitions&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;Grid.RowDefinitions&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;RowDefinition</span> <span class=na>Height=</span><span class=s>&#34;100&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;RowDefinition</span> <span class=na>Height=</span><span class=s>&#34;100&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;/Grid.RowDefinitions&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;Button</span> <span class=na>Height=</span><span class=s>&#34;30&#34;</span> <span class=na>Width=</span><span class=s>&#34;120&#34;</span> <span class=na>Content=</span><span class=s>&#34;Click Me!&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/Grid&gt;</span></span></span></code></pre></div><p>Creates a grid with three columns, each 200 logical units wide, and two rows, each 100 logical units high. However, it will <em>actually</em> create a grid like this:</p><p><a href=#R-image-f7fcf4a1758ca43f5a2f62cdf9a5c714 class=lightbox-link><img alt="The resulting Grid" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.4.1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f7fcf4a1758ca43f5a2f62cdf9a5c714><img alt="The resulting Grid" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.4.1.png></a></p><p>Remember, all WPF containers will fill the available space - so the grid stretches the last column and row to fill the remaining space. Also, any element declared as a child of the grid (in this case, our button), will be placed in the first grid cell - [0,0] (counted from the top-left corner).</p><p>When declaring measurements in WPF, integer values correspond to logical units, which are 1/96th of an inch. We can also use relative values, by following a measurement with a <code>*</code>. This indicates the ratio of remaining space a column or row should take up after the elements with an exact size are positioned. I.e. a column with a width of <code>2*</code> will be twice as wide as one with a width of <code>1*</code>.</p><p>Thus, to create a 3x3 grid centered in the available space to represent a game of Tic-Tac-Toe we might use:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Grid&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Grid.ColumnDefinitions&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ColumnDefinition</span> <span class=na>Width=</span><span class=s>&#34;1*&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ColumnDefinition</span> <span class=na>Width=</span><span class=s>&#34;100&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ColumnDefinition</span> <span class=na>Width=</span><span class=s>&#34;100&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ColumnDefinition</span> <span class=na>Width=</span><span class=s>&#34;100&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ColumnDefinition</span> <span class=na>Width=</span><span class=s>&#34;1*&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid.ColumnDefinitions&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Grid.RowDefinitions&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;RowDefinition</span> <span class=na>Height=</span><span class=s>&#34;1*&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;RowDefinition</span> <span class=na>Height=</span><span class=s>&#34;100&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;RowDefinition</span> <span class=na>Height=</span><span class=s>&#34;100&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;RowDefinition</span> <span class=na>Height=</span><span class=s>&#34;100&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;RowDefinition</span> <span class=na>Height=</span><span class=s>&#34;1*&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid.RowDefinitions&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;TextBlock</span> <span class=na>Grid.Column=</span><span class=s>&#34;1&#34;</span> <span class=na>Grid.Row=</span><span class=s>&#34;1&#34;</span> <span class=na>FontSize=</span><span class=s>&#34;100&#34;</span> <span class=na>VerticalAlignment=</span><span class=s>&#34;Center&#34;</span> <span class=na>HorizontalAlignment=</span><span class=s>&#34;Center&#34;</span><span class=nt>&gt;</span>X<span class=nt>&lt;/TextBlock&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;TextBlock</span> <span class=na>Grid.Column=</span><span class=s>&#34;1&#34;</span> <span class=na>Grid.Row=</span><span class=s>&#34;2&#34;</span> <span class=na>FontSize=</span><span class=s>&#34;100&#34;</span> <span class=na>VerticalAlignment=</span><span class=s>&#34;Center&#34;</span> <span class=na>HorizontalAlignment=</span><span class=s>&#34;Center&#34;</span><span class=nt>&gt;</span>O<span class=nt>&lt;/TextBlock&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;TextBlock</span> <span class=na>Grid.Column=</span><span class=s>&#34;2&#34;</span> <span class=na>Grid.Row=</span><span class=s>&#34;1&#34;</span> <span class=na>FontSize=</span><span class=s>&#34;100&#34;</span> <span class=na>VerticalAlignment=</span><span class=s>&#34;Center&#34;</span> <span class=na>HorizontalAlignment=</span><span class=s>&#34;Center&#34;</span><span class=nt>&gt;</span>X<span class=nt>&lt;/TextBlock&gt;</span>        
</span></span><span class=line><span class=cl><span class=nt>&lt;/Grid&gt;</span></span></span></code></pre></div><p>Which would create:</p><p><a href=#R-image-3a078b1259cd1d90a819d9b59879f5e5 class=lightbox-link><img alt="The resulting Tic-Tac-Toe grid" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.4.2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3a078b1259cd1d90a819d9b59879f5e5><img alt="The resulting Tic-Tac-Toe grid" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.4.2.png></a></p><p>Note too that we use the properties <code>Grid.Column</code> and <code>Grid.Row</code> in the <code>&lt;TextBlock></code> elements to assign them to cells in the grid. The row and column indices start at 0 in the upper-left corner of the grid, and increase to the right and down.</p><h2 id=the-stackpanel>The StackPanel</h2><p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.stackpanel?view=netcore-3.1" rel=external target=_blank>StackPanel</a> arranges content into a single row or column (defaults to vertical). For example, this XAML:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;StackPanel&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Banana<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Orange<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Mango<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Strawberry<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Blackberry<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Peach<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Watermelon<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/StackPanel&gt;</span></span></span></code></pre></div><p>Creates this layout:</p><p><a href=#R-image-b67e07a04e22a9f64aa15b778cc2e3e9 class=lightbox-link><img alt="The StackPanel Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.4.3.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b67e07a04e22a9f64aa15b778cc2e3e9><img alt="The StackPanel Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.4.3.png></a></p><p>The StackPanel can be set to a horizontal orientation by setting its <code>Orientation</code> property to <code>Horizontal</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;StackPanel</span> <span class=na>Orientation=</span><span class=s>&#34;Horizontal&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Banana<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Orange<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Mango<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Strawberry<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Blackberry<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Peach<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Watermelon<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/StackPanel&gt;</span></span></span></code></pre></div><h2 id=the-wrappanel>The WrapPanel</h2><p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.wrappanel?view=netcore-3.1" rel=external target=_blank>WrapPanel</a> layout is like the <code>&lt;StackPanel></code>, with the additional caveat that if there is not enough space for its contents, it will wrap to an additional line. For example, this XAML code:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;WrapPanel&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Banana<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Orange<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Mango<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Strawberry<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Blackberry<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Peach<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Watermelon<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/WrapPanel&gt;</span></span></span></code></pre></div><p>Produces this layout when there is ample room:</p><p><a href=#R-image-d90cf89f56b2af6563a46676bc55325f class=lightbox-link><img alt="The WrapPanel Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.4.4.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d90cf89f56b2af6563a46676bc55325f><img alt="The WrapPanel Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.4.4.png></a></p><p>And this one when things get tighter:</p><p><a href=#R-image-607f4e8e059771be945ac6860fec33e8 class=lightbox-link><img alt="The Squeezed WrapPanel Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.4.5.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-607f4e8e059771be945ac6860fec33e8><img alt="The Squeezed WrapPanel Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.4.5.png></a></p><h2 id=the-dockpanel>The DockPanel</h2><p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.dockpanel?view=netcore-3.1" rel=external target=_blank>DockPanel</a> layout should be familiar to you - it&rsquo;s what Visual Studio uses. Its content items can be &lsquo;docked&rsquo; to one of the sides, as defined by the <code>Dock</code> enum: <code>Bottom</code>, <code>Top</code>, <code>Left</code>, or <code>Right</code> by setting the <code>DockPanel.Dock</code> property on that item. The last item specified will also fill the central space. If more than one child is specified for a particular side, it will be stacked with that side.</p><p>Thus, this XAML:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;DockPanel&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button</span> <span class=na>DockPanel.Dock=</span><span class=s>&#34;Top&#34;</span><span class=nt>&gt;</span>Top<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button</span> <span class=na>DockPanel.Dock=</span><span class=s>&#34;Left&#34;</span><span class=nt>&gt;</span>Left<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button</span> <span class=na>DockPanel.Dock=</span><span class=s>&#34;Right&#34;</span><span class=nt>&gt;</span>Right<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button</span> <span class=na>DockPanel.Dock=</span><span class=s>&#34;Bottom&#34;</span><span class=nt>&gt;</span>Bottom<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Center<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/DockPanel&gt;</span></span></span></code></pre></div><p>Generates this layout:</p><p><a href=#R-image-0c14552ea6879a2443a343e798771936 class=lightbox-link><img alt="The DockPanel Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.4.6.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-0c14552ea6879a2443a343e798771936><img alt="The DockPanel Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.4.6.png></a></p><h2 id=the-canvas>The Canvas</h2><p>Finally, the <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.canvas?view=netcore-3.1" rel=external target=_blank>Canvas</a> lays its content out strictly by their position within the <code>&lt;Canvas></code>, much like Windows Forms. This approach provides precise placement and size control, at the expense of the ability to automatically adjust to other screen resolutions. For example, the code:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Canvas&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button</span> <span class=na>Canvas.Top=</span><span class=s>&#34;40&#34;</span> <span class=na>Canvas.Right=</span><span class=s>&#34;40&#34;</span><span class=nt>&gt;</span>Do Something<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;TextBlock</span> <span class=na>Canvas.Left=</span><span class=s>&#34;200&#34;</span> <span class=na>Canvas.Bottom=</span><span class=s>&#34;80&#34;</span><span class=nt>&gt;</span>Other thing<span class=nt>&lt;/TextBlock&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Canvas</span> <span class=na>Canvas.Top=</span><span class=s>&#34;30&#34;</span> <span class=na>Canvas.Left=</span><span class=s>&#34;300&#34;</span> <span class=na>Width=</span><span class=s>&#34;300&#34;</span> <span class=na>Height=</span><span class=s>&#34;300&#34;</span> <span class=na>Background=</span><span class=s>&#34;SaddleBrown&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/Canvas&gt;</span></span></span></code></pre></div><p>Creates this layout:</p><p><a href=#R-image-b48439d5ef6378d80ab5119de7d0deb8 class=lightbox-link><img alt="The Canvas Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.4.7.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b48439d5ef6378d80ab5119de7d0deb8><img alt="The Canvas Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.4.7.png></a></p><p>If there is a chance the <code>&lt;Canvas></code> might be resized, it is a good idea to anchor all elements in the canvas relative to the same corner (i.e. top right) so that they all are moved the same amount.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=controls>Controls</h1><p>In addition to the layout controls, WPF provides a number of useful (and often familiar) controls that we can use to compose our applications. Let&rsquo;s take a look at some of the most commonly used.</p><h3 id=border>Border</h3><p>A <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.border?view=netcore-3.1" rel=external target=_blank>Border</a> is a control that draws a border around its contents. The properties specific to a border include <code>BorderBrush</code> (which sets the color of the border, see the discussion of brushes on the next page), <code>BorderThickness</code> the number of units thick the border should be drawn, <code>CornerRadius</code>, which adds rounded corners, and <code>Padding</code> which adds space between the border and its contents.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Border</span> <span class=na>BorderBrush=</span><span class=s>&#34;Green&#34;</span> <span class=na>BorderThickness=</span><span class=s>&#34;5&#34;</span> <span class=na>CornerRadius=</span><span class=s>&#34;5&#34;</span> <span class=na>Padding=</span><span class=s>&#34;10&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button&gt;</span>Do Something<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/Border&gt;</span></span></span></code></pre></div><p><a href=#R-image-ce706ee3b2cea08d6522eaba08289d57 class=lightbox-link><img alt="A Border Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.5.1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ce706ee3b2cea08d6522eaba08289d57><img alt="A Border Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.5.1.png></a></p><h3 id=button>Button</h3><p>A <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.button?view=netcore-3.1" rel=external target=_blank>Button</a> is a control that draws a button. This button can be interacted with by the mouse, and clicking on it triggers any <code>Click</code> event handlers that have been attached to it. Unlike Windows Forms buttons, it can contain any other WPF control, including images and layouts. Thus, a button featuring an image might be created with:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Button</span> <span class=na>Click=</span><span class=s>&#34;TriggerBroadcast&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;StackPanel</span> <span class=na>Orientation=</span><span class=s>&#34;Horizontal&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Image</span> <span class=na>Source=</span><span class=s>&#34;dish.jpg&#34;</span> <span class=na>Width=</span><span class=s>&#34;100&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;TextBlock</span> <span class=na>FontSize=</span><span class=s>&#34;25&#34;</span> <span class=na>VerticalAlignment=</span><span class=s>&#34;Center&#34;</span><span class=nt>&gt;</span>Broadcast<span class=nt>&lt;/TextBlock&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/StackPanel&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/Button&gt;</span></span></span></code></pre></div><p><a href=#R-image-d0ee77f580ae3c9f8876e16fd0037bd0 class=lightbox-link><img alt="A Button Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.5.2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d0ee77f580ae3c9f8876e16fd0037bd0><img alt="A Button Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.5.2.png></a></p><p>The event handler for the button needs to be declared in the corresponding <em>.xaml.cs</em> file, and will take two parameters, an <code>object</code> and <code>RoutedEventArgs</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl><span class=cs>/// An event handler that triggers a broadcast</span>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;param name=&#34;sender&#34;&gt;The object sending this message&lt;/param&gt;</span>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;param name=&#34;args&#34;&gt;The event data&lt;/param&gt;</span>
</span></span><span class=line><span class=cl><span class=k>void</span> <span class=n>TriggerBroadcast</span><span class=p>(</span><span class=kt>object</span> <span class=n>sender</span><span class=p>,</span> <span class=n>RoutedEventArgs</span> <span class=n>args</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// TODO: Send Broadcast</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>We&rsquo;ll be discussing events in more detail soon.</p><h3 id=checkbox>CheckBox</h3><p>A <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.checkbox?view=netcore-3.1" rel=external target=_blank>CheckBox</a> provides a checkable box corresponding to a boolean value. The <code>IsChecked</code> property reflects the checked or unchecked state of the checkbox. A checkbox also exposes <code>Checked</code> and <code>Unchecked</code> event handlers.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;CheckBox</span> <span class=na>IsChecked=</span><span class=s>&#34;True&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    The sky is blue
</span></span><span class=line><span class=cl><span class=nt>&lt;/CheckBox&gt;</span>  </span></span></code></pre></div><p><a href=#R-image-1439d0c504dfe9b5637ad3c3ed1e2e17 class=lightbox-link><img alt="A CheckBox Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.5.3.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1439d0c504dfe9b5637ad3c3ed1e2e17><img alt="A CheckBox Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.5.3.png></a></p><h3 id=combobox>ComboBox</h3><p>A <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.combobox?view=netcore-3.1" rel=external target=_blank>ComboBox</a> provides a drop-down selection list. The selected value can be accessed through the <code>SelectedItem</code> property, and the <code>IsEditable</code> boolean property determines if the combo box can be typed into, or simply selected from. It exposes a <code>SelectionChanged</code> event. The items in the <code>ComboBox</code> can be set declaratively:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;ComboBox&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;ComboBoxItem&gt;</span>Apple<span class=nt>&lt;/ComboBoxItem&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;ComboBoxItem&gt;</span>Orange<span class=nt>&lt;/ComboBoxItem&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;ComboBoxItem&gt;</span>Peach<span class=nt>&lt;/ComboBoxItem&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;ComboBoxItem&gt;</span>Pear<span class=nt>&lt;/ComboBoxItem&gt;</span> 
</span></span><span class=line><span class=cl><span class=nt>&lt;/ComboBox&gt;</span></span></span></code></pre></div><p><a href=#R-image-23cb38e0691fbaf75259a9bf8392622a class=lightbox-link><img alt="A ComboBox Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.5.6.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-23cb38e0691fbaf75259a9bf8392622a><img alt="A ComboBox Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.5.6.png></a></p><p>Note that the ComboBox dropdown doesn&rsquo;t work in the editor - it only operates while the application is running.</p><p>Alternatively, you can expose the <code>ComboBox</code> in the codebehind <code>.xaml.cs</code> file by giving it a <code>Name</code> property.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;ComboBox</span> <span class=na>Name=</span><span class=s>&#34;FruitSelection&#34;</span> <span class=na>Text=</span><span class=s>&#34;Fruits&#34;</span> <span class=na>SelectedValue=</span><span class=s>&#34;Apple&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/ComboBox&gt;</span></span></span></code></pre></div><p>Then, after the combo box has been initialized, use the <code>ItemsSource</code> to specify a collection declared in the corresponding <code>.xaml.cs</code> file.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl><span class=cs>/// Interaction logic for UserControl1.xaml</span>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>partial</span> <span class=k>class</span> <span class=nc>UserControl1</span> <span class=p>:</span> <span class=n>UserControl</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>UserControl1</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>InitializeComponent</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=n>FruitSelection</span><span class=p>.</span><span class=n>ItemsSource</span> <span class=p>=</span> <span class=k>new</span> <span class=n>List</span><span class=p>&lt;</span><span class=kt>string</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=s>&#34;Apple&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s>&#34;Orange&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s>&#34;Peach&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s>&#34;Pear&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>We could also leverage <em>data binding</em> to bind the item collection dynamically. We&rsquo;ll discuss this approach later.</p><h3 id=image>Image</h3><p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.image?view=netcore-3.1" rel=external target=_blank>Image</a> control displays an image. The image to display is determined by the <code>Source</code> property. If the image is not exactly the same size as the <code>&lt;Image></code> control, the <code>Stretch</code> property determines how to handle this case. Its possible values are:</p><ul><li><code>"None"</code> (the default) - the image is displayed at its original size</li><li><code>"Fill"</code> - the image is resized to the element&rsquo;s size. This will result in stretching if the aspect ratios are not the same</li><li><code>"Uniform"</code> - the image is resized to fit into the element. If the aspect ratios are different, there will be blank areas in the element (letterboxing)</li><li><code>"UniformToFill"</code> - the image is resized to fill the element. If the aspect ratios are different, part of the image will be cropped out</li></ul><p>The stretch values effects are captured by this graphic:</p><p><a href=#R-image-a4f6a531d00cfd3908c8e308acaf401a class=lightbox-link><img alt="The applied Stretch property" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.6.17.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a4f6a531d00cfd3908c8e308acaf401a><img alt="The applied Stretch property" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.6.17.png></a></p><p>The stretching behavior can be further customized by the <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.stretchdirection?view=netcore-3.1" rel=external target=_blank>StretchDirection</a> property.</p><p>Images can also be used for <code>Background</code> or <code>Foreground</code> properties, as discussed on the next page.</p><h3 id=label>Label</h3><p>A <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.label?view=netcore-3.1" rel=external target=_blank>Label</a> displays text on a form, and can be as simple as:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Label&gt;</span>First Name:<span class=nt>&lt;/Label&gt;</span></span></span></code></pre></div><p><a href=#R-image-dbd42c7b5212c2490806c1786e31e19f class=lightbox-link><img alt="A Label Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.5.4.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-dbd42c7b5212c2490806c1786e31e19f><img alt="A Label Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.5.4.png></a></p><p>What distinguishes it from other text controls is that it can also be associated with a specific control specified by the <code>Target</code> parameter, whose value should be bound to the name of the control. It can then provide an access key (aka a mnemonic) that will transfer focus to that control when the corresponding key is pressed. The access key is indicated by preceding the corresponding character in the text with an underscore:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;StackPanel&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Label</span> <span class=na>Target=</span><span class=s>&#34;{Binding ElementName=firstNameTextBox}&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;AccessText&gt;</span>_First Name:<span class=nt>&lt;/AccessText&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Label&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;TextBox</span> <span class=na>Name=</span><span class=s>&#34;firstNameTextBox&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/StackPanel&gt;</span></span></span></code></pre></div><p><a href=#R-image-2a5605788042dbcbcb9b7c7cb2330600 class=lightbox-link><img alt="A Label with Access Key Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.5.5.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2a5605788042dbcbcb9b7c7cb2330600><img alt="A Label with Access Key Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.5.5.png></a></p><p>Now when the program is running, the user can press <code>ALT + F</code> to shift focus to the textbox, so they can begin typing (Note the character &ldquo;F&rdquo; is underlined in the GUI). Good use of access keys means users can navigate forms completely with the keyboard.</p><h3 id=listbox>ListBox</h3><p>A <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.listbox?view=netcore-3.1" rel=external target=_blank>ListBox</a> displays a list of items that can be selected. The <code>SelectionMode</code> property can be set to either <code>"Single"</code> or <code>"Multiple"</code>, and the <code>"SelectedItems"</code> read-only property provides those selected items. The <code>ItemsSource</code> property can be set declaratively using <code>&lt;ListBoxItem></code> contents. It also exposes a <code>SelectionChanged</code> event handler:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;ListBox&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;ListBoxItem&gt;</span>Apple<span class=nt>&lt;/ListBoxItem&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;ListBoxItem&gt;</span>Orange<span class=nt>&lt;/ListBoxItem&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;ListBoxItem&gt;</span>Peach<span class=nt>&lt;/ListBoxItem&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;ListBoxItem&gt;</span>Pear<span class=nt>&lt;/ListBoxItem&gt;</span> 
</span></span><span class=line><span class=cl><span class=nt>&lt;/ListBox&gt;</span></span></span></code></pre></div><p><a href=#R-image-86807dc6f85fd5ee18bfb1495009908b class=lightbox-link><img alt="A Label with Access Key Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.5.7.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-86807dc6f85fd5ee18bfb1495009908b><img alt="A Label with Access Key Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.5.7.png></a></p><h3 id=radiobutton>RadioButton</h3><p>A group of <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.radiobutton?view=netcore-3.1" rel=external target=_blank>RadioButton</a> elements is used to present multiple options where only one can be selected. To group radio buttons, specify a shared <code>GroupName</code> property. Like other buttons, radio buttons have a <code>Click</code> event handler, and also a <code>Checked</code> and <code>Unchecked</code> event handler:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;StackPanel&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;RadioButton</span> <span class=na>GroupName=</span><span class=s>&#34;Fruit&#34;</span><span class=nt>&gt;</span>Apple<span class=nt>&lt;/RadioButton&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;RadioButton</span> <span class=na>GroupName=</span><span class=s>&#34;Fruit&#34;</span><span class=nt>&gt;</span>Orange<span class=nt>&lt;/RadioButton&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;RadioButton</span> <span class=na>GroupName=</span><span class=s>&#34;Fruit&#34;</span><span class=nt>&gt;</span>Peach<span class=nt>&lt;/RadioButton&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;RadioButton</span> <span class=na>GroupName=</span><span class=s>&#34;Fruit&#34;</span><span class=nt>&gt;</span>Pear<span class=nt>&lt;/RadioButton&gt;</span> 
</span></span><span class=line><span class=cl><span class=nt>&lt;/StackPanel&gt;</span></span></span></code></pre></div><p><a href=#R-image-dd53ad1d32050d32a7caa1a1f43979e4 class=lightbox-link><img alt="A Radio Button Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.5.8.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-dd53ad1d32050d32a7caa1a1f43979e4><img alt="A Radio Button Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.5.8.png></a></p><h3 id=textblock>TextBlock</h3><p>A <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.textblock?view=netcore-3.1" rel=external target=_blank>TextBlock</a> can be used to display arbitrary text. It also makes available a <code>TextChanged</code> event that is triggered when its text changes.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;TextBlock&gt;</span>Hi, I have something important to say.  I&#39;m a text block.<span class=nt>&lt;/TextBlock&gt;</span></span></span></code></pre></div><p><a href=#R-image-36e794d4c1ad6e7d2e5f760025643bf7 class=lightbox-link><img alt="A TextBlock Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.5.9.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-36e794d4c1ad6e7d2e5f760025643bf7><img alt="A TextBlock Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.5.9.png></a></p><h3 id=textbox>TextBox</h3><p>And a <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.textbox?view=netcore-3.1" rel=external target=_blank>TextBox</a> is an editable text box. It&rsquo;s text can be accessed through the <code>Text</code> property:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;TextBox</span> <span class=na>Text=</span><span class=s>&#34;And I&#39;m a textbox!&#34;</span><span class=nt>/&gt;</span></span></span></code></pre></div><p><a href=#R-image-a4944f0f46388cd96574933dafa24a7d class=lightbox-link><img alt="A TextBlock Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.5.10.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a4944f0f46388cd96574933dafa24a7d><img alt="A TextBlock Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.5.10.png></a></p><h3 id=togglebutton>ToggleButton</h3><p>Finally, a <a href=/cis400/2-desktop-development/01-wpf/05-controls/>ToggleButton</a> is a button that is either turned on or off. This can be determined from its <code>IsChecked</code> property. It also has event handlers for <code>Checked</code> and <code>Unchecked</code> events:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;ToggleButton&gt;</span>On or Off<span class=nt>&lt;/ToggleButton&gt;</span></span></span></code></pre></div><p>Off looks like:</p><p><a href=#R-image-23a2de4a3a02e48162f7380138990a22 class=lightbox-link><img alt="A ToggleButton Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.5.11.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-23a2de4a3a02e48162f7380138990a22><img alt="A ToggleButton Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.5.11.png></a></p><p>And on looks like:</p><p><a href=#R-image-a9a21e725aab8a8021a763b31a080034 class=lightbox-link><img alt="A ToggleButton Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.5.12.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a9a21e725aab8a8021a763b31a080034><img alt="A ToggleButton Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.5.12.png></a></p><h3 id=other-controls>Other Controls</h3><p>This is just a sampling of some of the most used controls. You can also reference the <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls?view=netcore-3.1" rel=external target=_blank>System.Windows.Controls</a> namespace documentation, or the <a href=https://www.tutorialspoint.com/wpf/wpf_controls.htm rel=external target=_blank>TutorialsPoint WPF Controls</a> reference.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=control-properties>Control Properties</h1><p>All WPF controls (including the layout controls we&rsquo;ve already seen) derive from common base classes, i.e. <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.uielement?view=windowsdesktop-6.0" rel=external target=_blank>UIElement</a> and <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.frameworkelement?view=windowsdesktop-6.0" rel=external target=_blank>FrameworkElement</a>, which means they all inherit common properties. Some of the most commonly used are described here.</p><h3 id=size--placement-modifying-properties>Size & Placement Modifying Properties</h3><p>Perhaps the most important of the control properties are those that control sizing and placement. Let&rsquo;s take a look at the most important of these.</p><h4 id=size>Size</h4><p>WPF controls use three properties to determine the height of the element. These are <code>MinHeight</code>, <code>Height</code>, and <code>MaxHeight</code>. They are doubles expressed in device-independent units (measuring 1/96 of an inch). The rendering algorithm treats <code>Height</code> as a suggestion, but limits the calculated height to fall in the range between <code>MinHeight</code> and <code>MaxHeight</code>. The height determined by the algorithm can be accessed from the <code>ActualHeight</code> read-only property. Similar values exist for width: <code>MinWidth</code>, <code>Width</code>, <code>MaxWidth</code>, and <code>ActualWidth</code>.</p><table><tr><th>Property</th><th>Default Value</th><th>Description</th></tr><tr><td>MinHeight</td><td>0.0</td><td>The minimum element height</td></tr><tr><td>Height</td><td><code>NaN</code></td><td>The suggested element height</th></tr><tr><td>MaxHeight</td><td><code>PositiveInfinity<code></td><td>The maximum element height</td></tr><tr><td>MinWidth</td><td>0.0</td><td>The minimum element width</td></tr><tr><td>Width</td><td><code>NaN</code></td><td>The suggested element width</td></tr><tr><td>MaxWidth</td><td><code>PositiveInfinity</code></td><td>The maximum element width</td></tr></table><h4 id=margins>Margins</h4><p>In addition to the size of the element, we can set margins around the element, adding empty space between this and other elements. The <code>Margin</code> property is actually of type <code>Thickness</code>, a structure with four properties: <em>left, top, right,</em> and <em>bottom</em>. We can set the <code>Margin</code> property in several ways using XAML.</p><p>To set all margins to be the same size, we just supply a single value:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Button</span> <span class=na>Margin=</span><span class=s>&#34;3&#34;</span><span class=nt>&gt;</span>Do something<span class=nt>&lt;/Button&gt;</span></span></span></code></pre></div><p>To set different values for the horizontal and vertical margins, use two comma-separated values (horizontal comes first):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Button</span> <span class=na>Margin=</span><span class=s>&#34;10, 20&#34;</span><span class=nt>&gt;</span>Do Something<span class=nt>&lt;/Button&gt;</span> </span></span></code></pre></div><p>And finally, they can <em>all</em> be set separately as a comma-separated list (the order is <em>left, top, right,</em> and then <em>bottom</em>).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Button</span> <span class=na>Margin=</span><span class=s>&#34;10, 20, 30, 50&#34;</span><span class=nt>&gt;</span>Do Something<span class=nt>&lt;/Button&gt;</span></span></span></code></pre></div><h4 id=alignment>Alignment</h4><p>You can also align the elements within the space allocated for them using the <code>VerticalAlignment</code> and <code>HorizontalAlignment</code> properties. Similarly, you can align the <em>contents</em> of an element with the <code>VerticalContentAlignment</code> and <code>HorizontalContentAlignment</code> properties.</p><p>For most controls, these are <code>"Stretch"</code> by default, which means the control or its contents will expand to fill the available space. Additional values include <code>"Bottom"</code>, <code>"Center"</code>, and <code>"Top"</code> for vertical, and <code>"Left"</code>, <code>"Center"</code>, and <code>"Right"</code> for horizontal. These options do <em>not</em> fill the available space - the control is sized in that dimension based on its suggested size.</p><table><tr><th colspan=2>HorizontalAlignment</th></tr><tr><th>Option</th><th>Description</th></tr><tr><td>Stretch</td><td>Control fills the available horizontal space</td></tr><tr><td>Left</td><td>Control is aligned along the left of the available space</td></tr><tr><td>Center</td><td>Control is centered in the available horizontal space</td></tr><tr><td>Right</td><td>Control is aligned along the right of the available space</td></tr><tr><th colspan=2>VerticalAlignment</th></tr><tr><th>Option</th><th>Description</th></tr><tr><td>Stretch</td><td>Control fills the available vertical space</td></tr><tr><td>Top</td><td>Control is aligned along the top side of the available space</td></tr><tr><td>Center</td><td>Control is centered in the available vertical space</td></tr><tr><td>Bottom</td><td>Control is aligned along the bottom side of the available space</td></tr></table><h3 id=text-and-font-properties>Text and Font Properties</h3><p>As most controls prominently feature text, it is important to discuss the properties that effect how this text is presented.</p><h4 id=font-family>Font Family</h4><p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.textblock.fontfamily?view=windowsdesktop-6.0" rel=external target=_blank>FontFamily</a> property sets the font used by the control. This font needs to be installed on the machine. You can supply a single font, i.e.:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;TextBlock</span> <span class=na>FontFamily=</span><span class=s>&#34;Arial&#34;</span><span class=nt>&gt;</span></span></span></code></pre></div><p>Or a list of font families to supply fallback options if the requested font is not available:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;TextBlock</span> <span class=na>FontFamily=</span><span class=s>&#34;Arial, Century Gothic&#34;</span><span class=nt>&gt;</span></span></span></code></pre></div><h4 id=font-size>Font Size</h4><p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.textblock.fontsize?view=windowsdesktop-6.0" rel=external target=_blank>FontSize</a> property determines the size of the font used in the control.</p><h4 id=font-style>Font Style</h4><p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.textblock.fontstyle?view=windowsdesktop-6.0" rel=external target=_blank>FontStyle</a> property sets the style of the font used. This can include <code>"Normal"</code>, <code>"Italic"</code>, or <code>"Oblique"</code>. Italic is typically defined in the font itself (and created by the font creator), while Oblique is created from the normal font by applying a mathematical rendering transformation, and can be used for fonts that do not have a defined italic style.</p><p><a href=#R-image-c6fc319fb56488f1c302efc984b1808a class=lightbox-link><img alt="Font Styles" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.6.16.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c6fc319fb56488f1c302efc984b1808a><img alt="Font Styles" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.6.16.png></a></p><h4 id=font-weight>Font Weight</h4><p>The <code>FontWeight</code> refers to how thick a stroke is used to draw the font. It can be set to values like <code>"Light"</code>, <code>"Normal"</code>, <code>"Bold"</code>, or <code>"Ultra Bold"</code>. A list of all available options can be found <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.fontweights?view=windowsdesktop-6.0#remarks" rel=external target=_blank>here</a>.</p><h4 id=text-alignment>Text Alignment</h4><p>The <code>TextAlignment</code> property defines how the text is aligned within its element. Possible values are <code>"Left"</code> (the default), <code>"Center"</code>, <code>"Justify"</code>, and <code>"Right"</code>, and behave just like these options in your favorite text editor.</p><p>There is no corresponding vertical alignment option - instead use <code>VerticalContentAlignment</code> discussed above.</p><h3 id=appearance--interactability-modifying-properties>Appearance & Interactability Modifying Properties</h3><p>There are often times in working with a GUI where you might want to disable or even hide a control. WPF controls provide several properties that affect the rendering and interaction of controls.</p><h4 id=isenabled>IsEnabled</h4><p>The <code>IsEnabled</code> property is a boolean that indicates if this control is currently enabled. It defaults to <code>true</code>. Exactly what &rsquo;enabled&rsquo; means for a control is specific to that kind of control, but usually means the control cannot be interacted with. For example, a button with <code>IsEnabled=false</code> cannot be clicked on, and will be rendered grayed out, i.e.:</p><p><a href=#R-image-5b9873c1debd8afcf827871c88714f88 class=lightbox-link><img alt="Enabled vs. Disabled Buttons" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.6.1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-5b9873c1debd8afcf827871c88714f88><img alt="Enabled vs. Disabled Buttons" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.6.1.png></a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Grid&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Grid.ColumnDefinitions&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ColumnDefinition/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ColumnDefinition/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid.ColumnDefinitions&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button</span> <span class=na>IsEnabled=</span><span class=s>&#34;False&#34;</span> <span class=na>Margin=</span><span class=s>&#34;10&#34;</span><span class=nt>&gt;</span>I&#39;m Disabled<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button</span> <span class=na>Grid.Column=</span><span class=s>&#34;1&#34;</span> <span class=na>Margin=</span><span class=s>&#34;10&#34;</span><span class=nt>&gt;</span>I&#39;m Enabled<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/Grid&gt;</span></span></span></code></pre></div><h4 id=opacity>Opacity</h4><p>A similar effect can be obtained by changing an element&rsquo;s <code>Opacity</code> property, a double that ranges from 0.0 (completely transparent) to 1.0 (completely solid). Below you can see two <code>&lt;TextBlock></code> elements, with the one on the left set to an opacity of 0.40:</p><p><a href=#R-image-5949b83b2fd49df873c82573bf7af123 class=lightbox-link><img alt="Opacity Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.6.2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-5949b83b2fd49df873c82573bf7af123><img alt="Opacity Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.6.2.png></a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Grid&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Grid.ColumnDefinitions&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ColumnDefinition/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ColumnDefinition/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid.ColumnDefinitions&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;TextBlock</span> <span class=na>Opacity=</span><span class=s>&#34;0.4&#34;</span> <span class=na>Foreground=</span><span class=s>&#34;Purple&#34;</span> <span class=na>VerticalAlignment=</span><span class=s>&#34;Center&#34;</span> <span class=na>HorizontalAlignment=</span><span class=s>&#34;Center&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>      I&#39;m semi-translucent!
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/TextBlock&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;TextBlock</span> <span class=na>Grid.Column=</span><span class=s>&#34;1&#34;</span> <span class=na>Foreground=</span><span class=s>&#34;Purple&#34;</span> <span class=na>VerticalAlignment=</span><span class=s>&#34;Center&#34;</span> <span class=na>HorizontalAlignment=</span><span class=s>&#34;Center&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>      I&#39;m solid!
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/TextBlock&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/Grid&gt;</span></span></span></code></pre></div><p>Alerting an elements&rsquo; opacity does not have any effect on its functionality, i.e. a completely transparent button can still be clicked.</p><h4 id=visibility>Visibility</h4><p>Finally, the Visible property alters how the element is considered in the WPF rendering algorithm. It has three possible values: <code>"Visible"</code>, <code>"Hidden"</code>, and <code>"Collapsed"</code>. The default value is <code>"Visible"</code>, and the element renders normally, as &ldquo;Button One&rdquo; does in the example below:</p><p><a href=#R-image-fe39a2092b333af0d37f13265167dbce class=lightbox-link><img alt="Visible Visibility Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.6.3.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-fe39a2092b333af0d37f13265167dbce><img alt="Visible Visibility Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.6.3.png></a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;StackPanel&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;Button</span> <span class=na>Visibility=</span><span class=s>&#34;Visible&#34;</span> <span class=na>Margin=</span><span class=s>&#34;10&#34;</span><span class=nt>&gt;</span>Button One<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;Button</span> <span class=na>Margin=</span><span class=s>&#34;10&#34;</span><span class=nt>&gt;</span>Button Two<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/StackPanel&gt;</span></span></span></code></pre></div><p>The <code>"Hidden"</code> value will hide the element, but preserve its place in the layout. A hidden element cannot be interacted with, so this is similar to setting the <code>Opacity</code> to 0 and <code>IsEnabled</code> to false:</p><p><a href=#R-image-693a28da3126825b0d9821bbc966d960 class=lightbox-link><img alt="Hidden Visibility Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.6.4.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-693a28da3126825b0d9821bbc966d960><img alt="Hidden Visibility Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.6.4.png></a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;StackPanel&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;Button</span> <span class=na>Visibility=</span><span class=s>&#34;Hidden&#34;</span> <span class=na>Margin=</span><span class=s>&#34;10&#34;</span><span class=nt>&gt;</span>Button One<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;Button</span> <span class=na>Margin=</span><span class=s>&#34;10&#34;</span><span class=nt>&gt;</span>Button Two<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/StackPanel&gt;</span></span></span></code></pre></div><p>Finally, the <code>"Collapsed"</code> value will leave the element out of the layout calculations, as though it were not a part of the control at all. A hidden element cannot be interacted with. Note that in the example below, &ldquo;Button Two&rdquo; has been rendered in the space previously occupied by &ldquo;Button One&rdquo;:</p><p><a href=#R-image-f203a8284d444562c6184a6fed190dac class=lightbox-link><img alt="Collapsed Visibility Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.6.5.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f203a8284d444562c6184a6fed190dac><img alt="Collapsed Visibility Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.6.5.png></a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;StackPanel&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;Button</span> <span class=na>Visibility=</span><span class=s>&#34;Collapsed&#34;</span> <span class=na>Margin=</span><span class=s>&#34;10&#34;</span><span class=nt>&gt;</span>Button One<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;Button</span> <span class=na>Margin=</span><span class=s>&#34;10&#34;</span><span class=nt>&gt;</span>Button Two<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/StackPanel&gt;</span></span></span></code></pre></div><h3 id=backgrounds-and-foregrounds>Backgrounds and Foregrounds</h3><p>You may have noticed the previous examples that colors can be accomplished through the <code>Background</code> and <code>Foreground</code> properties - where the <code>Background</code> determines the color of the element, and <code>Foreground</code> determines the color of text and other foreground elements. While this is true, it is also just the beginning of what is possible. Both of these properties have the type <code>Brush</code>, which deserves a deeper look.</p><p>Simply put, a brush determines how to paint graphical objects. This can be as simple as painting a solid color, or as complex as painting an image. The effect used is determined by the type of brush - the <code>Brush</code> class itself serving as a base class for several specific types brush.</p><h4 id=solid-color-brushes>Solid Color Brushes</h4><p>What we&rsquo;ve been using up to this point have been <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.media.solidcolorbrush?view=windowsdesktop-6.0" rel=external target=_blank>SolidColorBrush</a> objects. This is the simplest of the brush classes, and simply paints with a solid color, i.e.:</p><p><a href=#R-image-2cc587921b5564f970c44178662fae25 class=lightbox-link><img alt="Solid Color Brush Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.6.6.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2cc587921b5564f970c44178662fae25><img alt="Solid Color Brush Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.6.6.png></a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;TextBlock</span> <span class=na>Foreground=</span><span class=s>&#34;BlueViolet&#34;</span> <span class=na>Background=</span><span class=s>&#34;DarkSeaGreen&#34;</span> <span class=na>FontSize=</span><span class=s>&#34;25&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>  Look, Ma!  I&#39;m in color!
</span></span><span class=line><span class=cl><span class=nt>&lt;/TextBlock&gt;</span></span></span></code></pre></div><p>The simplest way to set the color in XAML is to use a value from the predefined <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.media.brushes?view=windowsdesktop-6.0#remarks" rel=external target=_blank>brush name list</a>, like the <code>"BlueViolet"</code> and <code>"DarkSeaGreen"</code> in the example.</p><p>Alternatively, you can use a hexadecimal number defining the red, green, and blue channels in that order, i.e. to use K-State purple and white we&rsquo;d use:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;TextBlock</span> <span class=na>Foreground=</span><span class=s>&#34;#FFFFFF&#34;</span> <span class=na>Background=</span><span class=s>&#34;#512888&#34;</span> <span class=na>FontSize=</span><span class=s>&#34;25&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>  Look, Ma!  I&#39;m in color!
</span></span><span class=line><span class=cl><span class=nt>&lt;/TextBlock&gt;</span></span></span></code></pre></div><p>The various formats the hex values can be given are detailed <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.media.solidcolorbrush?view=windowsdesktop-6.0#xaml-attribute-usage" rel=external target=_blank>here</a></p><h4 id=gradient-brushes>Gradient Brushes</h4><p>Gradient brushes gradually transition between colors. There are two kinds of gradient brushes in WPF: with a <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.media.lineargradientbrush?view=windowsdesktop-6.0" rel=external target=_blank>LinearGradientBrush</a> the brush gradually changes along a line. With a <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.media.radialgradientbrush?view=windowsdesktop-6.0" rel=external target=_blank>RadialGradientBrush</a>, the color changes radially from a center point.</p><p>In both cases, the gradient is defined in terms of <code>&lt;GradientStops></code> - a distance along the line (or from the center) where the expected color value is defined. In the spaces between gradient stops, the color value is interpolated between the two stops on either side of the point. The gradient stop needs both an <code>Offset</code> value (a double indicating the percentage of how far along the line or from the center this stop falls, between 0.0 and 1.0) and a <code>Color</code> value (which can be defined as with solid color brushes).</p><p>For example, the XAML:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;TextBlock</span> <span class=na>Foreground=</span><span class=s>&#34;#FFFFFF&#34;</span> <span class=na>FontSize=</span><span class=s>&#34;25&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;TextBlock.Background&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;LinearGradientBrush&gt;</span>
</span></span><span class=line><span class=cl>          <span class=nt>&lt;LinearGradientBrush.GradientStops&gt;</span>
</span></span><span class=line><span class=cl>              <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Red&#34;</span> <span class=na>Offset=</span><span class=s>&#34;0.0&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>              <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Yellow&#34;</span> <span class=na>Offset=</span><span class=s>&#34;0.25&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>              <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Green&#34;</span> <span class=na>Offset=</span><span class=s>&#34;0.50&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>              <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Blue&#34;</span> <span class=na>Offset=</span><span class=s>&#34;0.75&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>              <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Violet&#34;</span> <span class=na>Offset=</span><span class=s>&#34;1.0&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>          <span class=nt>&lt;/LinearGradientBrush.GradientStops&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;/LinearGradientBrush&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;/TextBlock.Background&gt;</span>
</span></span><span class=line><span class=cl>  Look, Ma!  I&#39;m in color!
</span></span><span class=line><span class=cl><span class=nt>&lt;/TextBlock&gt;</span></span></span></code></pre></div><p>Produces this rainbow gradient:</p><p><a href=#R-image-8ad81c4944ed3ba911574bc990a41edf class=lightbox-link><img alt="Rainbow Linear Gradient Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.6.8.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8ad81c4944ed3ba911574bc990a41edf><img alt="Rainbow Linear Gradient Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.6.8.png></a></p><p>Further, the line along which the linear gradient is created is defined by the <code>StartPoint</code> and <code>EndPoint</code> properties of the <code>&lt;LinearGradientBrush></code>. These points are relative to the area the brush is covering (i.e. the space occupied by the element), and fall in the range of [0.0 .. 1.0]. The default (as seen above) is a diagonal line from the upper left corner (0,0) to the lower right corner (1.0, 1.0).</p><p>To make the above gradient fall in the center half of the element, and be horizontal, we could tweak the gradient definition:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;TextBlock</span> <span class=na>Foreground=</span><span class=s>&#34;#FFFFFF&#34;</span> <span class=na>FontSize=</span><span class=s>&#34;25&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;TextBlock.Background&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;LinearGradientBrush</span> <span class=na>StartPoint=</span><span class=s>&#34;0.25, 0.5&#34;</span> <span class=na>EndPoint=</span><span class=s>&#34;0.75, 0.5&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;LinearGradientBrush.GradientStops&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Red&#34;</span> <span class=na>Offset=</span><span class=s>&#34;0.0&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Yellow&#34;</span> <span class=na>Offset=</span><span class=s>&#34;0.25&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Green&#34;</span> <span class=na>Offset=</span><span class=s>&#34;0.50&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Blue&#34;</span> <span class=na>Offset=</span><span class=s>&#34;0.75&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Violet&#34;</span> <span class=na>Offset=</span><span class=s>&#34;1.0&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;/LinearGradientBrush.GradientStops&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/LinearGradientBrush&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/TextBlock.Background&gt;</span>
</span></span><span class=line><span class=cl>    Look, Ma!  I&#39;m in color!
</span></span><span class=line><span class=cl><span class=nt>&lt;/TextBlock&gt;</span></span></span></code></pre></div><p><a href=#R-image-ff5e2622749a41ee9736179face0d4c5 class=lightbox-link><img alt="Rainbow Linear Gradient with Start and End Points Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.6.9.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ff5e2622749a41ee9736179face0d4c5><img alt="Rainbow Linear Gradient with Start and End Points Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.6.9.png></a></p><p>A <code>&lt;RadialGradientBrush></code> is defined similarly through the use of <code>GradientStops</code>, only this time they are in relation to the center around which the gradient radiates:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;TextBlock</span> <span class=na>Foreground=</span><span class=s>&#34;#FFFFFF&#34;</span> <span class=na>FontSize=</span><span class=s>&#34;25&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;TextBlock.Background&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;RadialGradientBrush&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;RadialGradientBrush.GradientStops&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Red&#34;</span> <span class=na>Offset=</span><span class=s>&#34;0.0&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Yellow&#34;</span> <span class=na>Offset=</span><span class=s>&#34;0.25&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Green&#34;</span> <span class=na>Offset=</span><span class=s>&#34;0.50&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Blue&#34;</span> <span class=na>Offset=</span><span class=s>&#34;0.75&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Violet&#34;</span> <span class=na>Offset=</span><span class=s>&#34;1.0&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;/RadialGradientBrush.GradientStops&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/RadialGradientBrush&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/TextBlock.Background&gt;</span>
</span></span><span class=line><span class=cl>    Look, Ma!  I&#39;m in color!
</span></span><span class=line><span class=cl><span class=nt>&lt;/TextBlock&gt;</span></span></span></code></pre></div><p><a href=#R-image-8cfbfb47c3d80e15f3f2e7c36106a380 class=lightbox-link><img alt="Rainbow Radial Gradient Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.6.10.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8cfbfb47c3d80e15f3f2e7c36106a380><img alt="Rainbow Radial Gradient Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.6.10.png></a></p><p>The gradient fills an ellipse defined by the <code>Center</code> property and the <code>RadiusX</code> and <code>RadiusY</code> properties. By default these values are (0.5. 0.5), 0.5, and 0.5 respectively. Like other gradient properties, they are doubles between 0.0 and 1.0. Finally, the gradient emanates from the <code>GradientOrigin</code>, also a point with values defined by this coordinate system.</p><p>To center the above gradient in the left half of the block, we would therefore use:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;TextBlock.Background&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;RadialGradientBrush</span> <span class=na>Center=</span><span class=s>&#34;0.25, 0.5&#34;</span> <span class=na>RadiusX=</span><span class=s>&#34;0.25&#34;</span> <span class=na>RadiusY=</span><span class=s>&#34;0.5&#34;</span> <span class=na>GradientOrigin=</span><span class=s>&#34;0.25, 0.5&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;RadialGradientBrush.GradientStops&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Red&#34;</span> <span class=na>Offset=</span><span class=s>&#34;0.0&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Yellow&#34;</span> <span class=na>Offset=</span><span class=s>&#34;0.25&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Green&#34;</span> <span class=na>Offset=</span><span class=s>&#34;0.50&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Blue&#34;</span> <span class=na>Offset=</span><span class=s>&#34;0.75&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Violet&#34;</span> <span class=na>Offset=</span><span class=s>&#34;1.0&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/RadialGradientBrush.GradientStops&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/RadialGradientBrush&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/TextBlock.Background&gt;</span></span></span></code></pre></div><p><a href=#R-image-2efcbe3f6b463c100122d188f478e8fe class=lightbox-link><img alt="Rainbow Positioned Radial Gradient Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.6.11.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2efcbe3f6b463c100122d188f478e8fe><img alt="Rainbow Positioned Radial Gradient Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.6.11.png></a></p><p>And of course, we can use a gradient for a <code>Foreground</code> property as well:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;TextBlock</span> <span class=na>Background=</span><span class=s>&#34;White&#34;</span> <span class=na>FontSize=</span><span class=s>&#34;40&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;TextBlock.Foreground&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;LinearGradientBrush&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;LinearGradientBrush.GradientStops&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Red&#34;</span> <span class=na>Offset=</span><span class=s>&#34;0.0&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Yellow&#34;</span> <span class=na>Offset=</span><span class=s>&#34;0.25&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Green&#34;</span> <span class=na>Offset=</span><span class=s>&#34;0.50&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Blue&#34;</span> <span class=na>Offset=</span><span class=s>&#34;0.75&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;GradientStop</span> <span class=na>Color=</span><span class=s>&#34;Violet&#34;</span> <span class=na>Offset=</span><span class=s>&#34;1.0&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;/LinearGradientBrush.GradientStops&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/LinearGradientBrush&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/TextBlock.Foreground&gt;</span>
</span></span><span class=line><span class=cl>    Look, Ma!  I&#39;m in color!
</span></span><span class=line><span class=cl><span class=nt>&lt;/TextBlock&gt;</span></span></span></code></pre></div><p><a href=#R-image-24bdd77402a456ad4e19f9e7cbf0ed95 class=lightbox-link><img alt="Gradient Foreground Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.6.12.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-24bdd77402a456ad4e19f9e7cbf0ed95><img alt="Gradient Foreground Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.6.12.png></a></p><h4 id=image-brushes>Image Brushes</h4><p>To draw a saved image, we use an <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.media.imagebrush?view=windowsdesktop-6.0" rel=external target=_blank>ImageBrush</a>, setting its <code>ImageSource</code> property to the image we want to use. In XAML, that can be as simple as:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Button</span> <span class=na>Margin=</span><span class=s>&#34;40&#34;</span> <span class=na>Foreground=</span><span class=s>&#34;White&#34;</span> <span class=na>FontSize=</span><span class=s>&#34;30&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button.Background&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ImageBrush</span> <span class=na>ImageSource=</span><span class=s>&#34;Dish.jpg&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Button.Background&gt;</span>
</span></span><span class=line><span class=cl>    Broadcast
</span></span><span class=line><span class=cl><span class=nt>&lt;/Button&gt;</span></span></span></code></pre></div><p><a href=#R-image-2f959f282b23be962b26eaae780c6e5f class=lightbox-link><img alt="Image Brush Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.6.13.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2f959f282b23be962b26eaae780c6e5f><img alt="Image Brush Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.6.13.png></a></p><p>We can apply image brushes to any WPF control, allowing for some interesting layering effects, i.e.:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Grid&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Grid.Background&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ImageBrush</span> <span class=na>ImageSource=</span><span class=s>&#34;watering-can.jpg&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid.Background&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Grid.ColumnDefinitions&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ColumnDefinition/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ColumnDefinition/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ColumnDefinition/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid.ColumnDefinitions&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Grid.RowDefinitions&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;RowDefinition/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;RowDefinition/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;RowDefinition/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid.RowDefinitions&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Button</span> <span class=na>Margin=</span><span class=s>&#34;40&#34;</span> <span class=na>Foreground=</span><span class=s>&#34;White&#34;</span> <span class=na>FontSize=</span><span class=s>&#34;30&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Button.Background&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;ImageBrush</span> <span class=na>ImageSource=</span><span class=s>&#34;Dish.jpg&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/Button.Background&gt;</span>
</span></span><span class=line><span class=cl>        Broadcast
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/Grid&gt;</span></span></span></code></pre></div><p><a href=#R-image-4a5e4d8bcb1455b3cab47bc88636ae81 class=lightbox-link><img alt="Image Brush Layering Example" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.6.14.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4a5e4d8bcb1455b3cab47bc88636ae81><img alt="Image Brush Layering Example" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.6.14.png></a></p><p>You probably notice that the dish image on the button is distorted. We can correct this by changing the <a href="https://docs.microsoft.com/en-us/dotnet/desktop/wpf/graphics-multimedia/tilebrush-overview?view=netframeworkdesktop-4.8#the-base-tile" rel=external target=_blank>Stretch</a> property. The possible values are: <code>"None"</code>, <code>"Fill"</code>, <code>"Uniform"</code>, and <code>"UniformToFill"</code>. This graphic from the documentation visual shows these properties:</p><p><a href=#R-image-d8f730c6d3efd374974c6565fe27a83a class=lightbox-link><img alt="The applied Stretch property" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.6.17.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d8f730c6d3efd374974c6565fe27a83a><img alt="The applied Stretch property" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.6.17.png></a></p><p>The <code>ImageBrush</code> extends the <code>TileBrush</code>, so the image can actually be <em>tiled</em> if the tile size is set to be smaller than the element that it is painting. The <a href=https://docs.microsoft.com/en-us/dotnet/desktop/wpf/graphics-multimedia/tilebrush-overview rel=external target=_blank>TileBrush Overview</a> provides a detailed breakdown of applying tiling.</p><div class="box notices cstyle warning"><div class=box-label><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div><div class=box-content><p>When using images with Visual Studio, it is important to understand how those are used and distributed. You should make sure the images are physically located within the project folder (so that they are included in your source control). Additionally, you want to mark the property &ldquo;Copy to Output Directory&rdquo; to either &ldquo;Copy Always&rdquo; or &ldquo;Copy if Newer.&rdquo; When distributing your project, these files will also need to be distributed, or the image will be unavailable to your executable.
<a href=#R-image-bdab4a216d92e3de1adf5e471773021d class=lightbox-link><img alt="Copy to Output Directory" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.6.15.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-bdab4a216d92e3de1adf5e471773021d><img alt="Copy to Output Directory" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.6.15.png></a></p></div></div><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=editing-wpf-controls>Editing WPF Controls</h1><p>To create a new WPF control from within Visual Studio, we usually choose <strong>&ldquo;Add > User Control (WPF&mldr;)&rdquo;</strong> from the solution context menu.</p><p><a href=#R-image-ad80e22deed33473bc1688ff861a18ee class=lightbox-link><img alt="Adding a UserControl in Visual Studio" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.7.1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ad80e22deed33473bc1688ff861a18ee><img alt="Adding a UserControl in Visual Studio" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.7.1.png></a></p><p>This creates two files, the <em>[filename].xaml</em>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;UserControl</span> <span class=na>x:Class=</span><span class=s>&#34;WpfApp1.UserControl1&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:x=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:mc=</span><span class=s>&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>xmlns:d=</span><span class=s>&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>xmlns:local=</span><span class=s>&#34;clr-namespace:WpfApp1&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>mc:Ignorable=</span><span class=s>&#34;d&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>d:DesignHeight=</span><span class=s>&#34;100&#34;</span> <span class=na>d:DesignWidth=</span><span class=s>&#34;400&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Grid&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/UserControl&gt;</span></span></span></code></pre></div><p>and the codebehind for that XAML file, <em>[filename].xaml.cs</em> (where [filename] is the name you supplied):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>using</span> <span class=nn>System</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Collections.Generic</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Collections.ObjectModel</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Text</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows.Controls</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows.Data</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows.Documents</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows.Input</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows.Media</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows.Media.Imaging</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows.Navigation</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows.Shapes</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>namespace</span> <span class=nn>WpfApp1</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Interaction logic for UserControl1.xaml</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>partial</span> <span class=k>class</span> <span class=nc>UserControl1</span> <span class=p>:</span> <span class=n>UserControl</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=n>UserControl1</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>InitializeComponent</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>As was mentioned previously, the <code>InitializeComponent()</code> call in the constructor is what builds the structure specified in the XAML file to the object, so it should not be removed, nor should any manipulation of that structure be done before this method invocation.</p><div class="box notices cstyle tip"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Tip</div><div class=box-content><p>Most custom controls are subclasses of the <code>UserControl</code> class, and choosing this option has Visual Studio create the boilerplate for us. However, if you need to extend a <em>specific</em> control, i.e. a <code>ListView</code>, it is often easiest to start with a <code>UserControl</code> made this way, and then change the base class to <code>ListView</code> in the <em>[filename].xaml.cs</em> file, as well as changing the <code>&lt;UserControl></code> element to a <code>&lt;ListView></code> element in the <em>[filename].xaml</em>.</p></div></div><h3 id=namespaces-and-assemblies>Namespaces and Assemblies</h3><p>Also, notice how the attributes of the control in the XAML file contain a <em>local</em> namespace:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl> xmlns:local=&#34;clr-namespace:WpfApp1&#34;</span></span></code></pre></div><p>This is the equivalent of a <code>using</code> statement for XAML; it creates the <code>local</code> namespace and ties it to the project&rsquo;s primary namespace. We can then create an element corresponding to any class in that namespace. Let&rsquo;s say we have another custom control, <code>ThingAMaJig</code> that we want to utilize in this control. We can use the element notation to add it to our grid:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl>    <span class=nt>&lt;Grid&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;local:ThingAMaJig&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid&gt;</span></span></span></code></pre></div><p>Note that we must preface the class name in the element with the <code>local</code> namespace, with a colon (<code>:</code>) separating the two.</p><p>We can also add additional namespace statements. For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl>xmlns:system=&#34;clr-namespace:System;assembly=mscorlib&#34;</span></span></code></pre></div><p>This brings in the <code>System</code> namespace, so now we can use the classes and types defined there, i.e <code>String</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;system:String&gt;</span>Hello World!<span class=nt>&lt;/system:String&gt;</span></span></span></code></pre></div><p>Note that for the namespace attribute, we also included the assembly information. This is necessary for any assemblies that are not defined by this project (i.e. exist in their own DLL files).</p><h3 id=the-wpf-editor>The WPF Editor</h3><p>In Visual Studio, opening a WPF XAML file will open a special editor that provides a side-by-side visual and XAML code editors for the control:</p><p><a href=#R-image-1a3040f1215e92f0a959dfe7a0d4e56a class=lightbox-link><img alt="The Visual Studio WPF XAML Editor" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.7.2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1a3040f1215e92f0a959dfe7a0d4e56a><img alt="The Visual Studio WPF XAML Editor" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.7.2.png></a></p><p>As you edit the XAML, it also updates the visualization in the visual editor. Also, many element properties can be edited from the visual editor or the properties pane - and these changes are automatically applied to the XAML. And, just like with Windows Forms, you can drag controls from the toolbox into the visualization to add them to the layout.</p><p>However, you will likely find yourselves often directly editing the XAML. This is often the fastest and most foolproof way of editing WPF controls. Remember that in WPF controls resize to fit the available space, and are not positioned by coordinates. For this reason, the visual editor will actually apply <em>margins</em> instead of positioning elements, which can cause unexpected results if your application is viewed at a different resolution (including some controls being inaccessible as they are covered by other controls).</p><p>A couple of buttons in the editor deserve some closer attention:</p><p><a href=#R-image-f88eb435022eb57cc1ad2b736cb5f639 class=lightbox-link><img alt="Visual Studio WPF XAML Editor Button Detail 1" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.7.3.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f88eb435022eb57cc1ad2b736cb5f639><img alt="Visual Studio WPF XAML Editor Button Detail 1" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.7.3.png></a></p><ol><li>The zoom factor in the design editor</li><li>Refreshes the design editor - sometimes it hangs on re-rendering, and you need to click this.</li><li>Toggles rendering effects (These use the graphics hardware, and can be computationally involved. Turning them off can improve performance on weaker machines)</li><li>Toggles the snap grid (provides grid lines for easier layout)</li><li>Toggles snap-to-grid</li><li>Toggles the artboard background (which provides a checkered background to make it easier to judge what is transparent)</li><li>Toggles snapping to snap lines (those lines that appear between controls to help you align them)</li><li>Toggles showing platform-only vs. all controls (for when targeting multiple platforms)</li></ol><p><a href=#R-image-c4d1748e574f4f373f7e2343834d0b59 class=lightbox-link><img alt="Visual Studio WPF XAML Editor Button Detail 2" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.7.4.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c4d1748e574f4f373f7e2343834d0b59><img alt="Visual Studio WPF XAML Editor Button Detail 2" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.7.4.png></a></p><ol start=9><li>Switches to a vertical split between the design editor and XAML editor</li><li>Switches to a horizontal split between the design editor and XAML editor</li><li>Switches to showing only the design editor or XAML editor</li></ol><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=component-based-design>Component-Based Design</h1><p>WPF and XAML lend themselves to a design approach known as Component-Based Design or Component-Based Development, which rather than focusing on developing the entire GUI in one go, focuses on decomposing user experiences (UX) into individual, focused, and potentially reusable components. These can, in turn, be used to build larger components, and eventually, the entire GUI (see <a href=https://opensenselabs.com/blog/articles/uxprinciples-cbs rel=external target=_blank>&ldquo;UX Principles for Designing Component Based Systems&rdquo;</a> for more details).</p><p>Let&rsquo;s dig deeper by focusing on a specific example. Let&rsquo;s say we want to build an application for keeping track of multiple shopping lists. So our core component is a displayed list, plus a mechanism for adding to it. Let&rsquo;s create a <code>UserComponent</code> to represent this.</p><p>For laying out the component, let&rsquo;s say at the very top, we place the text &ldquo;Shopping List For&rdquo;, and directly below that we have an editable text box where the user can enter a store name. On the bottom, we&rsquo;ll have a text box to enter a new item, and a button to add that item to the list. And in the space between, we&rsquo;ll show the list in its current form. This sounds like an ideal fit for the <code>DockPanel</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;UserControl</span> <span class=na>x:Class=</span><span class=s>&#34;ShopEasy.ShoppingList&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:x=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:mc=</span><span class=s>&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>xmlns:d=</span><span class=s>&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>xmlns:local=</span><span class=s>&#34;clr-namespace:ShopEasy&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>mc:Ignorable=</span><span class=s>&#34;d&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>d:DesignHeight=</span><span class=s>&#34;450&#34;</span> <span class=na>d:DesignWidth=</span><span class=s>&#34;200&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;DockPanel&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;TextBlock</span> <span class=na>DockPanel.Dock=</span><span class=s>&#34;Top&#34;</span> <span class=na>FontWeight=</span><span class=s>&#34;Bold&#34;</span> <span class=na>TextAlignment=</span><span class=s>&#34;Center&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>            Shopping List For:
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/TextBlock&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;TextBox</span> <span class=na>DockPanel.Dock=</span><span class=s>&#34;Top&#34;</span> <span class=na>FontWeight=</span><span class=s>&#34;Bold&#34;</span> <span class=na>TextAlignment=</span><span class=s>&#34;Center&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Button</span> <span class=na>DockPanel.Dock=</span><span class=s>&#34;Bottom&#34;</span> <span class=na>Click=</span><span class=s>&#34;AddItemToList&#34;</span><span class=nt>&gt;</span>Add Item To List<span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;TextBox</span> <span class=na>Name=</span><span class=s>&#34;itemTextBox&#34;</span> <span class=na>DockPanel.Dock=</span><span class=s>&#34;Bottom&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ListView</span> <span class=na>Name=</span><span class=s>&#34;itemsListView&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/DockPanel&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/UserControl&gt;</span></span></span></code></pre></div><p>Now in our codebehind, we&rsquo;ll need to define the <code>AddItemToList</code> event handler:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows.Controls</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>namespace</span> <span class=nn>ShopEasy</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Interaction logic for ShoppingList.xaml</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>partial</span> <span class=k>class</span> <span class=nc>ShoppingList</span> <span class=p>:</span> <span class=n>UserControl</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// Constructs a new ShoppingList</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=n>ShoppingList</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>InitializeComponent</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// Adds the item in the itemTextBox to the itemsListView</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;param name=&#34;sender&#34;&gt;The object sending the event&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;param name=&#34;e&#34;&gt;The events describing the event&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>        <span class=k>void</span> <span class=n>AddItemToList</span><span class=p>(</span><span class=kt>object</span> <span class=n>sender</span><span class=p>,</span> <span class=n>RoutedEventArgs</span> <span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// Make sure there&#39;s an item to add</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>itemTextBox</span><span class=p>.</span><span class=n>Text</span><span class=p>.</span><span class=n>Length</span> <span class=p>==</span> <span class=m>0</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=c1>// Add the item to the list</span>
</span></span><span class=line><span class=cl>            <span class=n>itemsListView</span><span class=p>.</span><span class=n>Items</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>itemTextBox</span><span class=p>.</span><span class=n>Text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=c1>// Clear the text box</span>
</span></span><span class=line><span class=cl>            <span class=n>itemTextBox</span><span class=p>.</span><span class=n>Clear</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>This particular component is pretty much self-contained. We can use it in other components that need a shopping list. In our case, we&rsquo;ll add it to a collection of shopping lists we can flip through with a couple of buttons, as well as create new lists in. Let&rsquo;s call this control <code>ListSwitcher</code>.</p><p>This time, let&rsquo;s use a <code>Grid</code> layout and divide the available space into three columns and two rows. The columns we&rsquo;ll leave with the default width (<code>"1*"</code>), but the bottom row we&rsquo;ll set as 100 units high, leaving the top row to expand to fill the remaining space. Along the bottom we&rsquo;ll create three buttons to navigate between shopping lists. On the top, we&rsquo;ll use the <code>Grid.ColumnSpan</code> property on a <code>Border</code> to span the three columns, creating a container where we&rsquo;ll display the current <code>ShoppingList</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;UserControl</span> <span class=na>x:Class=</span><span class=s>&#34;ShopEasy.ListSwitcher&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:x=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:mc=</span><span class=s>&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>xmlns:d=</span><span class=s>&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>xmlns:local=</span><span class=s>&#34;clr-namespace:ShopEasy&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>mc:Ignorable=</span><span class=s>&#34;d&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>d:DesignHeight=</span><span class=s>&#34;450&#34;</span> <span class=na>d:DesignWidth=</span><span class=s>&#34;200&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Grid&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Grid.ColumnDefinitions&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;ColumnDefinition/&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;ColumnDefinition/&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;ColumnDefinition/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/Grid.ColumnDefinitions&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Grid.RowDefinitions&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;RowDefinition/&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;RowDefinition</span> <span class=na>Height=</span><span class=s>&#34;100&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/Grid.RowDefinitions&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Border</span> <span class=na>Name=</span><span class=s>&#34;listContainer&#34;</span> <span class=na>Grid.ColumnSpan=</span><span class=s>&#34;3&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/Border&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Button</span> <span class=na>Grid.Row=</span><span class=s>&#34;1&#34;</span> <span class=na>Click=</span><span class=s>&#34;OnPriorList&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=ni>&amp;lt;</span> Prior List
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Button</span> <span class=na>Grid.Row=</span><span class=s>&#34;1&#34;</span> <span class=na>Grid.Column=</span><span class=s>&#34;1&#34;</span> <span class=na>Click=</span><span class=s>&#34;OnNewList&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>            New List
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Button</span> <span class=na>Grid.Row=</span><span class=s>&#34;1&#34;</span> <span class=na>Grid.Column=</span><span class=s>&#34;2&#34;</span> <span class=na>Click=</span><span class=s>&#34;OnNextList&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>            Next List <span class=ni>&amp;gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/Button&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/UserControl&gt;</span></span></span></code></pre></div><p>Now we&rsquo;ll implement the three button <code>Click</code> event handlers in the codebehind, as well as creating a <code>List&lt;ShoppingList></code> to store all of our lists:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Collections.Generic</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Windows.Controls</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>namespace</span> <span class=nn>ShopEasy</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Interaction logic for ListSwitcher.xaml</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>partial</span> <span class=k>class</span> <span class=nc>ListSwitcher</span> <span class=p>:</span> <span class=n>UserControl</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// The list of shopping lists managed by this control</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>        <span class=n>List</span><span class=p>&lt;</span><span class=n>ShoppingList</span><span class=p>&gt;</span> <span class=n>lists</span> <span class=p>=</span> <span class=k>new</span> <span class=n>List</span><span class=p>&lt;</span><span class=n>ShoppingList</span><span class=p>&gt;();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// The index of the currently displayed shopping list</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>currentListIndex</span> <span class=p>=</span> <span class=m>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// Constructs a new ListSwitcher</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=n>ListSwitcher</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>InitializeComponent</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// Creates a new ShoppingList and displays it</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;param name=&#34;sender&#34;&gt;What triggered this event&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;param name=&#34;e&#34;&gt;The parameters of this event&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>        <span class=k>void</span> <span class=n>OnNewList</span><span class=p>(</span><span class=kt>object</span> <span class=n>sender</span><span class=p>,</span> <span class=n>RoutedEventArgs</span> <span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// Create a new shopping list</span>
</span></span><span class=line><span class=cl>            <span class=kt>var</span> <span class=n>list</span> <span class=p>=</span> <span class=k>new</span> <span class=n>ShoppingList</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=c1>// The current count of lists will be the index of the next list added</span>
</span></span><span class=line><span class=cl>            <span class=n>currentListIndex</span> <span class=p>=</span> <span class=n>lists</span><span class=p>.</span><span class=n>Count</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=c1>// Add the list to the list of shopping lists</span>
</span></span><span class=line><span class=cl>            <span class=n>lists</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=n>list</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=c1>// Display the list on the control</span>
</span></span><span class=line><span class=cl>            <span class=n>listContainer</span><span class=p>.</span><span class=n>Child</span> <span class=p>=</span> <span class=n>list</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// Displays the prior shopping list</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;param name=&#34;sender&#34;&gt;What triggered this event&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;param name=&#34;e&#34;&gt;The parameters of this event&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>        <span class=k>void</span> <span class=n>OnPriorList</span><span class=p>(</span><span class=kt>object</span> <span class=n>sender</span><span class=p>,</span> <span class=n>RoutedEventArgs</span> <span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// don&#39;t try to access an empty list </span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>lists</span><span class=p>.</span><span class=n>Count</span> <span class=p>==</span> <span class=m>0</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=c1>// decrement the currentListIndex</span>
</span></span><span class=line><span class=cl>            <span class=n>currentListIndex</span><span class=p>--;</span>
</span></span><span class=line><span class=cl>            <span class=c1>// make sure we don&#39;t go below the first index in the list (0)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>currentListIndex</span> <span class=p>&lt;</span> <span class=m>0</span><span class=p>)</span> <span class=n>currentListIndex</span> <span class=p>=</span> <span class=m>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=c1>// display the indexed list </span>
</span></span><span class=line><span class=cl>            <span class=n>listContainer</span><span class=p>.</span><span class=n>Child</span> <span class=p>=</span> <span class=n>lists</span><span class=p>[</span><span class=n>currentListIndex</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// Displays the next shopping list</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;param name=&#34;sender&#34;&gt;What triggered this event&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;param name=&#34;e&#34;&gt;The parameters of this event&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>        <span class=k>void</span> <span class=n>OnNextList</span><span class=p>(</span><span class=kt>object</span> <span class=n>sender</span><span class=p>,</span> <span class=n>RoutedEventArgs</span> <span class=n>e</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>// don&#39;t try to access an empty list </span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>lists</span><span class=p>.</span><span class=n>Count</span> <span class=p>==</span> <span class=m>0</span><span class=p>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=c1>// increment the currentListIndex</span>
</span></span><span class=line><span class=cl>            <span class=n>currentListIndex</span><span class=p>++;</span>
</span></span><span class=line><span class=cl>            <span class=c1>// make sure we don&#39;t go above the last index in the list (Count - 1)</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>currentListIndex</span> <span class=p>&gt;</span> <span class=n>lists</span><span class=p>.</span><span class=n>Count</span> <span class=p>-</span> <span class=m>1</span><span class=p>)</span> <span class=n>currentListIndex</span> <span class=p>=</span> <span class=n>lists</span><span class=p>.</span><span class=n>Count</span> <span class=p>-</span> <span class=m>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=c1>// display the indexed list </span>
</span></span><span class=line><span class=cl>            <span class=n>listContainer</span><span class=p>.</span><span class=n>Child</span> <span class=p>=</span> <span class=n>lists</span><span class=p>[</span><span class=n>currentListIndex</span><span class=p>];</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>And finally, we&rsquo;ll modify our <code>MainWindow</code> XAML to display a <code>ListSwitcher</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Window</span> <span class=na>x:Class=</span><span class=s>&#34;ShopEasy.MainWindow&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:x=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:d=</span><span class=s>&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:mc=</span><span class=s>&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:local=</span><span class=s>&#34;clr-namespace:ShopEasy&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>mc:Ignorable=</span><span class=s>&#34;d&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>Title=</span><span class=s>&#34;MainWindow&#34;</span> <span class=na>Height=</span><span class=s>&#34;450&#34;</span> <span class=na>Width=</span><span class=s>&#34;200&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Grid&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;local:ListSwitcher/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/Window&gt;</span></span></span></code></pre></div><p>The resulting app allows us to create multiple shopping lists, and swap between them using the buttons:</p><p><a href=#R-image-e9f72c37e981b31b8037b408d12d75cc class=lightbox-link><img alt="ShopEasy App" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.1.8.1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e9f72c37e981b31b8037b408d12d75cc><img alt="ShopEasy App" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.1.8.1.png></a></p><p>Much like we can use objects to break program functionality into smaller, more focused units, we can use component-based design to break GUIs into smaller, more focused units. Both reflect one of the principles of good programming practice - the Single Responsibility Principle. This principle suggests each unit of code should focus on a single responsibility, and more complex behaviors be achieved by using multiple units together. As we see here, this principle extends across multiple programming paradigms.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=summary>Summary</h1><p>In this chapter, we introduced a new desktop application programming framework - Windows Presentation Foundation (WPF). We explored how WPF uses XAML to define partial classes, allowing for a graphical design editor with regular C# codebehind. We explored XAML syntax and many of the controls found in WPF. We also compared WPF with Windows Forms, which you have previously explored in prior classes. Finally, we discussed an approach to developing GUIs, <em>Component-Based Design</em>, which applies the Single Responsibility Principle to controls, and builds more complex controls through <em>composition</em> of these simpler controls.</p><footer class=footline></footer></article></section></div></main><div class=git-footer><p class=theme-version-footer>6.0.0</p><p>Last modified by:
<i class='fas fa-user'></i> Russell Feldhausen
<i class='fas fa-calendar'></i> <a href=https://github.com/ksu-cs-textbooks/cis400/commit/681e5c9c43e3ac6de614c2cc74487702fd43cab7>Aug 10, 2023</a></p></div></div><script src=/cis400/js/clipboard.min.js?1733760446 defer></script><script src=/cis400/js/perfect-scrollbar.min.js?1733760446 defer></script><script src=/cis400/js/theme.js?1733760446 defer></script></body></html>