<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="Linking GUIs to Data"><meta name=author content="Nathan Bean"><meta name=twitter:card content="summary"><meta name=twitter:title content="Data Binding :: K-State CIS 400 Textbook"><meta name=twitter:description content="Linking GUIs to Data"><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis400/2-desktop-development/04-data-binding/"><meta property="og:site_name" content="K-State CIS 400 Textbook"><meta property="og:title" content="Data Binding :: K-State CIS 400 Textbook"><meta property="og:description" content="Linking GUIs to Data"><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta itemprop=name content="Data Binding :: K-State CIS 400 Textbook"><meta itemprop=description content="Linking GUIs to Data"><meta itemprop=datePublished content="2018-08-24T10:53:05-05:00"><meta itemprop=dateModified content="2023-08-10T15:29:34-05:00"><meta itemprop=wordCount content="4"><title>Data Binding :: K-State CIS 400 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis400/2-desktop-development/04-data-binding/ rel=canonical type=text/html title="Data Binding :: K-State CIS 400 Textbook"><link href=/cis400/2-desktop-development/04-data-binding/index.xml rel=alternate type=application/rss+xml title="Data Binding :: K-State CIS 400 Textbook"><link href=/cis400/2-desktop-development/04-data-binding/tele.html rel=alternate type=text/html title="Data Binding :: K-State CIS 400 Textbook"><link href=/cis400/2-desktop-development/04-data-binding/embed.html rel=alternate type=text/html title="Data Binding :: K-State CIS 400 Textbook"><link href=/cis400/css/fontawesome-all.min.css?1733760446 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/fontawesome-all.min.css?1733760446 rel=stylesheet></noscript><link href=/cis400/css/nucleus.css?1733760446 rel=stylesheet><link href=/cis400/css/auto-complete.css?1733760446 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/auto-complete.css?1733760446 rel=stylesheet></noscript><link href=/cis400/css/perfect-scrollbar.min.css?1733760446 rel=stylesheet><link href=/cis400/css/fonts.css?1733760446 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/fonts.css?1733760446 rel=stylesheet></noscript><link href=/cis400/css/theme.css?1733760446 rel=stylesheet><link href=/cis400/css/theme-auto.css?1733760446 rel=stylesheet id=R-variant-style><link href=/cis400/css/chroma-auto.css?1733760446 rel=stylesheet id=R-variant-chroma-style><link href=/cis400/css/variant.css?1733760446 rel=stylesheet><link href=/cis400/css/print.css?1733760446 rel=stylesheet media=print><link href=/cis400/css/format-print.css?1733760446 rel=stylesheet><script src=/cis400/js/variant.js?1733760446></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis400",window.index_js_url="/cis400/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis400/css/custom.css?1733760446 rel=stylesheet></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=/cis400/2-desktop-development/04-data-binding/><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/cis400/2-desktop-development/><span itemprop=name>Desktop Development</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Data Binding</span><meta itemprop=position content="2"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis400/2-desktop-development/03-events/12-summary/ title="Summary (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis400/2-desktop-development/04-data-binding/01-introduction/ title="Introduction (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable chapter narrow" tabindex=-1><div class=flex-block-wrapper><article class=chapter><header class=headline></header><div class=article-subheading>Chapter 4</div><h1 id=data-binding>Data Binding</h1><p>Linking GUIs to Data</p><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of Data Binding</h1><article class=default><header class=headline></header><h1 id=introduction>Introduction</h1><p>The term <em>data binding</em> refers to binding two objects together programmatically so that one has access to the data of the other. We most commonly see this with user interfaces and data objects - the user interface <em>exposes</em> some of the state of the data object to the user. As with many programming tasks, there are a number of ways to approach data binding. The Windows Presentation Foundation in C# has adopted an event and component-based approach that we will explore in this chapter.</p><h2 id=key-terms>Key Terms</h2><p>Some key terms to learn in this chapter are:</p><ul><li>Data Binding</li><li>One-way data binding</li><li>Two-way data binding</li><li>Data Context</li></ul><h2 id=key-skills>Key Skills</h2><p>Some key skills you need to develop in this chapter are:</p><ul><li>Binding data objects to UI Components</li><li>Implementing (realizing) the <code>INotifyPropertyChanged</code> interface</li><li>Invoking event handlers</li><li>Using the <code>DataContext</code> property</li><li>Casting objects to a specific Type without triggering errors</li></ul><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=data-binding>Data Binding</h1><p>Data binding is a technique for synchronizing data between a provider and consumer, so that any time the data changes, the change is reflected in the bound elements. This strategy is commonly employed in graphical user interfaces (GUIs) to bind controls to data objects. Both Windows Forms and Windows Presentation Foundation employ data binding.</p><p>In WPF, the data object is essentially a normal C# object, which represents some data we want to display in a control. However, this object must implement the <code>INotifyPropertyChanged</code> interface in order for changes in the data object to be automatically applied to the WPF control it is bound to. Implementing this interface comes with two requirements. First, the class will define a <code>PropertyChanged</code> event:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=k>event</span> <span class=n>PropertyChangedEventHandler</span><span class=p>?</span> <span class=n>PropertyChanged</span><span class=p>;</span></span></span></code></pre></div><p>And second, it will invoke that <code>PropertyChanged</code> event handler <em>whenever</em> one of its properties changes:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>PropertyChanged</span><span class=p>?.</span><span class=n>Invoke</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=k>new</span> <span class=n>PropertyChangedEventArgs</span><span class=p>(</span><span class=s>&#34;ThePropertyName&#34;</span><span class=p>));</span></span></span></code></pre></div><p>The string provided to the <code>PropertyChangedEventArgs</code> constructor <em>must</em> match the property name <em>exactly</em>, including capitalization.</p><p>For example, this simple person implementation is ready to serve as a data object:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl><span class=cs>/// A class representing a person </span>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>Person</span> <span class=p>:</span> <span class=n>INotifyPropertyChanged</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// An event triggered when a property changes </span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=k>event</span> <span class=n>PropertyChangedEventHandler</span><span class=p>?</span> <span class=n>PropertyChanged</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>string</span> <span class=n>firstName</span> <span class=p>=</span> <span class=s>&#34;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// This person&#39;s first name </span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>string</span> <span class=n>FirstName</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>get</span> <span class=p>{</span> <span class=k>return</span> <span class=n>firstName</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>set</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>firstName</span> <span class=p>=</span> <span class=k>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>PropertyChanged</span><span class=p>?.</span><span class=n>Invoke</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=k>new</span> <span class=n>PropertyChangedEventArgs</span><span class=p>(</span><span class=s>&#34;FirstName&#34;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>            <span class=n>PropertyChanged</span><span class=p>?.</span><span class=n>Invoke</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=k>new</span> <span class=n>PropertyChangedEventArgs</span><span class=p>(</span><span class=s>&#34;FullName&#34;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>string</span> <span class=n>lastName</span> <span class=p>=</span> <span class=s>&#34;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// This person&#39;s last name </span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>string</span> <span class=n>LastName</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>get</span> <span class=p>{</span> <span class=k>return</span> <span class=n>lastName</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>set</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>lastName</span> <span class=p>=</span> <span class=k>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>PropertyChanged</span><span class=p>?.</span><span class=n>Invoke</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=k>new</span> <span class=n>PropertyChangedEventArgs</span><span class=p>(</span><span class=s>&#34;LastName&#34;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>            <span class=n>PropertyChanged</span><span class=p>?.</span><span class=n>Invoke</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=k>new</span> <span class=n>PropertyChangedEventArgs</span><span class=p>(</span><span class=s>&#34;FullName&#34;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// This persons&#39; full name </span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>string</span> <span class=n>FullName</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>get</span> <span class=p>{</span> <span class=k>return</span> <span class=s>$&#34;{firstName} {lastName}&#34;</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Constructs a new person </span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;param Name=&#34;first&#34;&gt;The person&#39;s first name&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;param Name=&#34;last&#34;&gt;The person&#39;s last name&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Person</span><span class=p>(</span><span class=kt>string</span> <span class=n>first</span><span class=p>,</span> <span class=kt>string</span> <span class=n>last</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=n>firstName</span> <span class=p>=</span> <span class=n>first</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=n>lastName</span> <span class=p>=</span> <span class=n>last</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>There are several details to note here. As the <code>FirstName</code> and <code>LastName</code> properties have setters, we must invoke the <code>PropertyChanged</code> event within them. Because of this extra logic, we can no longer use auto-property syntax. Similarly, as the value of <code>FullName</code> is derived from these properties, we must <em>also</em> notify that <code>"FullName"</code> changes when one of <code>FirstName</code> or <code>LastName</code> changes.</p><p>To accomplish the binding in XAML, we use a syntax similar to that we used for static resources. For example, to bind a <code>&lt;TextBlock></code> element to the <code>FullName</code> property, we would use:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;TextBlock</span> <span class=na>Text=</span><span class=s>&#34;{Binding Path=FullName}&#34;</span> <span class=nt>/&gt;</span></span></span></code></pre></div><p>Just as with our static resource, we wrap the entire value in curly braces (<code>{}</code>), and declare a <code>Binding</code>. The <code>Path</code> in the binding specifies the <em>property</em> we want to bind to - in this case, <code>FullName</code>. This is considered a one-way binding, as the <code>TextBlock</code> element only displays text - it is not editable. The corresponding control for editing a textual property is the <code>&lt;TextBox></code>. A two-way binding is declared the same way i.e.:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;TextBox</span> <span class=na>Text=</span><span class=s>&#34;{Binding Path=FirstName}&#34;</span> <span class=nt>/&gt;</span></span></span></code></pre></div><p>However, we cannot bind a read-only property (one that has no setter) to an editable control - only those with both accessible getters and setters. The XAML for a complete control for editing a person might look something like:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;UserControl</span> <span class=na>x:Class=</span><span class=s>&#34;DataBindingExample.PersonControl&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:x=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:mc=</span><span class=s>&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>xmlns:d=</span><span class=s>&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span>     
</span></span><span class=line><span class=cl>             <span class=na>xmlns:local=</span><span class=s>&#34;clr-namespace:DataBindingExample&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:system=</span><span class=s>&#34;clr-namespace:System;assembly=mscorlib&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>mc:Ignorable=</span><span class=s>&#34;d&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>d:DesignHeight=</span><span class=s>&#34;450&#34;</span> <span class=na>d:DesignWidth=</span><span class=s>&#34;400&#34;</span><span class=nt>&gt;</span>    
</span></span><span class=line><span class=cl>    <span class=nt>&lt;StackPanel&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;TextBlock</span> <span class=na>Text=</span><span class=s>&#34;{Binding Path=FullName}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Label&gt;</span>First<span class=nt>&lt;/Label&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;TextBox</span> <span class=na>Text=</span><span class=s>&#34;{Binding Path=FirstName}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Label&gt;</span>Last<span class=nt>&lt;/Label&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;TextBox</span> <span class=na>Text=</span><span class=s>&#34;{Binding Path=LastName}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/StackPanel&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/UserControl&gt;</span></span></span></code></pre></div><p>We also need to set the <code>DataContext</code> property of the control. This property holds the specific data object whose properties are bound in the control. For example, we could pass a <code>Person</code> object into the <code>PersonControl</code>&rsquo;s constructor and set it as the <code>DataContext</code> in the codebehind:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>namespace</span> <span class=nn>DataBindingExample</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Interaction logic for PersonControl.xaml</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>partial</span> <span class=k>class</span> <span class=nc>PersonEntry</span> <span class=p>:</span> <span class=n>UserControl</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// Constructs a new PersonEntrycontrol </span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>        <span class=cs>/// &lt;param Name=&#34;person&#34;&gt;The person object to data bind&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=n>PersonEntry</span><span class=p>(</span><span class=n>Person</span> <span class=n>person</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>InitializeComponent</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=n>DataContext</span> <span class=p>=</span> <span class=n>person</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>However, this approach means we can no longer declare a <code>&lt;PersonControl></code> in XAML (as objects declared this way must have a parameterless constructor). An alternative is to bind the <code>DataContext</code> in the codebehind of an ancestor control; for example, a window containing the control:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Window</span> <span class=na>x:Class=</span><span class=s>&#34;DataContextExample.MainWindow&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:x=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:d=</span><span class=s>&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:mc=</span><span class=s>&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:local=</span><span class=s>&#34;clr-namespace:DataContextExample&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>mc:Ignorable=</span><span class=s>&#34;d&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>Title=</span><span class=s>&#34;MainWindow&#34;</span> <span class=na>Height=</span><span class=s>&#34;450&#34;</span> <span class=na>Width=</span><span class=s>&#34;800&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Grid&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;local:PersonEntry</span> <span class=na>x:Name=</span><span class=s>&#34;personEntry&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/Window&gt;</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>namespace</span> <span class=nn>DataContextExample</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Interaction logic for MainWindow.xaml</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>partial</span> <span class=k>class</span> <span class=nc>MainWindow</span> <span class=p>:</span> <span class=n>Window</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>        
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=n>MainWindow</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>InitializeComponent</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=n>personControl</span><span class=p>.</span><span class=n>DataContext</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Person</span><span class=p>(</span><span class=s>&#34;Bugs&#34;</span><span class=p>,</span> <span class=s>&#34;Bunny&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>Finally, the <code>DataContext</code> has a very interesting relationship with the elements tree. If a control in this tree does not have its own <code>DataContext</code> property directly set, it uses the <code>DataContext</code> of the first ancestor where it <em>has</em> been set. I.e. were we to set the <code>DataContext</code> of the window to a person:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>namespace</span> <span class=nn>DataContextExample</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Interaction logic for MainWindow.xaml</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>partial</span> <span class=k>class</span> <span class=nc>MainWindow</span> <span class=p>:</span> <span class=n>Window</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>        
</span></span><span class=line><span class=cl>        <span class=kd>public</span> <span class=n>MainWindow</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>InitializeComponent</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=n>DataContext</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Person</span><span class=p>(</span><span class=s>&#34;Elmer&#34;</span><span class=p>,</span> <span class=s>&#34;Fudd&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>And have a <code>PersonElement</code> nested somewhere further down the elements tree:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Window</span> <span class=na>x:Class=</span><span class=s>&#34;DataBindingExample.MainWindow&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:x=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:d=</span><span class=s>&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:mc=</span><span class=s>&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:local=</span><span class=s>&#34;clr-namespace:DataBindingExample&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>mc:Ignorable=</span><span class=s>&#34;d&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>Title=</span><span class=s>&#34;MainWindow&#34;</span> <span class=na>Height=</span><span class=s>&#34;450&#34;</span> <span class=na>Width=</span><span class=s>&#34;800&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Grid&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Border&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;local:PersonEntry/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/Border&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/Window&gt;</span></span></span></code></pre></div><p>The bound person (Elmer Fudd)&rsquo;s information would be displayed in the <code>&lt;PersonEntry></code>!</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=the-binding-class>The Binding Class</h1><p>In Windows Presentation Foundation, data binding is accomplished by a binding object that sits between the <em>binding target</em> (the control) and the <em>binding source</em> (the data object):</p><p><a href=#R-image-3abba9a04437225a318187e99ab5aa62 class=lightbox-link><img alt="The WPF Data Binding implementation" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.4.3.1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3abba9a04437225a318187e99ab5aa62><img alt="The WPF Data Binding implementation" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.4.3.1.png></a></p><p>It is this <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.data.binding?view=windowsdesktop-6.0" rel=external target=_blank>Binding</a> object that we are defining the properties of in the XAML attribute with <code>"{Binding}"</code>. Hence, <code>Path</code> is a property defined on this binding.</p><p>As we mentioned before, bindings can be <code>OneWay</code> or <code>TwoWay</code> based on the direction the data flows. The binding mode is specified by the <code>Binding</code> object&rsquo;s <code>Mode</code> property, which can also be set in XAML. There are actually two additional options. The first is a <code>OneWayToSource</code> that is basically a reversed one-way binding (the control updates the data object, but the data object does not update the control)</p><p>For example, we actually <em>could</em> use a <code>&lt;TextEditor></code> with a read-only property, if we changed the binding mode:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;TextEditor</span> <span class=na>Text=</span><span class=s>&#34;{Binding Path=FullName Mode=OneWay}&#34;</span> <span class=nt>/&gt;</span></span></span></code></pre></div><p>Though this might cause your user confusion because they would <em>seem</em> to be able to change the property, but the change would not actually be applied to the bound object. However, if you <em>also</em> set the <code>IsEnabled</code> property to false to prevent the user from making changes:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;TextEditor</span> <span class=na>Text=</span><span class=s>&#34;{Binding Path=FullName Mode=OneWay}&#34;</span> <span class=na>IsEnabled=</span><span class=s>&#34;False&#34;</span> <span class=nt>/&gt;</span></span></span></code></pre></div><p>The second binding mode is <code>OneTime</code> which initializes the control with the property, but does not apply any subsequent changes. This is similar to the behavior you will see from a data object that does not implement the <code>INotifyPropertyChanged</code> interface, as the <code>Binding</code> object depends on it for notifications that the property has changed.</p><p>Generally, you&rsquo;ll want to use a control meant to be used with the mode you intend to employ - editable controls default to <code>TwoWay</code> and display controls to <code>OneWay</code>.</p><p>One other property of the <code>Binding</code> class that&rsquo;s good to know is the <code>Source</code> property. Normally this is determined by the <code>DataContext</code> of the control, but you can override it in the XAML.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=binding-lists>Binding Lists</h1><p>For list controls, i.e. <code>ListView</code> and <code>ListBox</code>, the appropriate binding is a collection implementing <code>IEnumerable</code>, and we bind it to the <code>ItemsSource</code> property. Let&rsquo;s say we want to create a directory that displays information for a <code>List&lt;Person></code>. We might write a custom <code>DirectoryControl</code> like:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;UserControl</span> <span class=na>x:Class=</span><span class=s>&#34;DataBindingExample.DirectoryControl&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:x=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:mc=</span><span class=s>&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>xmlns:d=</span><span class=s>&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>xmlns:local=</span><span class=s>&#34;clr-namespace:DataBindingExample&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>mc:Ignorable=</span><span class=s>&#34;d&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>d:DesignHeight=</span><span class=s>&#34;450&#34;</span> <span class=na>d:DesignWidth=</span><span class=s>&#34;800&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Grid&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ListBox</span> <span class=na>ItemsSource=</span><span class=s>&#34;{Binding}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/UserControl&gt;</span></span></span></code></pre></div><p>Notice that we didn&rsquo;t supply a <code>Path</code> with our binding. In this case, we&rsquo;ll be binding directly to the <code>DataContext</code>, which is a list of <code>People</code> objects drawn from the 1996 classic &ldquo;Space Jam&rdquo;, i.e.:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Window</span> <span class=na>x:Class=</span><span class=s>&#34;DataBindingExample.MainWindow&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:x=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:d=</span><span class=s>&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:mc=</span><span class=s>&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:local=</span><span class=s>&#34;clr-namespace:DataBindingExample&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>mc:Ignorable=</span><span class=s>&#34;d&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>Title=</span><span class=s>&#34;MainWindow&#34;</span> <span class=na>Height=</span><span class=s>&#34;450&#34;</span> <span class=na>Width=</span><span class=s>&#34;800&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Grid&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;local:DirectoryControl</span> <span class=na>x:Name=</span><span class=s>&#34;directory&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/Window&gt;</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl><span class=cs>/// Interaction logic for MainWindow.xaml</span>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>partial</span> <span class=k>class</span> <span class=nc>MainWindow</span> <span class=p>:</span> <span class=n>Window</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>MainWindow</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>InitializeComponent</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=n>ObservableCollection</span><span class=p>&lt;</span><span class=n>Person</span><span class=p>&gt;</span> <span class=n>people</span> <span class=p>=</span> <span class=k>new</span> <span class=n>ObservableCollection</span><span class=p>&lt;</span><span class=n>Person</span><span class=p>&gt;()</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>Person</span><span class=p>(</span><span class=s>&#34;Bugs&#34;</span><span class=p>,</span> <span class=s>&#34;Bunny&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>Person</span><span class=p>(</span><span class=s>&#34;Daffy&#34;</span><span class=p>,</span> <span class=s>&#34;Duck&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>Person</span><span class=p>(</span><span class=s>&#34;Elmer&#34;</span><span class=p>,</span> <span class=s>&#34;Fudd&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>Person</span><span class=p>(</span><span class=s>&#34;Tazmanian&#34;</span><span class=p>,</span> <span class=s>&#34;Devil&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>Person</span><span class=p>(</span><span class=s>&#34;Tweety&#34;</span><span class=p>,</span> <span class=s>&#34;Bird&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>Person</span><span class=p>(</span><span class=s>&#34;Marvin&#34;</span><span class=p>,</span> <span class=s>&#34;Martian&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>Person</span><span class=p>(</span><span class=s>&#34;Michael&#34;</span><span class=p>,</span> <span class=s>&#34;Jordan&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>Person</span><span class=p>(</span><span class=s>&#34;Charles&#34;</span><span class=p>,</span> <span class=s>&#34;Barkely&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>Person</span><span class=p>(</span><span class=s>&#34;Patrick&#34;</span><span class=p>,</span> <span class=s>&#34;Ewing&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>            <span class=k>new</span> <span class=n>Person</span><span class=p>(</span><span class=s>&#34;Larry&#34;</span><span class=p>,</span> <span class=s>&#34;Johnson&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>};</span>
</span></span><span class=line><span class=cl>        <span class=n>DataContext</span> <span class=p>=</span> <span class=n>people</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>Instead of a <code>List&lt;Person></code>, we&rsquo;ll use an <code>ObservableCollection&lt;Person></code> which is essentially a list that implements the <code>INotifyPropertyChanged</code> interface.</p><p>When we run this code, our results will be:</p><p><a href=#R-image-1b013d52db6efcd49f6aee13f3bc7834 class=lightbox-link><img alt="The ListView in the running application" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.4.4.1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1b013d52db6efcd49f6aee13f3bc7834><img alt="The ListView in the running application" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.4.4.1.png></a></p><p>This is because the <code>ListBox</code> (and the <code>ListView</code>) by default are composed of <code>&lt;TextBlock></code> elements, so each <code>Person</code> in the list is being bound to a <code>&lt;TextBlock></code>&rsquo;s <code>Text</code> property. This invokes the <code>ToString()</code> method on the <code>Person</code> object, hence the <code>DataBindingExample.Person</code> displayed for each entry.</p><p>We could, of course, override the <code>ToString()</code> method on person. But we can also overwrite the <code>DataTemplate</code> the list uses to display its contents. Instead of using the default <code>&lt;TextView></code>, the list will use the <code>DataContext</code>, and the bindings, we supply. For example, we could re-write the <code>DirectoryControl</code> control as:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;UserControl</span> <span class=na>x:Class=</span><span class=s>&#34;DataBindingExample.DirectoryControl&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:x=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:mc=</span><span class=s>&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>xmlns:d=</span><span class=s>&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>xmlns:local=</span><span class=s>&#34;clr-namespace:DataBindingExample&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>mc:Ignorable=</span><span class=s>&#34;d&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>d:DesignHeight=</span><span class=s>&#34;450&#34;</span> <span class=na>d:DesignWidth=</span><span class=s>&#34;800&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Grid&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ListBox</span> <span class=na>ItemsSource=</span><span class=s>&#34;{Binding}&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;ListBox.ItemTemplate&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;DataTemplate&gt;</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&lt;Border</span> <span class=na>BorderBrush=</span><span class=s>&#34;Black&#34;</span> <span class=na>BorderThickness=</span><span class=s>&#34;2&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=nt>&lt;StackPanel&gt;</span>
</span></span><span class=line><span class=cl>                            <span class=nt>&lt;TextBlock</span> <span class=na>Text=</span><span class=s>&#34;{Binding Path=FullName}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                            <span class=nt>&lt;CheckBox</span> <span class=na>IsChecked=</span><span class=s>&#34;{Binding Path=IsCartoon}&#34;</span> <span class=na>IsEnabled=</span><span class=s>&#34;False&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>                                Is a Looney Toon
</span></span><span class=line><span class=cl>                            <span class=nt>&lt;/CheckBox&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=nt>&lt;/StackPanel&gt;</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&lt;/Border&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;/DataTemplate&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;/ListBox.ItemTemplate&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/ListBox&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/UserControl&gt;</span></span></span></code></pre></div><p>And the resulting application would display:</p><p><a href=#R-image-ce7e370f80420ccf28d50ee27e6f56bc class=lightbox-link><img alt="The updated ListView in the running application" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.4.4.2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ce7e370f80420ccf28d50ee27e6f56bc><img alt="The updated ListView in the running application" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.4.4.2.png></a></p><p>Note that in our <code>DataTemplate</code>, we can bind to properties in the <code>Person</code> object. This works because as the <code>ListBox</code> processes its <code>ItemsSource</code> property, it creates a new instance of its <code>ItemTemplate</code> (in this case, our custom <code>DataTemplate</code>) and assigns the item from the <code>ItemSource</code> to its <code>DataContext</code>.</p><p>Using custom <code>DataTemplates</code> for XAML controls is a powerful feature to customize the appearance and behavior of your GUI.</p><p>Lists also can interact with other elements through bindings. Let&rsquo;s refactor our window so that we have a <code>&lt;PersonRegistry></code> side-by-side with our <code>&lt;PersonControl></code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Window</span> <span class=na>x:Class=</span><span class=s>&#34;DataBindingExample.MainWindow&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:x=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:d=</span><span class=s>&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:mc=</span><span class=s>&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>xmlns:local=</span><span class=s>&#34;clr-namespace:DataBindingExample&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>mc:Ignorable=</span><span class=s>&#34;d&#34;</span>
</span></span><span class=line><span class=cl>        <span class=na>Title=</span><span class=s>&#34;MainWindow&#34;</span> <span class=na>Height=</span><span class=s>&#34;450&#34;</span> <span class=na>Width=</span><span class=s>&#34;800&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Grid&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Grid.ColumnDefinitions&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;ColumnDefinition/&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;ColumnDefinition/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/Grid.ColumnDefinitions&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;local:PersonControl</span> <span class=na>Grid.Column=</span><span class=s>&#34;0&#34;</span> <span class=na>DataContext=</span><span class=s>&#34;{Binding Path=CurrentItem}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;local:DirectoryControl</span> <span class=na>Grid.Column=</span><span class=s>&#34;1&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/Window&gt;</span></span></span></code></pre></div><p>Note how we bind the <code>&lt;PersonControl></code>&rsquo;s <code>DataContext</code> to the <code>CurrentItem</code> of the <code>ObservableCollection&lt;Person></code>. In our <code>&lt;RegistryControl></code>&rsquo;s <code>ListBox</code>, we&rsquo;ll also set its <code>IsSynchronizedWithCurrentItem</code> property to true:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;UserControl</span> <span class=na>x:Class=</span><span class=s>&#34;DataBindingExample.DirectoryControl&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:x=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:mc=</span><span class=s>&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>xmlns:d=</span><span class=s>&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>xmlns:local=</span><span class=s>&#34;clr-namespace:DataBindingExample&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>mc:Ignorable=</span><span class=s>&#34;d&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>d:DesignHeight=</span><span class=s>&#34;450&#34;</span> <span class=na>d:DesignWidth=</span><span class=s>&#34;800&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Grid&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ListBox</span> <span class=na>ItemsSource=</span><span class=s>&#34;{Binding}&#34;</span> <span class=na>HorizontalContentAlignment=</span><span class=s>&#34;Stretch&#34;</span> <span class=na>IsSynchronizedWithCurrentItem=</span><span class=s>&#34;True&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;ListBox.ItemTemplate&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;DataTemplate&gt;</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&lt;Border</span> <span class=na>BorderBrush=</span><span class=s>&#34;Black&#34;</span> <span class=na>BorderThickness=</span><span class=s>&#34;1&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=nt>&lt;StackPanel&gt;</span>
</span></span><span class=line><span class=cl>                            <span class=nt>&lt;TextBlock</span> <span class=na>Text=</span><span class=s>&#34;{Binding Path=FullName}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                            <span class=nt>&lt;CheckBox</span> <span class=na>IsChecked=</span><span class=s>&#34;{Binding Path=IsCartoon, Mode=OneWay}&#34;</span> <span class=na>IsEnabled=</span><span class=s>&#34;False&#34;</span><span class=nt>&gt;</span>Cartoon<span class=nt>&lt;/CheckBox&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=nt>&lt;/StackPanel&gt;</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&lt;/Border&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;/DataTemplate&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;/ListBox.ItemTemplate&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/ListBox&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Grid&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/UserControl&gt;</span></span></span></code></pre></div><p>With these changes, when we select a person in the <code>&lt;RegistryControl></code>, their information will appear in the <code>&lt;PersonControl></code>:</p><p><a href=#R-image-e38cf407de613dfdd237c7f6d93a8ba2 class=lightbox-link><img alt="The bound controls" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/2.4.4.3.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e38cf407de613dfdd237c7f6d93a8ba2><img alt="The bound controls" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/2.4.4.3.png></a></p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=binding-enumerations>Binding Enumerations</h1><p>Now let&rsquo;s delve into a more complex data binding examples - binding enumerations. For this discussion, we&rsquo;ll use a simple enumeration of fruits:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl><span class=cs>/// Possible fruits</span>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>enum</span> <span class=n>Fruit</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Apple</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>Orange</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>Peach</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>Pear</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>And add a <code>FavoriteFruit</code> property to our <code>Person</code> class:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>private</span> <span class=n>Fruit</span> <span class=n>favoriteFruit</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl><span class=cs>/// The person&#39; favorite fruit</span>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=n>Fruit</span> <span class=n>FavoriteFruit</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>get</span> <span class=p>{</span> <span class=k>return</span> <span class=n>favoriteFruit</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>set</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>favoriteFruit</span> <span class=p>=</span> <span class=k>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>PropertyChanged</span><span class=p>?.</span><span class=n>Invoke</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=k>new</span> <span class=n>PropertyChangedEventArgs</span><span class=p>(</span><span class=s>&#34;FavoriteFruit&#34;</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>For example, what if we wanted to use a <code>ListView</code> to select an item out of this enumeration? We&rsquo;d actually need to bind <em>two</em> properties, the <code>ItemSource</code> to get the enumeration values, and the <code>SelectedItem</code> to mark the item being used. To accomplish this binding, we&rsquo;d need to first make the fruits available for binding by creating a static resource to hold them using an <code>ObjectDataProvider</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;ObjectDataProvider</span> <span class=na>x:Key=</span><span class=s>&#34;fruits&#34;</span> <span class=na>ObjectType=</span><span class=s>&#34;system:Enum&#34;</span> <span class=na>MethodName=</span><span class=s>&#34;GetValues&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;ObjectDataProvider.MethodParameters&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;x:Type</span> <span class=na>TypeName=</span><span class=s>&#34;local:Fruit&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/ObjectDataProvider.MethodParameters&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/ObjectDataProvider&gt;</span></span></span></code></pre></div><p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.data.objectdataprovider?view=netcore-3.1" rel=external target=_blank><code>ObjectDataProvider</code></a> is an object that can be used as a data source for WPF bindings, and wraps around an object and invokes a method to get the data - in this case the <code>Enum</code> class, and its static method <code>GetValues()</code>, which takes one parameter, the <code>Type</code> of the enum we want to pull the values of (provided as the nested element, <code>&lt;x:Type></code>).</p><p>Also, note that because the <code>Enum</code> class is defined in the System namespace, we need to bring it into the XAML with an xml namespace mapped to it, with the attribute <code>xmlns</code> defined on the UserControl, i.e.: <code>xmlns:system="clr-namespace:System;assembly=mscorlib"</code>.</p><p>Now we can use the <code>fruits</code> key as part of a data source for a listview: <code>&lt;ListView ItemsSource="{Binding Source={StaticResource fruits}}" SelectedItem="{Binding Path=FavoriteFruit}"/></code></p><p>Notice that we use the <code>Source</code> property of the <code>Binding</code> class to bind the <code>ItemsSource</code> to the enumeration values exposed in the static resource <code>fruits</code>. Then we bind the <code>SelectedItem</code> to the person&rsquo;s <code>FavoriteFruit</code> property. The entire control would be:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;UserControl</span> <span class=na>x:Class=</span><span class=s>&#34;DataBindingExample.PersonControl&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:x=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:mc=</span><span class=s>&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>xmlns:d=</span><span class=s>&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span>     
</span></span><span class=line><span class=cl>             <span class=na>xmlns:local=</span><span class=s>&#34;clr-namespace:DataBindingExample&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:system=</span><span class=s>&#34;clr-namespace:System;assembly=mscorlib&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>mc:Ignorable=</span><span class=s>&#34;d&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>d:DesignHeight=</span><span class=s>&#34;450&#34;</span> <span class=na>d:DesignWidth=</span><span class=s>&#34;400&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;UserControl.Resources&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ObjectDataProvider</span> <span class=na>x:Key=</span><span class=s>&#34;fruits&#34;</span> <span class=na>MethodName=</span><span class=s>&#34;GetValues&#34;</span> <span class=na>ObjectType=</span><span class=s>&#34;{x:Type system:Enum}&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;ObjectDataProvider.MethodParameters&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;x:Type</span> <span class=na>TypeName=</span><span class=s>&#34;local:Fruit&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;/ObjectDataProvider.MethodParameters&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/ObjectDataProvider&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/UserControl.Resources&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;StackPanel&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;TextBlock</span> <span class=na>Text=</span><span class=s>&#34;{Binding Path=FullName}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Label&gt;</span>First<span class=nt>&lt;/Label&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;TextBox</span> <span class=na>Text=</span><span class=s>&#34;{Binding Path=First}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Label&gt;</span>Last<span class=nt>&lt;/Label&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;TextBox</span> <span class=na>Text=</span><span class=s>&#34;{Binding Path=Last}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;CheckBox</span> <span class=na>IsChecked=</span><span class=s>&#34;{Binding Path=IsCartoon}&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>            Is a Looney Toon
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/CheckBox&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ListView</span> <span class=na>ItemsSource=</span><span class=s>&#34;{Binding Source={StaticResource fruits}}&#34;</span> <span class=na>SelectedItem=</span><span class=s>&#34;{Binding Path=FavoriteFruit}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/StackPanel&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/UserControl&gt;</span></span></span></code></pre></div><h3 id=binding-a-combobox-to-an-enum>Binding a ComboBox to an Enum</h3><p>Binding a <code>&lt;ComboBox></code> is almost identical to the <code>ListView</code> example; we just swap a <code>ComboBox</code> for a <code>ListView</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;UserControl</span> <span class=na>x:Class=</span><span class=s>&#34;DataBindingExample.PersonControl&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:x=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:mc=</span><span class=s>&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>xmlns:d=</span><span class=s>&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span>     
</span></span><span class=line><span class=cl>             <span class=na>xmlns:local=</span><span class=s>&#34;clr-namespace:DataBindingExample&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:system=</span><span class=s>&#34;clr-namespace:System;assembly=mscorlib&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>mc:Ignorable=</span><span class=s>&#34;d&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>d:DesignHeight=</span><span class=s>&#34;450&#34;</span> <span class=na>d:DesignWidth=</span><span class=s>&#34;400&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;UserControl.Resources&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ObjectDataProvider</span> <span class=na>x:Key=</span><span class=s>&#34;fruits&#34;</span> <span class=na>MethodName=</span><span class=s>&#34;GetValues&#34;</span> <span class=na>ObjectType=</span><span class=s>&#34;{x:Type system:Enum}&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;ObjectDataProvider.MethodParameters&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;x:Type</span> <span class=na>TypeName=</span><span class=s>&#34;local:Fruit&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;/ObjectDataProvider.MethodParameters&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/ObjectDataProvider&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/UserControl.Resources&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;StackPanel&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;TextBlock</span> <span class=na>Text=</span><span class=s>&#34;{Binding Path=FullName}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Label&gt;</span>First<span class=nt>&lt;/Label&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;TextBox</span> <span class=na>Text=</span><span class=s>&#34;{Binding Path=First}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Label&gt;</span>Last<span class=nt>&lt;/Label&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;TextBox</span> <span class=na>Text=</span><span class=s>&#34;{Binding Path=Last}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;CheckBox</span> <span class=na>IsChecked=</span><span class=s>&#34;{Binding Path=IsCartoon}&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>            Is a Looney Toon
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/CheckBox&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ComboBox</span> <span class=na>ItemsSource=</span><span class=s>&#34;{Binding Source={StaticResource fruits}}&#34;</span> <span class=na>SelectedItem=</span><span class=s>&#34;{Binding Path=FavoriteFruit}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/StackPanel&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/UserControl&gt;</span></span></span></code></pre></div><h4 id=binding-radiobuttons-to-an-enum>Binding RadioButtons to an Enum</h4><p>Binding a <code>&lt;RadioButton></code> requires a very different approach, as a radio button exposes an <code>IsChecked</code> boolean property that determines if it is checked, much like a <code>&lt;CheckBox></code>, but we want it bound to an enumeration property. There are a lot of attempts to do this by creating a custom content converter, but ultimately they all have flaws.</p><p>Instead, we can restyle a <code>ListView</code> to <em>look</em> like radio buttons, but still provide the same functionality by adding a <code>&lt;Style></code> that applies to the <code>ListViewItem</code> contents of the <code>ListView</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;Style</span> <span class=na>TargetType=</span><span class=s>&#34;{x:Type ListViewItem}&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;Setter</span> <span class=na>Property=</span><span class=s>&#34;Template&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Setter.Value&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;ControlTemplate&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;RadioButton</span> <span class=na>Content=</span><span class=s>&#34;{TemplateBinding ContentPresenter.Content}&#34;</span> <span class=na>IsChecked=</span><span class=s>&#34;{Binding Path=IsSelected, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;/ControlTemplate&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/Setter.Value&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/Setter&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/Style&gt;</span></span></span></code></pre></div><p>This style can be used in conjunction with a <code>ListView</code> declared as we did above:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=nt>&lt;UserControl</span> <span class=na>x:Class=</span><span class=s>&#34;DataBindingExample.PersonControl&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml/presentation&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:x=</span><span class=s>&#34;http://schemas.microsoft.com/winfx/2006/xaml&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:mc=</span><span class=s>&#34;http://schemas.openxmlformats.org/markup-compatibility/2006&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>xmlns:d=</span><span class=s>&#34;http://schemas.microsoft.com/expression/blend/2008&#34;</span>     
</span></span><span class=line><span class=cl>             <span class=na>xmlns:local=</span><span class=s>&#34;clr-namespace:DataBindingExample&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>xmlns:system=</span><span class=s>&#34;clr-namespace:System;assembly=mscorlib&#34;</span>
</span></span><span class=line><span class=cl>             <span class=na>mc:Ignorable=</span><span class=s>&#34;d&#34;</span> 
</span></span><span class=line><span class=cl>             <span class=na>d:DesignHeight=</span><span class=s>&#34;450&#34;</span> <span class=na>d:DesignWidth=</span><span class=s>&#34;400&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;UserControl.Resources&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ObjectDataProvider</span> <span class=na>x:Key=</span><span class=s>&#34;fruits&#34;</span> <span class=na>MethodName=</span><span class=s>&#34;GetValues&#34;</span> <span class=na>ObjectType=</span><span class=s>&#34;{x:Type system:Enum}&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;ObjectDataProvider.MethodParameters&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;x:Type</span> <span class=na>TypeName=</span><span class=s>&#34;local:Fruit&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;/ObjectDataProvider.MethodParameters&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/ObjectDataProvider&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Style</span> <span class=na>TargetType=</span><span class=s>&#34;{x:Type ListViewItem}&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;Setter</span> <span class=na>Property=</span><span class=s>&#34;Template&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;Setter.Value&gt;</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&lt;ControlTemplate&gt;</span>
</span></span><span class=line><span class=cl>                        <span class=nt>&lt;RadioButton</span> <span class=na>Content=</span><span class=s>&#34;{TemplateBinding ContentPresenter.Content}&#34;</span> <span class=na>IsChecked=</span><span class=s>&#34;{Binding Path=IsSelected, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&lt;/ControlTemplate&gt;</span>
</span></span><span class=line><span class=cl>                <span class=nt>&lt;/Setter.Value&gt;</span>
</span></span><span class=line><span class=cl>            <span class=nt>&lt;/Setter&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/Style&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/UserControl.Resources&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;StackPanel&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;TextBlock</span> <span class=na>Text=</span><span class=s>&#34;{Binding Path=FullName}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Label&gt;</span>First<span class=nt>&lt;/Label&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;TextBox</span> <span class=na>Text=</span><span class=s>&#34;{Binding Path=First}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;Label&gt;</span>Last<span class=nt>&lt;/Label&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;TextBox</span> <span class=na>Text=</span><span class=s>&#34;{Binding Path=Last}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;CheckBox</span> <span class=na>IsChecked=</span><span class=s>&#34;{Binding Path=IsCartoon}&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>            Is a Looney Toon
</span></span><span class=line><span class=cl>        <span class=nt>&lt;/CheckBox&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nt>&lt;ListView</span> <span class=na>ItemsSource=</span><span class=s>&#34;{Binding Source={StaticResource fruits}}&#34;</span> <span class=na>SelectedItem=</span><span class=s>&#34;{Binding Path=FavoriteFruit}&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/StackPanel&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/UserControl&gt;</span></span></span></code></pre></div><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=summary>Summary</h1><p>In this chapter we explored the concept of data binding and how it is employed in Windows Presentation Foundation. We saw how bound classes need to implement the <code>INotifyPropertyChanged</code> interface for bound properties to automatically synchronize. We saw how the binding is managed by a <code>Binding</code> class instance, and how we can customize its <code>Path</code>, <code>Mode</code>, and <code>Source</code> properties in XAML to modify the binding behavior. We bound simple controls like <code>&lt;TextBlock></code> and <code>&lt;CheckBox></code> and more complex elements like <code>&lt;ListView></code> and <code>&lt;ListBox></code>. We also explored how to bind enumerations to controls. And we explored the use of templates like <code>DataTemplate</code> and <code>ControlTemplate</code> to modify WPF controls.</p><p>The full example project discussed in this chapter can be found at <a href=https://github.com/ksu-cis/DataBindingExample rel=external target=_blank>https://github.com/ksu-cis/DataBindingExample</a>.</p><footer class=footline></footer></article></section></div></main><div class=git-footer><p class=theme-version-footer>6.0.0</p><p>Last modified by:
<i class='fas fa-user'></i> Russell Feldhausen
<i class='fas fa-calendar'></i> <a href=https://github.com/ksu-cs-textbooks/cis400/commit/681e5c9c43e3ac6de614c2cc74487702fd43cab7>Aug 10, 2023</a></p></div></div><script src=/cis400/js/clipboard.min.js?1733760446 defer></script><script src=/cis400/js/perfect-scrollbar.min.js?1733760446 defer></script><script src=/cis400/js/theme.js?1733760446 defer></script></body></html>