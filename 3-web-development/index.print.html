




	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="K-State CIS 400 Textbook">
    <meta name="author" content="Nathan Bean">
    <title>Web Development :: K-State CIS 400 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cis400/3-web-development/index.html" rel="canonical" type="text/html" title="Web Development :: K-State CIS 400 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis400/3-web-development/index.xml" rel="alternate" type="application/rss+xml" title="Web Development :: K-State CIS 400 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis400/3-web-development/tele.html" rel="alternate" type="text/html" title="Web Development :: K-State CIS 400 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis400/3-web-development/embed.html" rel="alternate" type="text/html" title="Web Development :: K-State CIS 400 Textbook">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/fontawesome-all.min.css?1697829858" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis400/css/fontawesome-all.min.css?1697829858" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/nucleus.css?1697829858" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/auto-complete.css?1697829858" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis400/css/auto-complete.css?1697829858" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/perfect-scrollbar.min.css?1697829858" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/fonts.css?1697829858" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis400/css/fonts.css?1697829858" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/theme.css?1697829858" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/theme-auto.css?1697829858" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/variant.css?1697829858" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/print.css?1697829858" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/format-print.css?1697829858" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/ie.css?1697829858" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/url.js?1697829858"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/variant.js?1697829858"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cis400/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cis400/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cis400/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/custom.css?1697829858" rel="stylesheet">

  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cis400/3-web-development/index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div id="top-tele-link">
            <a class="print-link" title='Teleprompter View' href="https://ksu-cs-textbooks.github.io/cis400/3-web-development/tele.html">
              <i class="fas fa-tv fa-fw"></i>
            </a>
          </div>
          <div id="top-embed-link">
            <a class="print-link" title='Embeddable Version' href="https://ksu-cs-textbooks.github.io/cis400/3-web-development/embed.html">
              <i class="fas fa-expand-arrows-alt fa-fw"></i>
            </a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" class="topbar-link" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cis400/index.html"><span itemprop="name">CIS 400: Object-Oriented Design, Implementation, and Testing</span></a><meta itemprop="position" content="1"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Web Development</span><meta itemprop="position" content="2"></li>
            </ol>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable chapter narrow" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter III</div>
<h1 id="web-development">Web Development</h1>

<p>Taking Objects Online</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Web Development</h1>
    
    
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 1</div>
<h1 id="core-web-technologies">Core Web Technologies</h1>

<p>The Big Three plus HTTP</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Core Web Technologies</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="introduction">Introduction</h1>

<p>The World-Wide-Web is a tool that you likely use every day - and it&rsquo;s being used to deliver you this textbook.  There are several core technologies that enable the web to work, and these are the focus of this chapter.</p>
<h2 id="key-terms">Key Terms</h2>
<p>Some key terms to learn in this chapter are:</p>
<ul>
<li>World-Wide-Web</li>
<li>Hyper-Text Markup Language (HTML)</li>
<li>Cascading Style Sheets (CSS)</li>
<li>JavaScript (JS)</li>
<li>Hyper-Text Transfer Protocol (HTTP)</li>
</ul>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="core-web-technologies">Core Web Technologies</h1>

<p>The World-Wide Web was the brainchild of <a href="https://en.wikipedia.org/wiki/Tim_Berners-Lee" target="_blank">Sir Tim Berners-Lee</a>
.  It was conceived as a way to share information across the Internet; in Sir Berners-Lee&rsquo;s own words describing the idea as he first conceived it:</p>
<blockquote>
<p>This project is experimental and of course comes without any warranty whatsoever. However, <strong>it could start a revolution in information access.</strong></p>
</blockquote>
<p>Clearly that revolution has come to pass.  The web has become part of our daily lives.</p>
<p>There were three key technologies that Sir Tim Berners-Lee proposed and developed.  These remain the foundations upon which the web runs even today.  Two are client-side, and determine how web pages are interpreted by browsers.  These are:</p>
<ul>
<li>Hyper-Text Markup Language</li>
<li>Cascading Style Sheets</li>
</ul>
<p>They are joined with a third key client-side technology, which began as a scripting language developed by <a href="https://en.wikipedia.org/wiki/Brendan_Eich" target="_blank">Brendan Eich</a>
 to add interactivity to web pages in the Netscape Navigator.</p>
<ul>
<li>JavaScript</li>
</ul>
<p>You have already studied each of these core client-side web technologies in CIS 115, and used them to create your own personal web pages.</p>
<p>The other foundational web technology created by Sir Tim Berners-Lee is the communication protocol used to request and transmit web pages and other files across the Internet:</p>
<ul>
<li>Hyper-Text Transfer Protocol</li>
</ul>
<p>We will review each of these technologies briefly, before we see how ASP.NET builds upon them to deliver web applications.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="hyper-text-markup-language">Hyper-Text Markup Language</h1>

<p>Hyper-Text Markup Language (HTML), is one of the three core technologies of the world-wide-web, along with Cascading Style Sheets (CSS) and Javascript (JS).  Each of these technologies has a specific role to play in delivering a website.  HTML defines the <em>structure</em> and <em>contents</em> of the web page.  It is a markup language, similar to XML and the XAML you have been working with (indeed, HTML is based on the SGML (Standardized General Markup Language) standard, which XML is also based on, and XAML is an extension of XML).</p>
<h2 id="html-elements">HTML Elements</h2>
<p>Thus, it uses the same kind of element structure, consisting of tags.  For example, a button in HTML looks like this:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onclick</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;doSomething&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    Do Something
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">button</span>&gt;</span></span></code></pre></div><p>You likely notice how similar this definition is to buttons in XAML.  As with XAML elements, HTML elements have and opening and closing tag, and can have additional HTML content nested inside these tags.  HTML tags can also be self-closing, as is the case with the line break tag:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">br</span>/&gt;</span></span></code></pre></div><p>Let&rsquo;s explore the parts of an HTML element in more detail.</p>
<p>
<a href="#image-94b7765e58b60e10fe3fcc7b7ae940d5" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/html-element-structure.svg" alt="HTML Element Structure" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-94b7765e58b60e10fe3fcc7b7ae940d5">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/html-element-structure.svg" alt="HTML Element Structure" class="lightbox-image" loading="lazy">
</a></p>
<h3 id="the-start-tag">The Start Tag</h3>
<p>The start tag is enclosed in angle brackets (<code>&lt;</code> and <code>&gt;</code>).  The angle brackets differentiate the text inside them as being HTML elements, rather than text.  This guides the browser to interpret them correctly.</p>

  
  
<div class="box notices cstyle note">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-circle"></i> Note</div>
  <div class="box-content">

<p>Because angle brackets are interpreted as defining HTML tags, you cannot use those characters to represent greater than and less than signs.  Instead, HTML defines escape character sequences to represent these and other special characters.  Greater than is <code>&amp;gt;</code>, less than is <code>&amp;lt;</code>.  A full list can be found on <a href="https://developer.mozilla.org/en-US/docs/Glossary/Entity" target="_blank">mdn</a>
.</p>
</div>
</div>
<h4 id="the-tag-name">The Tag Name</h4>
<p>Immediately after the <code>&lt;</code> is the tag name.  In HTML, tag names like <code>button</code> should be expressed in <strong>lowercase letters</strong> (unlike XAML where they are expressed in Pascal case - each word starting with a capital letter).  This is a convention (as most browsers will happily accept any mixture of uppercase and lowercase letters), but is very important when using popular modern web technologies like Razor and React, as these use Pascal case tag names to differentiate between HTML and components they inject into the web page.</p>
<h4 id="the-attributes">The Attributes</h4>
<p>After the tag name come optional attributes, which are key-value pairs expressed as <code>key=&quot;value&quot;</code>.  Attributes should be separated from each other and the tag name by whitespace characters (any whitespace will do, but traditionally spaces are used).  As with XAML, different elements have different attributes available - and you can read up on what these are by visiting the MDN article about the specific element.</p>
<p>However, several attributes bear special mention:</p>
<ul>
<li>
<p>The <code>id</code> attribute is used to assign a unique id to an element, i.e. <code>&lt;button id=&quot;that-one-button&quot;&gt;</code>.  The element can thereafter be referenced by that id in both CSS and JavaScript code.  <em>An element ID must be unique in an HTML page, or unexpected behavior may result!</em></p>
</li>
<li>
<p>The <code>class</code> attribute is also used to assign an identifier used by CSS and JavaScript.  However, classes don&rsquo;t need to be unique; many elements can have the same class.  Further, each element can be assigned <em>multiple</em> classes, as a space-delimited string, i.e. <code>&lt;button class=&quot;large warning&quot;&gt;</code> assigns both the classes &ldquo;large&rdquo; and &ldquo;warning&rdquo; to the button.</p>
</li>
</ul>
<p>Also, some web technologies (like Angular) introduce new attributes specific to their framework, taking advantage of the fact that a browser will ignore any attributes it does not recognize.</p>
<h3 id="the-tag-content">The Tag Content</h3>
<p>The content nested inside the tag can be plain text, or another HTML element (or collection of elements).  Unlike XAML elements, which usually can have only one child, HTML elements can have multiple children.  Indentation should be used to keep your code legible by indenting any nested content, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">h1</span>&gt;A Title&lt;/<span style="color:#f92672">h1</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">p</span>&gt;This is a paragraph of text that is nested inside the div&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">p</span>&gt;And this is another paragraph of text&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">div</span>&gt;</span></span></code></pre></div><h3 id="the-end-tag">The End Tag</h3>
<p>The end tag is also enclosed in angle brackets (<code>&lt;</code> and <code>&gt;</code>).  Immediately after the <code>&lt;</code> is a forward slash <code>/</code>, and then the tag name.  You do not include attributes in a end tag.</p>
<p>If the element has no content, the end tag can be combined with the start tag in a <em>self-closing tag</em>, i.e. the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input" target="_blank">input</a>
 tag is typically written as self-closing:</p>
<p><code>&lt;input id=&quot;first-name&quot; type=&quot;text&quot; placeholder=&quot;Your first name&quot;/&gt;</code></p>
<h2 id="text-in-html">Text in HTML</h2>
<p>Text in HTML works a bit differently than you might expect.  Most notably, all white space is converted into a single space.  Thus, the lines:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">blockquote</span>&gt;
</span></span><span style="display:flex;"><span>    If you can keep your head when all about you   
</span></span><span style="display:flex;"><span>        Are losing theirs and blaming it on you,   
</span></span><span style="display:flex;"><span>    If you can trust yourself when all men doubt you,
</span></span><span style="display:flex;"><span>        But make allowance for their doubting too;   
</span></span><span style="display:flex;"><span>    If you can wait and not be tired by waiting,
</span></span><span style="display:flex;"><span>        Or being lied about, don’t deal in lies,
</span></span><span style="display:flex;"><span>    Or being hated, don’t give way to hating,
</span></span><span style="display:flex;"><span>        And yet don’t look too good, nor talk too wise:
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">i</span>&gt;-Rudyard Kipling, excerpt from &#34;If&#34;&lt;/<span style="color:#f92672">i</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">blockquote</span>&gt;</span></span></code></pre></div><p>Would be rendered:</p>
<blockquote>
    If you can keep your head when all about you   
        Are losing theirs and blaming it on you,   
    If you can trust yourself when all men doubt you,
        But make allowance for their doubting too;   
    If you can wait and not be tired by waiting,
        Or being lied about, don’t deal in lies,
    Or being hated, don’t give way to hating,
        And yet don’t look too good, nor talk too wise:
    <i>-Rudyard Kipling, excerpt from "If"</i>
</blockquote>
<p>If, for some reason you need to maintain formatting of the included text, you can use the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/pre" target="_blank">&lt;pre&gt;</a>
 element (which indicates the text is preformatted):</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">blockquote</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">pre</span>&gt;
</span></span><span style="display:flex;"><span>If you can keep your head when all about you   
</span></span><span style="display:flex;"><span>    Are losing theirs and blaming it on you,   
</span></span><span style="display:flex;"><span>If you can trust yourself when all men doubt you,
</span></span><span style="display:flex;"><span>    But make allowance for their doubting too;   
</span></span><span style="display:flex;"><span>If you can wait and not be tired by waiting,
</span></span><span style="display:flex;"><span>    Or being lied about, don’t deal in lies,
</span></span><span style="display:flex;"><span>Or being hated, don’t give way to hating,
</span></span><span style="display:flex;"><span>    And yet don’t look too good, nor talk too wise:
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">pre</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">i</span>&gt;-Rudyard Kipling, excerpt from &#34;If&#34;&lt;/<span style="color:#f92672">i</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">blockquote</span>&gt;</span></span></code></pre></div><p>Which would be rendered:</p>
<article>
    <pre style="background: none; color:darkgray">
If you can keep your head when all about you   
    Are losing theirs and blaming it on you,   
If you can trust yourself when all men doubt you,
    But make allowance for their doubting too;   
If you can wait and not be tired by waiting,
    Or being lied about, don’t deal in lies,
Or being hated, don’t give way to hating,
    And yet don’t look too good, nor talk too wise:
    </pre>
    <blockquote>-Rudyard Kipling, excerpt from "If"</blockquote>
</article>
<p>Note that the &lt;pre&gt; preserves <em>all</em> formatting, so it is necessary <em>not to indent</em> its contents.</p>
<p>Alternatively, you can denote line breaks with <code>&lt;br/&gt;</code>, and non-breaking spaces with <code>&amp;nbsp;</code>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">blockquote</span>&gt;        
</span></span><span style="display:flex;"><span>    If you can keep your head when all about you&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Are losing theirs and blaming it on you,&lt;<span style="color:#f92672">br</span>/&gt;   
</span></span><span style="display:flex;"><span>    If you can trust yourself when all men doubt you,&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;But make allowance for their doubting too;&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>    If you can wait and not be tired by waiting,&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Or being lied about, don’t deal in lies,&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>    Or being hated, don’t give way to hating,&lt;<span style="color:#f92672">br</span>/&gt;
</span></span><span style="display:flex;"><span>    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;And yet don’t look too good, nor talk too wise:&lt;<span style="color:#f92672">br</span>/&gt;    
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">i</span>&gt;-Rudyard Kipling, excerpt from &#34;If&#34;&lt;/<span style="color:#f92672">i</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">blockquote</span>&gt;</span></span></code></pre></div><p>Which renders:</p>
<blockquote>        
    If you can keep your head when all about you<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;Are losing theirs and blaming it on you,<br/>   
    If you can trust yourself when all men doubt you,<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;But make allowance for their doubting too;<br/>
    If you can wait and not be tired by waiting,<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;Or being lied about, don’t deal in lies,<br/>
    Or being hated, don’t give way to hating,<br/>
    &nbsp;&nbsp;&nbsp;&nbsp;And yet don’t look too good, nor talk too wise:<br/><br/>    
    <i>-Rudyard Kipling, excerpt from "If"</i>
</blockquote>
<p>Additionally, as a program you may want to use the the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/code" target="_blank">code</a>
 element in conjunction with the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/pre" target="_blank">pre</a>
 element to display preformatted code snippets in your pages.</p>
<h2 id="html-comments">HTML Comments</h2>
<p>HTML comments are identical to XAML comments (as both inherited from SGML).  Comments start with the sequence <code>&lt;!--</code> and end with the sequence <code>--&gt;</code>, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- This is an example of a HTML comment --&gt;</span></span></span></code></pre></div><h2 id="basic-page-structure">Basic Page Structure</h2>
<p>HTML5.0 (the current HTML standard) pages have an expected structure that you should follow.  This is:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">html</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">title</span>&gt;<span style="color:#75715e">&lt;!-- The title of your page goes here --&gt;</span>&lt;/<span style="color:#f92672">title</span>&gt;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">&lt;!-- other metadata about your page goes here --&gt;</span>
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">&lt;!-- The contents of your page go here --&gt;</span>
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">html</span>&gt;</span></span></code></pre></div><h2 id="html-elements-1">HTML Elements</h2>
<p>Rather than include an exhaustive list of HTML elements, I will direct you to the list provided by <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element" target="_blank">MDN</a>
.  However, it is useful to recognize that elements can serve different purposes:</p>
<ul>
<li>
<p>Some organize the page into sections like the header and footer - MDN calls these the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element#Content_sectioning" target="_blank">Content Section elements</a>
</p>
</li>
<li>
<p>Some define the meaning, structure or style of text - MDN calls these the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element#Inline_text_semantics" target="_blank">Inline text semantics elements</a>
</p>
</li>
<li>
<p>Some present images, audio, video, or other embedded multimedia content - MDN calls these the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element#Image_and_multimedia" target="_blank">Image and multimedia elements</a>
 and <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element#Embedded_content" target="_blank">Embedded content elements</a>
</p>
</li>
<li>
<p>Tables are composed of <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Table_content" target="_blank">Table content elements</a>
</p>
</li>
<li>
<p>User input is collected with <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element#Forms" target="_blank">Forms</a>
</p>
</li>
</ul>
<p>There are more tags than this, but these are the most commonly employed, and the ones you should be familiar with.</p>
<h2 id="learning-more">Learning More</h2>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/HTML" target="_blank">MDN HTML Docs</a>
 are recommended reading for learning more about HTML.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="cascading-style-sheets">Cascading Style Sheets</h1>

<p>Cascading Style Sheets (CSS) is the second core web technology of the web.  It defines the <em>appearance</em> of web pages by applying stylistic rules to matching HTML elements.  CSS is normally declared in a file with the <em>.css</em> extension, separate from the HTML files it is modifying, though it can also be declared within the page using the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/style" target="_blank">&lt;style&gt;</a>
 element, or directly on an element using the <code>style</code> attribute.</p>
<h2 id="css-rules">CSS Rules</h2>
<p>A CSS rule consists of a <em>selector</em> and a <em>definition block</em>, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span><span style="color:#f92672">h1</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#66d9ef">red</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-weight</span>: <span style="color:#66d9ef">bold</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><h3 id="css-selectors">CSS Selectors</h3>
<p>A CSS selector determines which elements the associated <em>definition block</em> apply to.  In the above example, the <code>h1</code> selector indicates that the style definition supplied applies to <em>all</em> <code>&lt;h1&gt;</code> elements.  The selectors can be:</p>
<ul>
<li>By element type, indicated by the name of the element.  I.e. the selector <code>p</code> applies to all <code>&lt;p&gt;</code> elements.</li>
<li>By the element id, indicated by the id prefixed with a <code>#</code>.  I.e. the selector <code>#foo</code> applies to the element <code>&lt;span id=&quot;foo&quot;&gt;</code>.</li>
<li>By the element class, indicated by the class prefixed with a <code>.</code>.  I.e. the selector <code>.bar</code> applies to the elements <code>&lt;div class=&quot;bar&quot;&gt;</code>, <code>&lt;span class=&quot;bar none&quot;&gt;</code>, and <code>&lt;p class=&quot;alert bar warning&quot;&gt;</code>.</li>
</ul>
<p>CSS selectors can also be combined in a number of ways, and pseudo-selectors can be applied under certain circumstances, like the <code>:hover</code> pseudo-selector which applies only when the mouse cursor is over the element.</p>
<p>You can read more on <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors" target="_blank">MDN&rsquo;s CSS Selectors Page</a>
.</p>
<h3 id="css-definition-block">CSS Definition Block</h3>
<p>A CSS definition block is bracketed by curly braces and contains a series of key-value pairs in the format <code>key=value;</code>.  Each key is a property that defines how an HTML Element should be displayed, and the value needs to be a valid value for that property.</p>
<p>Measurements can be expressed in a number of units, from pixels (px), points (pt), the font size of the parent (em), the font size of the root element (rem), a percentage of the available space (%), or a percentage of the viewport width (vw) or height (vh). See <a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Values_and_units" target="_blank">MDN&rsquo;s CSS values and units</a>
 for more details.</p>
<p>Other values are specific to the property.  For example, the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/cursor" target="_blank">cursor</a>
 property has possible values <code>help</code>, <code>wait</code>, <code>crosshair</code>, <code>not-allowed</code>, <code>zoom-in</code>, and <code>grab</code>.  You should use the MDN documentation for a reference.</p>
<h3 id="styling-text">Styling Text</h3>
<p>One common use for CSS is to change properties about how the text in an element is rendered.  This can include changing attributes of the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/font" target="_blank">font</a>
 (<code>font-style</code>, <code>font-weight</code>, <code>font-size</code>, <code>font-family</code>), the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color" target="_blank">color</a>
, and the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Text" target="_blank">text</a>
 (<code>text-align</code>, <code>line-break</code>, <code>word-wrap</code>, <code>text-indent</code>, <code>text-justify</code>).  These are just a sampling of some of the most commonly used properties.</p>
<h3 id="styling-elements">Styling Elements</h3>
<p>A second common use for CSS is to change properties of the element itself.  This can include setting dimensions (<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/width" target="_blank">width</a>
, <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/height" target="_blank">height</a>
), adding <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/margin" target="_blank">margins</a>
, <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/border" target="_blank">borders</a>
, and <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/padding" target="_blank">padding</a>
.</p>
<p>These values provide additional space around the content of the element, following the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Box_Model/Introduction_to_the_CSS_box_model" target="_blank">CSS Box Model</a>
:</p>
<p>
<a href="#image-d2383456c33db5fdc15c8d85ce62200d" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/boxmodel.png" alt="CSS Box Model" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-d2383456c33db5fdc15c8d85ce62200d">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/boxmodel.png" alt="CSS Box Model" class="lightbox-image" loading="lazy">
</a></p>
<h3 id="providing-layout">Providing Layout</h3>
<p>The third common use for CSS is to change how elements are laid out on the page.  By default HTML elements follow the <a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Normal_Flow" target="_blank">flow model</a>
, where each element appears on the page after the one before it.  Some elements are <em>block</em> level elements, which stretch across the entire page (so the next element appears below it), and others are <em>inline</em> and are only as wide as they need to be to hold their contents, so the next element can appear to the right, if there is room.</p>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/float" target="_blank">float</a>
 property can make an element float to the left or right of its container, allowing the rest of the page to flow around it.</p>
<p>Or you can swap out the layout model entirely by changing the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/display" target="_blank">display</a>
 property to <code>flex</code> (for flexbox, similar to the XAML <code>StackPanel</code>) or <code>grid</code> (similar to the XAML <code>Grid</code>).  For learning about these two display models, the CSS-Tricks <a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/" target="_blank">A Complete Guide to Flexbox</a>
 and <a href="https://css-tricks.com/snippets/css/complete-guide-grid/" target="_blank">A Complete Guide to Grid</a>
 are recommended reading.  These can provide quite powerful layout tools to the developer.</p>
<h3 id="learning-more">Learning More</h3>
<p>This is just the tip of the iceberg of what is possible with CSS.  Using <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries" target="_blank">CSS media queries</a>
 can change the rules applied to elements based on the size of the device it is viewed on, allowing for <em>responsive design</em>.  <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/animation" target="_blank">CSS Animation</a>
 can allow properties to change over time, making stunning visual animations easy to implement.  And CSS can also carry out calculations and store values, leading some computer scientists to argue that it is a Turing Complete language.</p>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/CSS" target="_blank">MDN Cascading Stylesheets Docs</a>
 and <a href="https://css-tricks.com/" target="_blank">CSS Tricks</a>
 are recommended reading to learn more about CSS and its uses.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="javascript">JavaScript</h1>

<p>Javascript (or ECMAScript, which is the standard Javascript is derived from), was originally developed for Netscape Navigator by <a href="https://en.wikipedia.org/wiki/Brendan_Eich" target="_blank">Brendon Eich</a>
.  The original version was completed in just 10 days.  The name &ldquo;javascript&rdquo; was a marketing move by Netscape as they had just secured the rights to use Java Applets in their browser, and wanted to tie the two languages together.  Similarly, they pushed for a Java-like syntax, which Brandon accommodated.  However, he also incorporated functional behaviors based on the <a href="https://en.wikipedia.org/wiki/Scheme_%28programming_language%29" target="_blank">Scheme</a>
 and drew upon <a href="https://en.wikipedia.org/wiki/Self_%28programming_language%29" target="_blank">Self</a>
&rsquo;s implementation of object-orientation.  The result is a language that may look familiar to you, but often works in unexpected ways.</p>
<h2 id="javascript-is-a-dynamically-typed-language">Javascript is a Dynamically Typed Language</h2>
<p>Unlike the statically-typed C# we&rsquo;ve been working with, Javascript has <em>dynamic</em> types.  This means that we always declare variables using the <code>var</code> keyword, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">story</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Jack and Jill went up a hill...&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">pi</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">3.14</span>;</span></span></code></pre></div><p>Much like the <code>var</code> type in C#, the type of the variable is <em>inferred</em> when it is set.  Unlike C# though, the type can change with a new assignment, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#75715e">// i is an integer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;The sky is blue&#34;</span>; <span style="color:#75715e">// now i is a string
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>; <span style="color:#75715e">// now i is a boolean
</span></span></span></code></pre></div><p>This would cause an error in C#, but is perfectly legal in Javascript.  Because Javascript is dynamically typed, it is impossible to determine type errors until the program is run.</p>
<p>In addition to <code>var</code>, variables can be declared with the <code>const</code> keyword (for constants that cannot be re-assigned), or the <code>let</code> keyword (discussed below).</p>
<h2 id="javascript-types">JavaScript Types</h2>
<p>While the type of a variable is inferred, Javascript still supports types.  You can determine the type of a variable with the <code>typeof()</code> function.  The available types in Javascript are:</p>
<ul>
<li>integers (declared as numbers without a decimal point)</li>
<li>floats (declared as numbers with a decimal point)</li>
<li>booleans (the constants <code>true</code> or <code>false</code>)</li>
<li>strings (declared using double quotes (<code>&quot;I'm a string&quot;</code>), single quotes <code>'Me too!'</code>, or backticks <code>`I'm a template string ${2 + 3}`</code>) which indicate a template string and can execute and concatenate embedded Javascript expressions.</li>
<li>lists (declared using square brackets, i.e. <code>[&quot;I am&quot;, 2, &quot;listy&quot;, 4, &quot;u&quot;]</code>), which are a generic catch-all data structure, which can be treated as an array, list, queue, or stack.</li>
<li>objects (declared using curly braces or constructed with the <code>new</code> keyword, discussed later)</li>
</ul>
<p>In Javascript, there are two keywords that represent a null value, <code>undefined</code> and <code>null</code>.  These have a different meaning: <code>undefined</code> refers to values that have not yet been initialized, while <code>null</code> must be explicitly set by the programmer (and thus intentionally meaning nothing).</p>
<h2 id="javascript-is-a-functional-langauge">Javascript is a Functional Langauge</h2>
<p>As suggested in the description, Javascript is a functional language incorporating many ideas from Scheme. In JavaScript we declare functions using the <code>function</code> keyword, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">add</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">b</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>We can also declare an anonymous function (one without a name):</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">b</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>or with the lambda syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>(<span style="color:#a6e22e">a</span>,<span style="color:#a6e22e">b</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">b</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>In Javascript, functions are first-class objects, which means they can be stored as variables, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">add</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">a</span>,<span style="color:#a6e22e">b</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">b</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Added to arrays:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">math</span> <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">add</span>,
</span></span><span style="display:flex;"><span>  (<span style="color:#a6e22e">a</span>,<span style="color:#a6e22e">b</span>) =&gt; {<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">b</span>;},
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">a</span>,<span style="color:#a6e22e">b</span>) { <span style="color:#a6e22e">a</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">b</span>; },
</span></span><span style="display:flex;"><span>]</span></span></code></pre></div><p>Or passed as function arguments.</p>
<h2 id="javascript-has-function-scope">Javascript has Function Scope</h2>
<p>Variable scope in Javascript is bound to functions.  Blocks like the body of an <code>if</code> or <code>for</code> loop do not declare a new scope.  Thus, this code:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>;)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Counting i=&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">i</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Final value of i is: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">i</span>);</span></span></code></pre></div><p>Will print:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>Counting i=0
Counting i=1
Counting i=2
Final value of i is: 3</code></pre></div><p>Because the <code>i</code> variable is not scoped to the block of the <code>for</code> loop, but rather, the function that contains it.</p>
<p>The keyword <code>let</code> was introduced in ECMAScript version 6 as an alternative for <code>var</code> that enforces block scope.  Using <code>let</code> in the example above would result in a reference error being thrown, as <code>i</code> is not defined outside of the <code>for loop</code> block.</p>
<h2 id="javascript-is-event-driven">Javascript is Event-Driven</h2>
<p>Javascript was written to run within the browser, and was therefore event-driven from the start.  It uses the event loop and queue pattern we saw in C#.  For example, we can set an event to occur in the future with <code>setTimeout()</code>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">setTimeout</span>(<span style="color:#66d9ef">function</span>(){<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Hello, future!&#34;</span>)}, <span style="color:#ae81ff">2000</span>);</span></span></code></pre></div><p>This will cause &ldquo;Hello, Future!&rdquo; to be printed 2 seconds (2000 milliseconds) in the future (notice too that we can pass a function to a function).</p>
<h2 id="javascript-is-object-oriented">Javascript is Object-Oriented</h2>
<p>As suggested above, Javascript is object-oriented, but in a manner more similar to Self than to C#.  For example, we can declare objects literally:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">student</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">first</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Mark&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">last</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Delaney&#34;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Or we can write a constructor, which in Javascript is simply a function we capitalize by convention:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">Student</span>(<span style="color:#a6e22e">first</span>, <span style="color:#a6e22e">last</span>){
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">first</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">first</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">last</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">last</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>And invoke with the <code>new</code> keyword:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">js</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Student</span>(<span style="color:#e6db74">&#34;Jack&#34;</span>, <span style="color:#e6db74">&#34;Sprat&#34;</span>);</span></span></code></pre></div><p>Objects constructed from classes have a <em>prototype</em>, which can be used to attach methods:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>Student.prototype.greet = function(){
  console.log(`Hello, my name is ${this.first} ${this.last}`);
}</code></pre></div><p>Thus, <code>js.greet()</code> would print <code>Hello, my name is Jack Sprat</code>;</p>
<p>ECMAScript 6 introduced a more familiar form of class definition:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span>{
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">constructor</span>(<span style="color:#a6e22e">first</span>, <span style="color:#a6e22e">last</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">first</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">first</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">last</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">last</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">greet</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">greet</span>.<span style="color:#a6e22e">bind</span>(<span style="color:#66d9ef">this</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">greet</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">`Hello, my name is </span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">first</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">last</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>);
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>However, because JavaScript uses function scope, the <code>this</code> in the method <code>greet</code> would not refer to the student constructed in the constructor, but the <code>greet()</code> method itself.  The constructor line <code>this.greet = this.greet.bind(this);</code> fixes that issue by binding the <code>greet()</code> method to the <code>this</code> of the constructor.</p>
<h2 id="the-document-object-model">The Document Object Model</h2>
<p>The Document Object Model (DOM) is a tree-like structure that the browser constructs from parsed HTML to determine size, placement, and appearance of the elements on-screen.  In this, it is much like the elements tree we used with Windows Presentation Foundation (which was most likely inspired by the DOM).  The DOM is also accessible to Javascript - in fact, one of the most important uses of Javascript is to manipulate the DOM.</p>
<p>You can learn more about the DOM from <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model" target="_blank">MDN&rsquo;s Document Object Model</a>
 documentation entry.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="hyper-text-transfer-protocol">Hyper-Text Transfer Protocol</h1>

<p>At the heart of the world wide web is the Hyper-Text Transfer Protocol (HTTP).  This is a protocol defining how HTTP servers (which host web pages) interact with HTTP clients (which display web pages).</p>
<p>It starts with a request initiated from the web browser (the client).  This request is sent over the Internet using the TCP protocol to a web server.  Once the web server receives the request, it must decide the appropriate response - ideally sending the requested resource back to the browser to be displayed.  The following diagram displays this typical request-response pattern.</p>
<p>
<a href="#image-f1ca9f297b8d82b28c9afa91cb57cdb7" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/request-response-pattern.png" alt="HTTP&amp;rsquo;s request-response pattern" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-f1ca9f297b8d82b28c9afa91cb57cdb7">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/request-response-pattern.png" alt="HTTP&amp;rsquo;s request-response pattern" class="lightbox-image" loading="lazy">
</a></p>
<p>This HTTP request-response pattern is at the core of how all web applications communicate.  Even those that use websockets begin with an HTTP request.</p>
<h2 id="the-http-request">The HTTP Request</h2>
<p>A HTTP Request is just text that follows a specific format and sent from a client to a server.  It consists of one or more lines terminated by a CRLF (a carriage return and a line feed character, typically written <code>\r\n</code> in most programming languages).</p>
<ol>
<li>A <em>request-line</em> describing the request</li>
<li>Additional optional lines containing HTTP headers.  These specify details of the request or describe the body of the request</li>
<li>A blank line, which indicates the end of the request headers</li>
<li>An optional body, containing any data belonging of the request, like a file upload or form submission.  The exact nature of the body is described by the headers.</li>
</ol>
<h2 id="the-http-response">The HTTP Response</h2>
<p>Similar to an HTTP Request, an HTTP response consists of one or more lines of text, terminated by a CRLF (sequential carriage return and line feed characters):</p>
<ol>
<li>A <em>status-line</em> indicating the HTTP protocol, the status code, and a textual status</li>
<li>Optional lines containing the Response Headers.  These specify the details of the response or describe the response body</li>
<li>A blank line, indicating the end of the response metadata</li>
<li>An optional response body.  This will typically be the text of an HTML file, or binary data for an image or other file type, or a block of bytes for streaming data.</li>
</ol>
<h2 id="making-a-request">Making a Request</h2>
<p>With our new understanding of HTTP requests and responses as consisting of streams of text that match a well-defined format, we can try manually making our own requests, using a Linux command line tool <em>netcat</em>.</p>
<p>Open a PowerShell instance (Windows) or a terminal (Mac/Linux) and enter the command:</p>
<p><code>$ ssh [eid]@cslinux.cs.ksu.edu</code></p>
<p>Alternatively, you can us Putty to connect to cslinux.  Detailed instructions on both approaches can be found <a href="https://support.cs.ksu.edu/CISDocs/wiki/Remote_Access#Remote_Linux_Access#Remote_Linux_Access" target="_blank">on the Ccompute Science support pages</a>
.</p>

  
  
<div class="box notices cstyle warning">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div>
  <div class="box-content">

<p>If you are connecting from off-campus, you will also need to connect through the K-State VPN to access the Computer Science Linux server. You can find more information about the K-State VPN on the <a href="https://www.k-state.edu/it/cybersecurity/vpn/" target="_blank">K-State IT pages</a>
</p>
</div>
</div>
<p>The <strong>$</strong> indicates a terminal prompt; you don&rsquo;t need to type it.  The <code>[eid]</code> should be replaced with your eid.  This should ssh you into the CS Linux system.  It will prompt you for your CS password, unless you&rsquo;ve set up public/private key access.</p>
<p>Once in, type the command:</p>
<p><code>$ nc google.com 80</code></p>
<p>The <strong>nc</strong> is the netcat executable - we&rsquo;re asking Linux to run netcat for us, and providing two command-line arguments, <strong>google.com</strong> and <strong>80</strong>, which are the webserver we want to talk to and the port we want to connect to (port 80 is the default port for HTTP requests).</p>
<p>Now that a connection is established, we can stream our request to Google&rsquo;s server:</p>
<p><code>GET / HTTP/1.1</code></p>
<p>The <strong>GET</strong> indicates we are making a GET request, i.e. requesting a resource from the server. The <strong>/</strong> indicates the resource on the server we are requesting (at this point, just the top-level page).  Finally, the <strong>HTTP/1.1</strong> indicates the version of HTTP we are using.</p>
<p><strong>Note that you need to press the return key <em>twice</em> after the GET line, once to end the line, and the second time to end the HTTP request.  Pressing the return key in the terminal enters the CRLF character sequence (Carriage Return &amp; Line Feed) the HTTP protocol uses to separate lines</strong></p>
<p>Once the second return is pressed, a whole bunch of text will appear in the terminal.  This is the <strong>HTTP Response</strong> from Google&rsquo;s server.  We&rsquo;ll take a look at that next.</p>
<h2 id="reading-the-response">Reading the Response</h2>
<p>Scroll up to the top of the request, and you should see something like:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>HTTP/1.1 200 OK
Date: Wed, 16 Jan 2019 15:39:33 GMT
Expires: -1
Cache-Control: private, max-age=0
Content-Type: text/html; charset=ISO-8859-1
P3P: CP=&#34;This is not a P3P policy! See g.co/p3phelp for more info.&#34;
Server: gws
X-XSS-Protection: 1; mode=block
X-Frame-Options: SAMEORIGIN
Set-Cookie: 1P_JAR=2019-01-16-15; expires=Fri, 15-Feb-2019 15:39:33 GMT; path=/; domain=.google.com
Set-Cookie: NID=154=XyALfeRzT9rj_55NNa006-Mmszh7T4rIp9Pgr4AVk4zZuQMZIDAj2hWYoYkKU6Etbmjkft5YPW8Fens07MvfxRSw1D9mKZckUiQ--RZJWZyurfJUyRtoJyTfSOMSaniZTtffEBNK7hY2M23GAMyFIRpyQYQtMpCv2D6xHqpKjb4; expires=Thu, 18-Jul-2019 15:39:33 GMT; path=/; domain=.google.com; HttpOnly
Accept-Ranges: none
Vary: Accept-Encoding

&lt;!doctype html&gt;...</code></pre></div><p>The first line indicates that the server responded using the HTTP 1.1 protocol, the status of the response is a 200 code, which corresponds to the human meaning &ldquo;OK&rdquo;.  In other words, the request worked.  The remaining lines are headers describing aspects of the request - the <strong>Date</strong>, for example, indicates when the request was made, and the <strong>path</strong> indicates what was requested.  Most important of these headers, though is the <strong>Content-Type</strong> header, which indicates what the body of the response consists of.  The content type <strong>text/html</strong> means the body consists of text, which is formatted as HTML &ndash; in other words, a webpage.</p>
<p>Everything after the blank line is the body of the response - in this case, the page content as HTML text.  If you scroll far enough through it, you should be able to locate all of the HTML elements in Google&rsquo;s search page.</p>
<p>That&rsquo;s really all there is with a HTTP request and response.  They&rsquo;re just streams of data.  A webserver just receives a request, processes it, and sends a response.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="summary">Summary</h1>

<p>In this chapter we explored the three client-side core web technologies: HTML, which defines the content of a web page; CSS, which defines the appearance of the web page; and Javascript, which adds interactivity to the web page.  We also examined Hyper-Text Transfer Protocol (HTTP) which is used to transmit web pages from the server to the client.  We learned that HTTP always follows a request-response pattern, and how both requests and responses are simply streams of data that follow a specific layout.</p>
<p>With this basic understanding of the web client files, and the means to transmit them to the client, we are ready to tackle creating a web server, which we will do in the next chapter.</p>

            <footer class="footline">

            </footer>
          </article>

          </section>
    
    
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 2</div>
<h1 id="aspnet">ASP.NET</h1>

<p>.NET Goes Online</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of ASP.NET</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="introduction">Introduction</h1>

<p>While web browsers request resources (including HTTP, CSS, and JavaScript) files over HTTP, the other end of this connection, and what supplies those files, is a <em>web server</em>.  Unlike web clients, which are limited by what technologies a browser understands (namely HTML, CSS, and JS), a web server can be written in any programming language.  In this chapter, we will explore writing web servers in C#, using aspects of the ASP.NET framework.</p>
<h2 id="key-terms">Key Terms</h2>
<p>Some key terms to learn in this chapter are:</p>
<ul>
<li>Web Server</li>
<li>ASP.NET</li>
<li>Dynamic Web Pages</li>
<li>Templates</li>
<li>Razor Pages</li>
</ul>
<h2 id="key-skills">Key Skills</h2>
<p>The key skills you will be developing in this chapter are:</p>
<ul>
<li>Creating a web server to serve a web application using ASP.NET</li>
<li>The ability to author Razor Pages combining HTML with embedded C# code</li>
</ul>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="static-webservers">Static Webservers</h1>

<p>The earliest web servers simply served files held in a directory. If you think back to your web development assignment from CIS 115, this is exactly what you did - you created some HTML, CSS, and JS files and placed them in the <em>public_html</em> directory in your user directory on the CS Linux server.  Anything placed in this folder is automatically served by an instance of the Apache web server running on the Linux server, at the address <code>https://people.cs.ksu.edu/~[eid]/</code> where <code>[eid]</code> is your K-State eid.</p>
<p><a href="https://www.apache.org/" target="_blank">Apache</a>
 is one of the oldest and most popular open-source web servers in the world.  Microsoft introduced their own web server, <a href="https://www.iis.net/" target="_blank">Internet Information Services (IIS)</a>
 around the same time.  Unlike Apache, which can be installed on most operating systems, IIS only runs on the Windows Server OS.</p>
<p>While Apache installations typically serve static files from either a <em>html</em> or <em>public_html</em> directory, IIS serves files from a <em>wwwroot</em> directory.</p>
<p>As the web grew in popularity, there was tremendous demand to supplement static pages with pages created on the fly in response to requests - allowing pages to be customized to a user, or displaying the most up-to-date information from a database.  In other words, <em>dynamic</em> pages.  We&rsquo;ll take a look at these next.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="dynamic-pages">Dynamic Pages</h1>

<p>Modern websites are more often full-fledged applications than collections of static files.  But these applications remain built upon the foundations of the core web technologies of HTML, CSS, and JavaScript.  In fact, the client-side application is typically built of <em>exactly</em> these three kinds of files!  So how can we create a dynamic web application?</p>
<p>One of the earliest approaches was to write a program to <em>dynamically create</em> the HTML file that was being served.  Consider this method:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> GeneratePage()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    StringBuilder sb = <span style="color:#66d9ef">new</span> StringBuilder();
</span></span><span style="display:flex;"><span>    sb.Append(<span style="color:#e6db74">&#34;&lt;!DOCTYPE html&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>    sb.Append(<span style="color:#e6db74">&#34;&lt;html&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>    sb.Append(<span style="color:#e6db74">&#34;&lt;head&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>    sb.Append(<span style="color:#e6db74">&#34;&lt;title&gt;My Dynamic Page&lt;/title&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>    sb.Append(<span style="color:#e6db74">&#34;&lt;/head&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>    sb.Append(<span style="color:#e6db74">&#34;&lt;body&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>    sb.Append(<span style="color:#e6db74">&#34;&lt;h1&gt;Hello, world!&lt;/h1&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>    sb.Append(<span style="color:#e6db74">&#34;&lt;p&gt;Time on the server is &#34;</span>);
</span></span><span style="display:flex;"><span>    sb.Append(DateTime.Now);
</span></span><span style="display:flex;"><span>    sb.Append(<span style="color:#e6db74">&#34;&lt;/p&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>    sb.Append(<span style="color:#e6db74">&#34;&lt;/body&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>    sb.Append(<span style="color:#e6db74">&#34;&lt;/html&gt;&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> sb.ToString();
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>It generates the HTML of a page showing the current date and time.  Remember too that HTTP responses are simply text, so we can generate a response as a string as well:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> GenerateResponse()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">string</span> page = GeneratePage();
</span></span><span style="display:flex;"><span>    StringBuilder sb = <span style="color:#66d9ef">new</span> StringBuilder();
</span></span><span style="display:flex;"><span>    sb.AppendLine(<span style="color:#e6db74">&#34;HTTP/1.1 200&#34;</span>);
</span></span><span style="display:flex;"><span>    sb.AppendLine(<span style="color:#e6db74">&#34;Content-Type: text/html; charset=utf-8&#34;</span>);
</span></span><span style="display:flex;"><span>    sb.AppendLine(<span style="color:#e6db74">&#34;ContentLength:&#34;</span> + page.Length);
</span></span><span style="display:flex;"><span>    sb.AppendLine(<span style="color:#e6db74">&#34;&#34;</span>);
</span></span><span style="display:flex;"><span>    sb.Append(page);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> sb.ToString();
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>The resulting string could then be streamed back to the requesting web browser.  This is the basic technique used in all server-side web frameworks: they dynamically assemble the response to a request by assembling strings into an HTML page.  Where they differ is what language they use to do so, and how much of the process they&rsquo;ve abstracted.</p>
<p>This approach was adopted by Microsoft and implemented as <em>Active Server Pages (ASP)</em>.  By placing files with the <em>.asp</em> extension among those served by an IIS server, C# or Visual Basic code written on that page would be executed, and the resulting string would be served as a file.  This would happen on each request - so a request for <a href="http://somesite.com/somepage.asp" target="_blank">http://somesite.com/somepage.asp</a>
 would execute the code in the <em>somepage.asp</em> file, and the resulting text would be served.</p>
<p>You might have looked at the above examples and shuddered.  After all, who wants to assemble text like that?  And when you assemble HTML using raw string concatenation, you don&rsquo;t have the benefit of syntax highlighting, code completion, or any of the other modern development tools we&rsquo;ve grown to rely on.  Thankfully, most web development frameworks provide some abstraction around this process, and by and large have adopted some form of <em>template syntax</em> to make the process of writing a page easier.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="template-rendering">Template Rendering</h1>

<p>It was not long before new technologies sprang up to replace the ad-hoc string concatenation approach to creating dynamic pages.  These template approaches allow you to write a page using primarily HTML, but embed snippets of another language to execute and concatenate into the final page.  This is very similar to the template strings we have used in C#, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">string</span> time = <span style="color:#e6db74">$&#34;The time is {DateTime.Now}&#34;</span>;</span></span></code></pre></div><p>Which concatenates the invoking the <a href="">DateTime.Now</a>
 property&rsquo;s <code>ToString()</code> method into the string <code>time</code>.  While the C# template string above uses curly braces to call out the script snippets, most HTML template libraries initially used some variation of angle brackets + additional characters.  As browsers interpret anything within angle brackets (<code>&lt;&gt;</code>) as HTML tags, these would not be rendered if the template was accidentally served as HTML wihout executing and concatenating scripts.  Two early examples are:</p>
<ul>
<li><code>&lt;?php echo &quot;This is a PHP example&quot; ?&gt;</code></li>
<li><code>&lt;% Response.Write(&quot;This is a classic ASP example) %&gt;</code></li>
</ul>
<p>And abbreviated versions:</p>
<ul>
<li><code>&lt;?= &quot;This is the short form for PHP&quot; ?&gt;</code></li>
<li><code>&lt;%= &quot;This is the short form for classic ASP&quot; %&gt;</code></li>
</ul>
<p>Template rendering proved such a popular and powerful tool that rendering libraries were written for most programming languages, and could be used for more than just HTML files - really <em>any</em> kind of text file can be rendered with a template.  Thus, you can find template rendering libraries for JavaScript, Python, Ruby, and pretty much any language you care to (and they aren&rsquo;t that hard to write either).</p>
<p>Microsoft&rsquo;s classic ASP implementation was limited to the Visual Basic programming language.  As the C# language gained in popularity, they replaced classic ASP with ASP.NET web pages.  Like classic ASP, each page file (named with a <em>.aspx</em> extension) generates a corresponding HTML page.  The script could be either Visual Basic or C#, and a new syntax using the at symbol (<code>@</code>) to proceed the code snippets was adopted.  Thus the page:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-aspx" data-lang="aspx">&lt;html&gt;
    &lt;body&gt;
        &lt;h1&gt;Hello Web Pages&lt;/h1&gt;
        &lt;p&gt;The time is @DateTime.Now&lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre></div><p>Would render the current time.  You can run (and modify) this example on the <a href="https://www.w3schools.com/asp/showfile_c.asp?filename=try_webpages_cs_001" target="_blank">w3schools.com</a>
.</p>
<p>This template syntax is the <a href="https://en.wikipedia.org/wiki/ASP.NET_Razor" target="_blank">Razor syntax</a>
, and used throughout Microsoft&rsquo;s ASP.NET platform.  Additionally it can be used outside of ASP.NET with the open-source <a href="https://antaris.github.io/RazorEngine/" target="_blank">RazorEngine</a>
.</p>
<p>Classic PHP, Classic ASP, and ASP.NET web pages all use a single-page model, where the client (the browser) requests a specific file, and as that file is interpreted, the dynamic page is generated.  This approach worked well in the early days of the world-wide-web, where web sites were essentially a collection of pages.  However, as the web grew increasingly interactive, many web sites grew into full-fledged <em>web applications</em>, full-blown programs that did lend themselves to a page-baed structure.  This new need resulted in new technologies to fill the void - web frameworks.  We&rsquo;ll talk about these next.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="web-frameworks">Web Frameworks</h1>

<p>As web <em>sites</em> became web <em>applications</em>, developers began looking to use ideas and techniques drawn from traditional software development.  These included architectural patterns like <a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller" target="_blank">Model-View-Controller (MVC)</a>
 and <a href="https://en.wikipedia.org/wiki/Pipeline_%28software%29" target="_blank">Pipeline</a>
 that simply were not possible with the server page model.  The result was the development of a host of web frameworks across multiple programming languages, including:</p>
<ul>
<li><a href="https://rubyonrails.org/" target="_blank">Ruby on Rails</a>
, which uses the <a href="https://www.ruby-lang.org/en/" target="_blank">Ruby</a>
 programming language and adopts a MVC architecture</li>
<li><a href="https://laravel.com/" target="_blank">Laravel</a>
, which uses the <a href="https://www.php.net/" target="_blank">PHP</a>
 programming language and adopts a MVC architecture</li>
<li><a href="https://www.djangoproject.com/" target="_blank">Django</a>
, which uses the <a href="https://www.python.org/" target="_blank">Python</a>
 programming language and adopts a MVC architecture</li>
<li><a href="https://expressjs.com/" target="_blank">Express</a>
, which uses the <a href="https://nodejs.org/en/" target="_blank">Node implementation of the JavaScript</a>
 programming language and adopts the Pipeline architecture</li>
<li><a href="https://revel.github.io/" target="_blank">Revel</a>
, which uses the <a href="https://golang.org/" target="_blank">Go</a>
 programming language and adopts a Pipeline architecture</li>
<li><a href="https://github.com/ninenines/cowboy" target="_blank">Cowboy</a>
, which uses the <a href="https://www.erlang.org/" target="_blank">erlang</a>
 programming language and adopts a Pipeline architecture</li>
<li><a href="https://www.phoenixframework.org/" target="_blank">Phoenix</a>
, which uses the <a href="https://elixir-lang.org/" target="_blank">elixir</a>
 programming language, and adopts a Pipeline architecture</li>
</ul>
<h3 id="aspnet-frameworks">ASP.NET Frameworks</h3>
<p>This is only a sampling of the many frameworks and languages used in the modern web.  Microsoft adapted to the new approach by creating their own frameworks within the ASP.NET family:</p>
<ul>
<li><a href="https://dotnet.microsoft.com/apps/aspnet/mvc" target="_blank">ASP.NET MVC</a>
 uses C# (or Visual Basic) for a language and adopts a MVC architecture</li>
<li><a href="https://docs.microsoft.com/en-us/aspnet/core/tutorials/razor-pages/?view=aspnetcore-3.1" target="_blank">ASP.NET Razor Pages</a>
, which also uses C# (or Visual Basic) for its language, and adopts a Pipeline architecture</li>
<li><a href="https://dotnet.microsoft.com/apps/aspnet/apis" target="_blank">ASP.NET API</a>
 is a web framework focused on creating RESTful web APIs (i.e. a web application that serves data instead of HTML)</li>
</ul>
<h3 id="iis-and-aspnet-core">IIS and ASP.NET Core</h3>
<p>While ASP.NET applications are traditionally hosted on IIS running on the Windows Server operating system, the introduction of .NET Core made it possible to run .NET programs on Linux machines.  As Linux operating systems are typically free and dominate the web server market (W3Cook<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> reports 98.1% of web servers worldwide run on a Linux OS).</p>
<p>Microsoft has accordingly migrated its ASP.NET family to a new implementation can run on .NET Core <em>or</em> IIS: <a href="https://docs.microsoft.com/en-us/aspnet/core/?view=aspnetcore-5.0" target="_blank">ASP.NET Core</a>
.  When you build a ASP.NET Core application, you can choose your deployment target: IIS, .NET Core, or even Microsoft&rsquo;s cloud service, Azure.  The same application can run on <em>any</em> of these platforms.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p><a href="https://web.archive.org/web/20150806093859/http://www.w3cook.com/os/summary/" target="_blank">W3Cook OS Summary</a>
&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="razor-pages">Razor Pages</h1>

<p>ASP.NET Core adds a project type to Visual Studio&rsquo;s new project wizard, <em>ASP.NET Core web application</em> which uses <em>Razor Pages</em>.  The Razor Page approach represents a hybrid approach between a MVC and Pipeline architecture and leverages some of the ideas of component-based design that we saw with WPF applications.</p>
<p>The program entry point is <em>Program.cs</em>, which creates the web server our application will run on.  In it, we initialize and configure the server based on the <em>Startup.cs</em> class, which details what aspects of the ASP.NET program we want to use.  The wizard does the initial configuration for us, and for now we&rsquo;ll leave the defaults:</p>
<ul>
<li>Adding the Razor Pages service (which allows us to use Razor Pages)</li>
<li>Enabling HTTPS redirection (which instructs browsers making HTTP requests against our server to make HTTPS requests instead)</li>
<li>Enabling the use of static files, which means files in the <em>wwwroot</em> folder will be served as they are, in as efficient a manner of possible</li>
<li>Mapping requests to razor pages (this makes a request against a route like <em>/index</em> map to the <em>Pages/Index.cshtml</em> razor page)</li>
</ul>
<p>Under this architecture, any file we want to serve as-is (i.e. our CSS and JavaScript files), we&rsquo;ll place in <em>wwwroot</em> folder.  Any route we want to serve dynamically, we&rsquo;ll create a corresponding Razor page for in the <em>Pages</em> folder.</p>
<h2 id="razor-page-syntax">Razor Page Syntax</h2>
<p>Let&rsquo;s look at an example Razor page, <em>index.cshtml</em>, and then break down its components:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-razor" data-lang="razor">@page 
@model IndexModel
@{
    ViewData[&#34;Title&#34;] = &#34;Home page&#34;;
}
&lt;div class=&#34;text-center&#34;&gt;
    &lt;h1 class=&#34;display-4&#34;&gt;Welcome&lt;/h1&gt;
    &lt;p&gt;Learn about &lt;a href=&#34;https://docs.microsoft.com/aspnet/core&#34;&gt;building Web apps with ASP.NET Core&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;</code></pre></div><p>The <code>@page</code> line indicates to the compiler that this file represents a Razor page.  This is necessary for the page to be interpreted correctly, and for setting up the mapping from a request for the route <em>/index</em> to be mapped to this page (<em>Index.cshtml</em>).</p>
<p>The <code>@model</code> line indicates the <em>model</em> class to use with this page.  Conventionally, the model class has the same name as the Razor page, plus a <em>.cs</em> extension, though we can use a different model file if needed.  If we follow the convention, the model file is grouped with the Razor page file, much like the codebehind files in WPF and Forms. The model class provides the data for the web page, in a manner somewhat like the ViewModel classes we worked with in WPF.  We&rsquo;ll talk more about model classes shortly.</p>
<p>The <code>@{}</code> section is a place to define variables.  In this case, we add a key/value pair to the <code>ViewData</code> dictionary.  This dictionary is available in both the page and the layout, and is an easy way to pass values between them (in this case, we are providing a title to the layout). The layout is discussed below.</p>
<p>Finally, the page content itself is presented in Razor syntax - a mixture of HTML and embedded C# proceeded by the <code>@</code> symbol.  Note that we do not need to provide termination to the C# code - the compiler will automatically determine when we switch from code back to HTML based on the grammar of the C# language.</p>
<h2 id="layouts">Layouts</h2>
<p>If you remember from our discussions of HTML, a valid HTML page must have a <code>&lt;!DOCTYPE html&gt;</code> element, and <code>&lt;html&gt;</code>, <code>&lt;head&gt;</code>, <code>&lt;title&gt;</code>, and <code>&lt;body&gt;</code> elements.  But where are these in our Razor page?  It exists in the _Pages/Shared/<em>Layout.cshtml</em> file:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-cshtml" data-lang="cshtml">&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
&lt;head&gt;
    &lt;meta charset=&#34;utf-8&#34; /&gt;
    &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34; /&gt;
    &lt;title&gt;@ViewData[&#34;Title&#34;] - ExampleWebApplication&lt;/title&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;~/lib/bootstrap/dist/css/bootstrap.min.css&#34; /&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;~/css/site.css&#34; /&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;header&gt;
        &lt;nav class=&#34;navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3&#34;&gt;
            &lt;div class=&#34;container&#34;&gt;
                &lt;a class=&#34;navbar-brand&#34; asp-area=&#34;&#34; asp-page=&#34;/Index&#34;&gt;ExampleWebApplication&lt;/a&gt;
                &lt;button class=&#34;navbar-toggler&#34; type=&#34;button&#34; data-toggle=&#34;collapse&#34; data-target=&#34;.navbar-collapse&#34; aria-controls=&#34;navbarSupportedContent&#34;
                        aria-expanded=&#34;false&#34; aria-label=&#34;Toggle navigation&#34;&gt;
                    &lt;span class=&#34;navbar-toggler-icon&#34;&gt;&lt;/span&gt;
                &lt;/button&gt;
                &lt;div class=&#34;navbar-collapse collapse d-sm-inline-flex flex-sm-row-reverse&#34;&gt;
                    &lt;ul class=&#34;navbar-nav flex-grow-1&#34;&gt;
                        &lt;li class=&#34;nav-item&#34;&gt;
                            &lt;a class=&#34;nav-link text-dark&#34; asp-area=&#34;&#34; asp-page=&#34;/Index&#34;&gt;Home&lt;/a&gt;
                        &lt;/li&gt;
                        &lt;li class=&#34;nav-item&#34;&gt;
                            &lt;a class=&#34;nav-link text-dark&#34; asp-area=&#34;&#34; asp-page=&#34;/Privacy&#34;&gt;Privacy&lt;/a&gt;
                        &lt;/li&gt;
                    &lt;/ul&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/nav&gt;
    &lt;/header&gt;
    &lt;div class=&#34;container&#34;&gt;
        &lt;main role=&#34;main&#34; class=&#34;pb-3&#34;&gt;
            @RenderBody()
        &lt;/main&gt;
    &lt;/div&gt;

    &lt;footer class=&#34;border-top footer text-muted&#34;&gt;
        &lt;div class=&#34;container&#34;&gt;
            &amp;copy; 2020 - ExampleWebApplication - &lt;a asp-area=&#34;&#34; asp-page=&#34;/Privacy&#34;&gt;Privacy&lt;/a&gt;
        &lt;/div&gt;
    &lt;/footer&gt;

    &lt;script src=&#34;~/lib/jquery/dist/jquery.min.js&#34;&gt;&lt;/script&gt;
    &lt;script src=&#34;~/lib/bootstrap/dist/js/bootstrap.bundle.min.js&#34;&gt;&lt;/script&gt;
    &lt;script src=&#34;~/js/site.js&#34; asp-append-version=&#34;true&#34;&gt;&lt;/script&gt;

    @RenderSection(&#34;Scripts&#34;, required: false)
&lt;/body&gt;
&lt;/html&gt;</code></pre></div><p>Using a layout file allows us to place boilerplate HTML (code that is repeated on every page of our site) in a single location, and share it amongst all pages in our application.  The <code>@RenderBody()</code> line indicates where the content of the Razor page will be rendered.</p>
<p>Note that we also implement a navigation menu in this layout.  Instead of giving the links in this navigation page a <code>href</code> element, we use <code>asp-page</code>, which converts into an appropriate <code>href</code> linking to one of our Razor pages on compilation.  Thus <code>asp-page=&quot;/Index&quot;</code> will point to our <em>Index.cshtml.cs</em> page.  The <code>asp-page</code> is an example of a <a href="https://docs.microsoft.com/en-us/aspnet/core/mvc/views/tag-helpers/intro?view=aspnetcore-3.1" target="_blank">TagHelper</a>
, syntax that provides extra details to be processed by the Razor rendering engine.</p>
<p>We can include other sections within the layout with <code>@RenderSection()</code> For example, the <code>@RenderSection(&quot;Scripts&quot;, required: false)</code> will render a &ldquo;Scripts&rdquo; section, if there is one defined in our Razor page.  We define such sections with the <code>@section</code> syntax, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-cshtml" data-lang="cshtml">@section Scripts{
    &lt;script src=&#34;my-script.js&#34;&gt;&lt;/script&gt;
}</code></pre></div><p>Would place the additional <code>&lt;script&gt;</code> element in the rendered Razor page.  You can define as many sections as you want.</p>
<p>While the _Pages/Shared/<em>Layout.cshtml</em> file is the default layout, you can define your own layout files.  These should also be placed in the <em>Pages/Shared</em> folder, and their name should begin with an underscore.  You can then set it to be used as the layout for your page by setting the page&rsquo;s <code>Layout</code> property:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-cshtml" data-lang="cshtml">@{
    Layout = &#34;_YourLayout&#34;;
}</code></pre></div><p>Where the string you set the property to is the name of your layout.</p>
<h2 id="model-classes">Model Classes</h2>
<p>The model class serves a similar role to the codebehind classes of your WPF and Windows Forms applications.  Any public properties defined in the model class are accessible in the Razor page.  I.e. if we defined a property:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">IndexModel</span>:PageModel {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> DateTime CurrentTime 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">get</span> 
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> DateTime.Now;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> IActionResult OnGet()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>We could use it in the corresponding Razor page:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>@page 
</span></span><span style="display:flex;"><span>@model IndexModel 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;p&gt;The current time <span style="color:#66d9ef">is</span> @Model.CurrentTime&lt;/p&gt;</span></span></code></pre></div><p>In addition, the model class can define a method to be triggered on each HTTP Request, i.e. the <code>OnGet()</code> method will be triggered with each HTTP GET request, and <code>OnPost()</code> will be called with each HTTP POST request.  You can define a method for any of the valid HTTP request verbs that will be invoked on each corresponding request.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="summary">Summary</h1>

<p>In this chapter we explored how server-side web technologies have evolved to create <em>dynamic</em> web sites and web applications.  The ASP.NET Core platform is Microsoft&rsquo;s answer to this evolution.  It can run on either Microsoft&rsquo;s flagship IIS server, or as a stand-alone server on a variety of platforms.  It brings together a suite of technologies to build web pages and web applications.  We took an in-depth look at one of these - Razor pages, and learned how to build our own Razor pages app.</p>

            <footer class="footline">

            </footer>
          </article>

          </section>
    
    
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 3</div>
<h1 id="form-data">Form Data</h1>

<p>Talk Back to your Server</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Form Data</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="introduction">Introduction</h1>

<p>Now that we have explored some ideas about getting data <em>from</em> the web server, let&rsquo;s turn our attention to sending data <em>to</em> the webserver.  One of the earliest approaches for doing so is to use a HTML form sent as a HTTP Request, which we&rsquo;ll take a look at in this chapter.</p>
<h2 id="key-terms">Key Terms</h2>
<p>Some key terms to learn in this chapter are:</p>
<ul>
<li>Form</li>
<li>Input</li>
<li>Encoding</li>
<li><code>Nullable&lt;T&gt;</code> and <code>?</code></li>
</ul>
<p>And the HTML tags:</p>
<ul>
<li><code>&lt;form&gt;</code></li>
<li><code>&lt;input&gt;</code></li>
<li><code>&lt;textarea&gt;</code></li>
</ul>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="http-forms">HTTP Forms</h1>

<p>One of the earliest (and still widely used) mechanisms for transferring data from a browser (client) to the server is a <em>form</em>.  The <code>&lt;form&gt;</code> is a specific HTML element that contains input fields and buttons the user can interact with.</p>
<h3 id="the-input-element">The <code>&lt;input&gt;</code> Element</h3>
<p>Perhaps the most important - and versatile - of these is the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input" target="_blank"><code>&lt;input&gt;</code></a> element.  By setting its <code>type</code> attribute, we can represent a wide range of possible inputs, as is demonstrated by this table <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input" target="_blank">taken from the MDN Web Docs</a>
:</p>
<table class="standard-table">
 <colgroup>
  <col>
  <col style="width: 50%;">
  <col>
 </colgroup>
 <thead>
  <tr>
   <th>Type</th>
   <th>Description</th>
   <th colspan=2>Basic Examples</th>
  </tr>
 </thead>
 <tbody>
  <tr>
    <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/button" title="<input> elements of type button are rendered as simple push buttons, which can be programmed to control custom functionality anywhere on a webpage as required when assigned an event handler function (typically for the click event).">button</a></td>
    <td>A push button with no default behavior displaying the value of the <a href="#htmlattrdefvalue">value</a> attribute, empty by default.</td>
    <td>
      <pre><code class="html">&lt;input type="button" name="ExampleButton" value="Click Me!"/&gt;</code></pre>
    </td>
    <td>
      <input type="button" name="ExampleButton" value="Click Me!"/>
    </td>
  </tr>
  <tr>
    <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/checkbox" title="<input> elements of type checkbox are rendered by default as boxes that are checked (ticked) when activated, like you might see in an official government paper form. The exact appearance depends upon the operating system configuration under which the browser is running. Generally this is a square but it may have rounded corners. A checkbox allows you to select single values for submission in a form (or not).">checkbox</a></td>
    <td>A check box allowing single values to be selected/deselected.</td>
    <td>
      <pre><code class="html">&lt;label&gt;&lt;input type="checkbox" name="ExampleCheckbox"/&gt;&lt;label&gt;</code></pre></td>
    <td>
      <label><input type="checkbox" name="ExampleCheckbox"/>
    </td>
  </tr>
  <tr>
    <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/color" title="<input> elements of type color provide a user interface element that lets a user specify a color, either by using a visual color picker interface or by entering the color into a text field in #rrggbb hexadecimal format.">color</a></td>
    <td>A control for specifying a color; opening a color picker when active in supporting browsers.</td>
    <td>
      <pre><code class="html">&lt;input type="color" name="ExampleColor" style="width: 40px; height: 40px;"/&gt;</code></pre>
    </td>
    <td>
      <input type="color" name="ExampleColor" style="width: 40px; height: 40px;"/>
    </td>
  </tr>
  <tr>
    <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/date" title="<input> elements of type=&quot;date&quot; create input fields that let the user enter a date, either with a textbox that validates the input or a special date picker interface.">date</a></td>
    <td>A control for entering a date (year, month, and day, with no time). Opens a date picker or numeric wheels for year, month, day when active in supporting browsers.</td>
    <td>
     <pre><code class="html">&lt;input type="date" name="ExampleDate"/&gt;</code></pre>
   </td>
   <td>
    <input type="date" name="ExampleDate"/>
   </td>
  </tr>
  <tr>
    <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/datetime-local" title="<input> elements of type datetime-local create input controls that let the user easily enter both a date and a time, including the year, month, and day as well as the time in hours and minutes.">datetime-local</a></td>
    <td>A control for entering a date and time, with no time zone. Opens a date picker or numeric wheels for date- and time-components when active in supporting browsers.</td>
    <td>
      <pre><code class="html">&lt;input type="datetime-local" name="ExampleDatetimeLocal"/&gt;</code></pre>
    </td>
    <td>
      <input type="datetime-local" name="ExampleDatetimeLocal"/>
    </td>
  </tr>
  <tr>
  <tr>
    <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/email" title="<input> elements of type email are used to let the user enter and edit an e-mail address, or, if the multiple attribute is specified, a list of e-mail addresses.">email</a></td>
    <td>A field for editing an email address. Looks like a <code>text</code> input, but has validation parameters and relevant keyboard in supporting browsers and devices with dynamic keyboards.</td>
    <td>
      <pre><code class="html">&lt;input type="email" name="ExampleEmail"/&gt;</code></pre>
    </td>
    <td>
      <input type="email" name="ExampleEmail"/>
    </td>
  </tr>
  <tr>
    <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file" title="<input> elements with type=&quot;file&quot; let the user choose one or more files from their device storage. Once chosen, the files can be uploaded to a server using form submission, or manipulated using JavaScript code and the File API.">file</a></td>
    <td>A control that lets the user select a file. Use the <a href="#htmlattrdefaccept">accept</a> attribute to define the types of files that the control can select.</td>
    <td>
      <pre><code style="html">&lt;input type="file" name="ExampleFile"/&gt;</code></pre>
    </td>
    <td>
      <input type="file" name="ExampleFile"/>
    </td>
  </tr>
  <tr>
   <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/hidden" title="<input> elements of type hidden let web developers include data that cannot be seen or modified by users when a form is submitted. For example, the ID of the content that is currently being ordered or edited, or a unique security token. Hidden inputs are completely invisible in the rendered page, and there is no way to make it visible in the page's content.">hidden</a></td>
    <td>A control that is not displayed but whose value is submitted to the server. There is an example in the last column, but it's hidden!</td>
    <td>
      <pre><code class="html">&lt;input type="hidden" name="ExampleHidden" value="f0321dc35"/&gt;</code></pre>
    </td>
    <td>
      <input type="hidden" name="ExampleHidden" value="f0321dc35"/> ← It’s here!
    </td>
  </tr>
  <tr>
    <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/image" title="<input> elements of type image are used to create graphical submit buttons, i.e. submit buttons that take the form of an image rather than text.">image</a></td>
    <td>A graphical <code>submit</code> button. Displays an image defined by the <code>src</code> attribute. The <a href="#htmlattrdefalt">alt</a> attribute displays if the image <a href="#htmlattrdefsrc">src</a> is missing.</td>
    <td>
      <pre><code class="html">&lt;input type="image" name="ExampleImage" src="https://ksu-cs-textbooks.github.io/cis400/images/button.png">}}"/&gt;</code></pre>
    </td>
    <td>
      <input type="image" name="ExampleImage" src="https://ksu-cs-textbooks.github.io/cis400/images/button.png">}}"/>
    </td>
  </tr>
  <tr>
    <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/number" title="<input> elements of type number are used to let the user enter a number. They include built-in validation to reject non-numerical entries.">number</a></td>
    <td>A control for entering a number. Displays a spinner and adds default validation when supported. Displays a numeric keypad in some devices with dynamic keypads.</td>
    <td>
      <pre><code class="html">&lt;input type="number" name="ExampleNumber" min=0 max=10 step=1/&gt;</code></pre>
    </td>
    <td>
      <input type="number" name="ExampleNumber" min=0 max=10 step=1/>
    </td>
  </tr>
  <tr>
    <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/password" title="<input> elements of type password provide a way for the user to securely enter a password.">password</a></td>
    <td>A single-line text field whose value is obscured. Will alert user if site is not secure.</td>
    <td>
      <pre><code class="html">&lt;input type="password"&gt;</code></pre>
    </td>
    <td>
      <input type="password"/>
    </td>
  </tr>
  <tr>
    <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/radio" title="<input> elements of type radio are generally used in radio groups—collections of radio buttons describing a set of related options.">radio</a></td>
    <td>A radio button, allowing a single value to be selected out of multiple choices with the same <a href="#htmlattrdefname">name</a> value.</td>
    <td>
      <pre><code class="html">
&lt;label&gt;
  &lt;input type="radio" name="ExampleRadio" value="1"/&gt;
  Choice One
&lt;/label&gt;
&lt;label&gt;
  &lt;input type="radio" name="ExampleRadio" value="2"/&gt;
  Choice Two
&lt;/label&gt;
&lt;label&gt;
  &lt;input type="radio" name="ExampleRadio" value="3"/&gt;
  Choice Three
&lt;/label&gt;
      </code></pre>
    </td>
    <td>
      <label>
        <input type="radio" name="ExampleRadio" value="1"/>
        Choice One</label>
      <label>
        <input type="radio" name="ExampleRadio" value="2"/>
        Choice Two</label>
      <label>
        <input type="radio" name="ExampleRadio" value="3"/>
        Choice Three</label>
    </td>
  </tr>
  <tr>
    <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/range" title="<input> elements of type range let the user specify a numeric value which must be no less than a given value, and no more than another given value. The precise value, however, is not considered important. This is typically represented using a slider or dial control rather than a text entry box like the number input type.">range</a></td>
    <td>A control for entering a number whose exact value is not important. Displays as a range widget defaulting to the middle value. Used in conjunction <a href="#htmlattrdefmin">min</a> and <a href="#htmlattrdefmax">max</a> to define the range of acceptable values.</td>
    <td>
      <pre><code class="html">&lt;input type="range" name="ExampleRange" min="0" max="25"/&gt;</code></pre>
    </td>
    <td>
      <input type="range" name="ExampleRange" min="0" max="25"/>
    </td>
  </tr>
  <tr>
    <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/reset" title="<input> elements of type reset are rendered as buttons, with a default click event handler that resets all of the inputs in the form to their initial values.">reset</a></td>
    <td>A button that resets the contents of the form to default values. Not recommended.</td>
    <td>
      <pre><code class="html">&lt;input type="reset" name="ResetExample"/&gt;</code></pre>
    </td>
    <td>
      <input type="reset" name="ResetExample"/>
    </td>
  </tr>
  <tr>
    <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/search" title="<input> elements of type search are text fields designed for the user to enter search queries into. These are functionally identical to text inputs, but may be styled differently by the user agent. ">search</a></td>
    <td>A single-line text field for entering search strings. Line-breaks are automatically removed from the input value. May include a delete icon in supporting browsers that can be used to clear the field. Displays a search icon instead of enter key on some devices with dynamic keypads.</td>
    <td>
      <pre><code class="html">&lt;input type="search" name="ExampleSearch"/&gt;</code></pre>
    </td>
    <td>
      <input type="search" name="ExampleSearch"/>
    </td>
  </tr>
  <tr>
    <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/submit" title="<input> elements of type submit are rendered as buttons. When the click event occurs (typically because the user clicked the button), the user agent attempts to submit the form to the server.">submit</a></td>
    <td>A button that submits the form.</td>
    <td>
      <pre><code class="html">&lt;input type="submit" name="ExampleSubmit" value="Save Changes"/&gt;</code></pre>
    </td>
    <td>
      <input type="submit" name="ExampleSubmit" value="Save Changes"/>
    </td>
  </tr>
  <tr>
    <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/tel" title="<input> elements of type tel are used to let the user enter and edit a telephone number. Unlike <input type=&quot;email&quot;> and <input type=&quot;url&quot;> , the input value is not automatically validated to a particular format before the form can be submitted, because formats for telephone numbers vary so much around the world.">tel</a></td>
    <td>A control for entering a telephone number. Displays a telephone keypad in some devices with dynamic keypads.</td>
    <td>
      <pre><code class="html">&lt;input type="tel" name="ExampleTel"/&gt;</code></pre>
    </td>
    <td>
      <input type="tel" name="ExampleTel"/>
    </td>
  </tr>
  <tr>
    <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/text" title="<input> elements of type text create basic single-line text fields.">text</a></td>
    <td>The default value. A single-line text field. Line-breaks are automatically removed from the input value.</td>
    <td>
      <pre><code class="html">&lt;input type="text" name="ExampleText"/&gt;</code></pre>
    </td>
    <td>
      <input type="text" name="ExampleText"/>
    </td>
  </tr>
  <tr>
    <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/time" title="<input> elements of type time create input fields designed to let the user easily enter a time (hours and minutes, and optionally seconds).">time</a></td>
    <td>A control for entering a time value with no time zone.</td>
    <td>
      <pre><code class="html">&lt;input type="time" name="ExampleTime"/&gt;</code></pre>
    </td>
    <td>
      <input type="time" name="ExampleTime"/>
    </td>
  </tr>
  <tr>
    <td><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/url" title="<input> elements of type url are used to let the user enter and edit a URL.">url</a></td>
    <td>A field for entering a URL. Looks like a <code>text</code> input, but has validation parameters and relevant keyboard in supporting browsers and devices with dynamic keyboards.</td>
    <td>
      <pre><code class="html">&lt;input type="url" name="ExampleUrl"&gt;</code></pre>
    </td>
    <td>
      <input type="url" name="ExampleUrl">
    </td>
  </tr>
 </tbody>
</table>
<p>Regardless of the type, the <code>&lt;input&gt;</code> element also has a <code>name</code> and <code>value</code> property.  The <code>name</code> is similar to a variable name, in that it is used to identify the input&rsquo;s value when we serialize the form (more about that later), and the <code>value</code> is the value the input currently is (this starts as the value you specify in the HTML, but it changes when the user edits it).</p>
<p>Additionally, checkboxes and radio buttons have a boolean <code>ischecked</code> property.  These indicate if the box/button is checked or not (and that the box/button&rsquo;s <code>value</code> should be submitted).</p>
<h3 id="the-textarea-element">The <code>&lt;textarea&gt;</code> Element</h3>
<p>The <a href="https://developer.mozilla.orghttps://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea" target="_blank"><code>&lt;textarea&gt;</code></a>
 element represents a multi-line text input.  Similar to terminal programs, this is represented by columns and rows, the numbers of which are set by the <code>cols</code> and <code>rows</code> attributes, respectively.  Thus:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">textarea</span> <span style="color:#a6e22e">cols</span><span style="color:#f92672">=</span><span style="color:#e6db74">40</span> <span style="color:#a6e22e">rows</span><span style="color:#f92672">=</span><span style="color:#e6db74">5</span>&gt;&lt;/<span style="color:#f92672">textarea</span>&gt;</span></span></code></pre></div><p>Would look like:</p>
<textarea cols=40 rows=5></textarea>
<p>As with inputs, a <code>&lt;textarea&gt;</code> has a <code>name</code> and <code>value</code> attribute.</p>
<h3 id="the-select-element">The <code>&lt;select&gt;</code> Element</h3>
<p>The <a href="https://developer.mozilla.orghttps://developer.mozilla.org/en-US/docs/Web/HTML/Element/select" target="_blank"><code>&lt;select&gt;</code></a>
 element, along with <code>&lt;option&gt;</code> and <code>&lt;optgroup&gt;</code> make drop-down selection boxes.  The <code>&lt;select&gt;</code> takes a name attribute, while each <code>&lt;option&gt;</code> provides a different value.  The <code>&lt;options&gt;</code> can further be nested in <code>&lt;optgroup&gt;</code>s with their own labels.  The <code>&lt;select&gt;</code> also has a <code>multiple</code> attribute (to allow selecting multiple options), and <code>size</code> which determines how many options should be displayed at once (with scrolling if more are available).</p>
<p>For example:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">select</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;dino-select&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">optgroup</span> <span style="color:#a6e22e">label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Theropods&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">option</span>&gt;Tyrannosaurus&lt;/<span style="color:#f92672">option</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">option</span>&gt;Velociraptor&lt;/<span style="color:#f92672">option</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">option</span>&gt;Deinonychus&lt;/<span style="color:#f92672">option</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">optgroup</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">optgroup</span> <span style="color:#a6e22e">label</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Sauropods&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">option</span>&gt;Diplodocus&lt;/<span style="color:#f92672">option</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">option</span>&gt;Saltasaurus&lt;/<span style="color:#f92672">option</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">option</span>&gt;Apatosaurus&lt;/<span style="color:#f92672">option</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">optgroup</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">select</span>&gt;</span></span></code></pre></div><p>Displays as:</p>
<select id="dino-select">
    <optgroup label="Theropods">
        <option>Tyrannosaurus</option>
        <option>Velociraptor</option>
        <option>Deinonychus</option>
    </optgroup>
    <optgroup label="Sauropods">
        <option>Diplodocus</option>
        <option>Saltasaurus</option>
        <option>Apatosaurus</option>
    </optgroup>
</select>
<h3 id="the-label-element">The <code>&lt;label&gt;</code> Element</h3>
<p>A <a href="https://developer.mozilla.orghttps://developer.mozilla.org/en-US/docs/Web/HTML/Element/label" target="_blank"><code>&lt;label&gt;</code></a>
 element represents a caption for an element in the form.  It can be tied to a specific input using its <code>for</code> attribute, by setting its value to the <code>id</code> attribute of the associated input.  This allows screen readers to identify the label as belonging to the input, and also allows browsers to give focus or activate the input element when the label is clicked.</p>
<p>For example, if you create a checkbox with a label:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">fieldset</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;display:flex; align-items:center;&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkbox&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;example&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">label</span> <span style="color:#a6e22e">for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;example&#34;</span>&gt;Is Checked&lt;/<span style="color:#f92672">label</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">fieldset</span>&gt;</span></span></code></pre></div><fieldset style="display:flex; align-items:center;">
  <input type="checkbox" id="example"/>
  <label for="example">Is Checked</label>
</fieldset>
<p>Clicking the label will toggle the checkbox!</p>
<h3 id="the-fieldset-element">The <code>&lt;fieldset&gt;</code> Element</h3>
<p>The <code>&lt;fieldset&gt;</code> element is used to group related form parts together, which can be captioned with a <code>&lt;legend&gt;</code>.  It also has a <code>for</code> attribute which can be set to the <code>id</code> of a form on the page to associate with, so that the fieldset will be serialized with the form (this is not necessary if the fieldset is inside the form).  Setting the fieldset&rsquo;s <code>disabled</code> attribute will also disable all elements inside of it.</p>
<p>For example:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">fieldset</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">legend</span>&gt;Who is your favorite muppet?&lt;/<span style="color:#f92672">legend</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;radio&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;muppet&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;kermit&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">label</span> <span style="color:#a6e22e">for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;kermit&#34;</span>&gt;Kermit&lt;/<span style="color:#f92672">label</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">input</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;radio&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;muppet&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;animal&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">label</span> <span style="color:#a6e22e">for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;animal&#34;</span>&gt;Animal&lt;/<span style="color:#f92672">label</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">input</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;radio&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;muppet&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;piggy&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">label</span> <span style="color:#a6e22e">for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;piggy&#34;</span>&gt;Miss Piggy&lt;/<span style="color:#f92672">label</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">input</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;radio&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;muppet&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;gonzo&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">label</span> <span style="color:#a6e22e">for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;gonzo&#34;</span>&gt;Gonzo&lt;/<span style="color:#f92672">label</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">input</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">fieldset</span>&gt;</span></span></code></pre></div><p>Would render:</p>
<style>fieldset>label {display: inline; margin-right: 2rem;} </style>
<fieldset>
  <legend>Who is your favorite muppet?</legend>
  <input type="radio" name="muppet" id="kermit">
    <label for="kermit">Kermit</label>
  </input>
  <input type="radio" name="muppet" id="animal">
    <label for="animal">Animal</label>
  </input>
  <input type="radio" name="muppet" id="piggy">
    <label for="piggy">Miss Piggy</label>
  </input>
  <input type="radio" name="muppet" id="gonzo">
    <label for="gonzo">Gonzo</label>
  </input>
</fieldset>
<h3 id="the-form-element">The <code>&lt;form&gt;</code> Element</h3>
<p>Finally, the <code>&lt;form&gt;</code> element wraps around all the <code>&lt;input&gt;</code>, <code>&lt;textarea&gt;</code>, and <code>&lt;select&gt;</code> elements, and gathers them along with any contained within associated <code>&lt;fieldset&gt;</code>s to submit in a serialized form.  This is done when an <code>&lt;input type=&quot;submit&quot;&gt;</code> is clicked within the form, when the enter key is pressed and the form has focus, or by calling the <code>submit()</code> method on the form with JavaScript.</p>
<p>There are a couple of special attributes we should know for the <code>&lt;form&gt;</code> element:</p>
<ul>
<li><code>action</code> - the URL this form should be submitted to.  Defaults to the URL the form was served from.</li>
<li><code>enctype</code> - the encoding strategy used, discussed in the next section.  Possible values are:
<ul>
<li><code>application/x-www-form-urlencoded</code> - the default</li>
<li><code>multipart/form-data</code> - must be used to submit files</li>
<li><code>text/plain</code> - useful for debugging</li>
</ul>
</li>
<li><code>method</code> - the HTTP method to submit the form using, most often GET or POST</li>
</ul>
<p>When the form is submitted, the form is serialized using the <code>enctype</code>, and submitted using the HTTP <code>method</code> to the URL specified by the <code>action</code> attribute.  Let&rsquo;s take a deeper look at this process next.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="form-data">Form Data</h1>

<p>Form data is simply serialized key/value pairs pulled from a form and encoded using one of the three possible encoding strategies, and submitted using the specified method (usually GET or POST).</p>
<p>So when we submit a form containing two text inputs for first and last name:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">form</span> <span style="color:#a6e22e">method</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">label</span> <span style="color:#a6e22e">for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;First&#34;</span>&gt;First Name:&lt;/<span style="color:#f92672">label</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;First&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">label</span> <span style="color:#a6e22e">for</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Last&#34;</span>&gt;Last Name:&lt;/<span style="color:#f92672">label</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Last&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Submit&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Save Name&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">form</span>&gt;</span></span></code></pre></div><p>And enter the values &ldquo;Frank&rdquo; and &ldquo;Jones&rdquo;, the form is serialized as the key-value pairs:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;First&#34;</span>: <span style="color:#e6db74">&#34;Frank&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;Last&#34;</span>: <span style="color:#e6db74">&#34;Jones&#34;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>Here we are displaying the key-value pairs as JSON for legibility, but how the pairs ar encoded depends on the encoding strategy as discussed below.</p>
</div>
</div>
<p>If a form contains <em>multiple</em> inputs with the same name, they are serialized as an array, i.e. the form:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">form</span> <span style="color:#a6e22e">method</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">label</span>&gt;Enter three numbers:&lt;/<span style="color:#f92672">label</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;number&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Number&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;number&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Number&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;number&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Number&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Submit&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Save Numbers&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">form</span>&gt;</span></span></code></pre></div><p>Would be serialized as:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;Number&#34;</span> : [<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Finally, toggle inputs like checkboxes and radio buttons <em>only</em> submit a value when checked, i.e. given the following form:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">form</span> <span style="color:#a6e22e">method</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">label</span>&gt;Do the thing:&lt;/<span style="color:#f92672">label</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;checkbox&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;DoTheThing&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;thing&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Submit&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Save Numbers&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">form</span>&gt;</span></span></code></pre></div><p>Would serialize as:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{}</span></span></code></pre></div><p>When the checkbox is <strong>not</strong> checked, or:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;DoTheThing&#34;</span>: <span style="color:#e6db74">&#34;thing&#34;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>When the checkbox <strong>is</strong> checked.</p>
<p>Now that we&rsquo;ve discussed how inputs are serialized into key/value or key/array of value pairs, let&rsquo;s turn our attention to the method used to submit the form, and then look at each encoding strategy in turn.</p>
<h3 id="method">Method</h3>
<p>The HTTP method determines if the form data is sent as part of the <em>url</em> of the request, or in the <em>body</em> of the request.</p>
<h4 id="get-requests">GET Requests</h4>
<p>With a GET request, the serialized form data is appended to the url as a <em>query</em> or <em>search</em> parameter. This takes the form of a question mark: <code>?</code> followed by the serialized form data.  In addition, the serialized data must be url-encoded to ensure the URL remains valid, as it may contain reserved characters (i.e. the characters <code>:</code>,<code>/</code>,<code>?</code>,<code>#</code>, <code>&amp;</code>, and <code>=</code>) have special meanings in URLs, so the encoded data can&rsquo;t contain them).</p>
<p>For example, searching using Google uses a GET request, so when we type &ldquo;Razor Pages&rdquo; in into Google and click search, it makes a request against the URL: <code>https://www.google.com/search?q=razor+pages</code> (Note it adds additional form data fields for a variety of purposes).</p>
<p>A GET request is appropriate when the data you are submitting is small, like search terms or filter values.  Once you start submitting larger amounts of data (like parameters to build an object from), you&rsquo;ll probably want to switch to POST requests.  Also, remember the form data for GET requests are visible in the URL, so you&rsquo;ll want to use POST requests when seeing those values might be confusing or annoying to users.</p>
<p>Finally, passwords should <strong>NEVER</strong> be sent using a GET request, as doing so makes them visible in the URL.</p>

  
  
<div class="box notices cstyle tip">
  <div class="box-label"><i class="fa-fw fas fa-lightbulb"></i> Tip</div>
  <div class="box-content">

<p>The default method for form submission is a GET request, so if you don&rsquo;t specify the <code>method</code> parameter, the form will be submitted using this method.</p>
</div>
</div>
<h4 id="post-requests">POST Requests</h4>
<p>A POST request is submitted as the <em>body</em> of the request.  This is the most appropriate method for large submissions, submissions with data you don&rsquo;t want visibly displayed in the browser, and it is the <em>only</em> way to submit form data including files (which must be encoded using &ldquo;multipart/form-data&rdquo; as described below).</p>
<h3 id="encoding-strategies">Encoding Strategies</h3>
<p>There are two primary strategies for submitting data to a server <em>from HTML forms</em> (note that you can submit data to servers using other strategies when submitting from a program - we&rsquo;ll discuss some of these in the next chapter).  These strategies are <code>x-www-form-urlencoded</code> and <code>multipart/form-data</code>.  We&rsquo;ll take a look at how these encode data next.</p>
<h4 id="x-www-form-urlencoded">x-www-form-urlencoded</h4>
<p>The default encoding method is <code>application/x-www-form-urlencoded</code>, which encodes the form data as a string consisting of key/value pairs.  Each pair is joined by a <code>=</code> symbol, and pairs are in turn joined by <code>&amp;</code> symbols.  The key and value strings are further encoded using <a href="https://developer.mozilla.org/en-US/docs/Glossary/percent-encoding" target="_blank">percent encoding (URL encoding)</a>
, which replaces special characters with a code beginning with a percent sign (i.e. <code>&amp;</code> is encoded to <code>%26</code>).  This prevents misinterpretations of the key and value as additional pairs, etc.  Percent encoding is also used to encode URL segments (hence the name URL encoding).</p>
<p>Thus, the form:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">form</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Name&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Grover&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">select</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Color&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">option</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Red&#34;</span>&gt;Red&lt;/<span style="color:#f92672">option</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">option</span> <span style="color:#a6e22e">selected</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;true&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Blue&#34;</span>&gt;Blue&lt;/<span style="color:#f92672">option</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">option</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Green&#34;</span>&gt;Green&lt;/<span style="color:#f92672">option</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">select</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;number&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Age&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;36&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">form</span>&gt;</span></span></code></pre></div><p>Would be encoded as:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>Name=Grover&amp;Color=Blue&amp;Age=36</code></pre></div><p>The <a href="https://docs.microsoft.com/en-us/dotnet/api/system.web.httputility.urlencode?view=netcore-3.1" target="_blank">HTTPUtility</a>
 class in the <code>System.Web</code> namespace contains helpful methods for encoding and decoding URL strings.</p>
<p>URL-Encoded form data can be submitted with either a GET or POST request.  With a GET request, the form data is included in the URL&rsquo;s query (search) string, i.e. our form above might be sent to:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>www.sesamestreet.com/muppets/find?Name=Grover&amp;Color=Blue&amp;Age=36</code></pre></div><p>Which helps explain why the entire seralized form data needs to be URL encoded - it is included as part of the url!</p>
<p>When submitted as a post request, the string of form data is the body of the request.</p>
<h4 id="multipartform-data">multipart/form-data</h4>
<p>The encoding for <code>multipart/form-data</code> is a bit more involved, as it needs to deal with encoding both regular form values and binary file data.  It deals with this challenge by separating each key/value pair by a sequence of bytes known as a <em>boundary</em>, which does not appear in any of the files.  This boundary can then be used to split the body back into its constituent parts when parsing.  Each part of the body consists of its own <em>head</em> and <em>body</em> sections, with the body of most elements simply their value, while the body of file inputs is the file data encoded in base64.  Thus, the form:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">form</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Name&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Grover&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">select</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Color&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">option</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Red&#34;</span>&gt;Red&lt;/<span style="color:#f92672">option</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">option</span> <span style="color:#a6e22e">selected</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;true&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Blue&#34;</span>&gt;Blue&lt;/<span style="color:#f92672">option</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">option</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Green&#34;</span>&gt;Green&lt;/<span style="color:#f92672">option</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">select</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;number&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Age&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;36&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;file&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Image&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Grover.jpg&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">form</span>&gt;</span></span></code></pre></div><p>Would be encoded into a POST request as:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>POST /test HTTP/1.1 
Host: foo.example
Content-Type: multipart/form-data;boundary=&#34;boundary&#34; 

--boundary 
Content-Disposition: form-data; name=&#34;Name&#34; 

Grover
--boundary 
Content-Disposition: form-data; name=&#34;Color&#34; 

Blue
--boundary 
Content-Disposition: form-data; name=&#34;Age&#34; 

36
--boundary 
Content-Disposition: form-data; name=&#34;Image&#34;; filename=&#34;Grover.jpg&#34; 

/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjI...
--boundary--</code></pre></div><p>Files can <em>only</em> be submitted using <code>multipart/form-data</code> encoding.  If you attempt to use <code>application/x-www-form-urlencoded</code>, only the file name will be submitted as the value.  Also, as <code>multipart/form-data</code> is always submitted as the body of the request, it can only be submitted as part of a POST request, never a GET.  So a form containing a <code>file</code> input should always specify:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">form</span> <span style="color:#a6e22e">enctype</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;multipart/form-data&#34;</span> <span style="color:#a6e22e">method</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;POST&#34;</span>&gt;</span></span></code></pre></div>
            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="razor-pages-and-form-data">Razor Pages and Form Data</h1>

<p>While C# does provide utilities for parsing URL-encoded strings, the functionality of parsing incoming form data is built into the ASP.NET response handling.  Thus, when writing a Razor page application, we don&rsquo;t need to perform decoding on the form data - it has already been done for us.  There are several strategies built into Razor Pages to access this information:</p>
<h3 id="the-request-object">The Request Object</h3>
<p>The first of these is the <a href="https://docs.microsoft.com/en-us/dotnet/api/system.web.httprequest?view=netframework-4.8" target="_blank">HttpRequest</a>
 object, which is available as the <code>Request</code> property within a <code>Page</code>.  This object provides access to the <code>QueryString</code> and <code>Form</code>, as well as <code>Cookies</code>, <code>ServerVariables</code> and more.</p>
<p>If the form was submitted as a GET request, then the <code>Request.QueryString</code> is a collection of key-value pairs used like a dictionary, i.e. to access the value of the input with name &ldquo;Color&rdquo;, we would use: <code>Request.QueryString[&quot;Color&quot;]</code>.</p>
<p>Similarly, the <code>Form</code> also exposes the form content as a collection key-value pairs, so we could access a POST request&rsquo;s input with the name &ldquo;Color&rdquo; value with <code>Request.Form[&quot;Color&quot;]</code>.</p>
<p>Finally, the request also allows for checking <em>both</em> collections using its own accessor property, i.e. <code>Request[&quot;Color&quot;]</code> would provide the submitted value for the input &ldquo;Color&rdquo; if it was send with <em>either</em> a GET or POST request.</p>
<h3 id="parameter-binding">Parameter Binding</h3>
<p>A second approach to accessing form data in ASP.NET is <a href="https://docs.microsoft.com/en-us/aspnet/web-api/overview/formats-and-model-binding/parameter-binding-in-aspnet-web-api" target="_blank">Parameter Binding</a>
.  You&rsquo;ve already seen the <code>OnGet()</code> method of the <code>PageModel</code> class.  This is invoked every time a GET request to our server matches the page it is associated with.  We can also supply methods for other HTTP actions, i.e. POST, PUT, DELETE map to <code>OnPost()</code>, <code>OnPut()</code>, and <code>OnDelete()</code> respectively.  For each of these methods, we can use parameter binding to automatically parse and convert form data into parameter variables.</p>
<p>In its simplest form, we simply declare parameters whose type and name match those of our form.  Thus, for the form:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">form</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Name&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Grover&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">select</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Color&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">option</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Red&#34;</span>&gt;Red&lt;/<span style="color:#f92672">option</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">option</span> <span style="color:#a6e22e">selected</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;true&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Blue&#34;</span>&gt;Blue&lt;/<span style="color:#f92672">option</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">option</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Green&#34;</span>&gt;Green&lt;/<span style="color:#f92672">option</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">select</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;number&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Age&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;36&#34;</span>/&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">form</span>&gt;</span></span></code></pre></div><p>We could add several parameters to our <code>OnGet()</code> corresponding the names and types of the form fields:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>OnGet(<span style="color:#66d9ef">string</span> Name, <span style="color:#66d9ef">string</span> Color, <span style="color:#66d9ef">int</span> Age){
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Name would be &#34;Grover&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Color would be &#34;Blue&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Number would be 36</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>The form values are automatically converted and bound to the corresponding parameters of the <code>OnGet</code> method.  If the form does not contain the corresponding parameter, then it is assigned the default value (for value types) or null (for reference types).</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>There are times you may not want to use default values for value types.  For example, in the form above, if the <code>Age</code> property is not specified, it will default to <code>0</code>.  If we instead wanted it to be <code>null</code>, we could use the <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/nullable-value-types" target="_blank"><code>Nullable&lt;T&gt;</code></a>
 type:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>OnGet(<span style="color:#66d9ef">string</span> Name, <span style="color:#66d9ef">string</span> Color, Nullable&lt;<span style="color:#66d9ef">int</span>&gt; Age) {...}</span></span></code></pre></div><p>This allows <code>Age</code> to be <code>null</code>, in addition to all its normal possible values.  You can also specify a nullable type with the <code>?</code> shorthand, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>OnGet(<span style="color:#66d9ef">string</span> Name, <span style="color:#66d9ef">string</span> Color, <span style="color:#66d9ef">int?</span> Age) {...}</span></span></code></pre></div></div>
</div>
<h3 id="model-binding">Model Binding</h3>
<p>A third approach is <a href="https://docs.microsoft.com/en-us/aspnet/core/mvc/models/model-binding?view=aspnetcore-3.1" target="_blank">Model Binding</a>
, where decorators are used on public properties of the <code>PageModel</code> class to indicate that they should be bound to form data, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Muppet</span> : PageModel {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;The muppet&#39;s name&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">    [BindProperty]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Name { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;The muppet&#39;s color&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">    [BindProperty]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Color { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">///&lt;summary&gt;The muppet&#39;s age&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">    [BindProperty]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> Age {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}    
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>When set up this way, the properties will be populated with the corresponding form data on POST, PUT, and PATCH requests.  By default, they will <em>not</em> be populated on GET requests, though you can override this behavior with <code>SupportsGet</code>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;The muppet&#39;s name&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">    [BindProperty(SupportGet = true)]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Name { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }</span></span></code></pre></div><p>Finally, we can indicate <em>all</em> properties of the model class should be bound with a single <code>[BindsProperties]</code> decorator on the class, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#a6e22e">[BindProperties(SupportsGet = true)]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Muppet</span> : PageModel {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;The muppet&#39;s name&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Name { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;The muppet&#39;s color&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Color { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">///&lt;summary&gt;The muppet&#39;s age&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> Age {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}    
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>You might be wondering why ModelBinding does not work with GET requests by default.  In the previous section, we discussed when to use GET or POST requests to submit form data - we use GET requests for smaller data we don&rsquo;t mind displaying the URL, like search terms or filter values.  We use POST requests for large data, especially data we will use to populate an object.  So when using Model Binding, using the POST method is most appropriate.  Microsoft choose to reinforce this practice through the choice to not bind GET requests by default.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="validation">Validation</h1>

<p>Validation refers to the process of making sure the submitted data matches our expectations.  Validation can be done client-side or server-side.  For example, we can use the built-in HTML form validation properties to enforce rules, like a number that must be positive:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;number&#34;</span> <span style="color:#a6e22e">min</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0&#34;</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Age&#34;</span> <span style="color:#a6e22e">required</span>&gt;</span></span></code></pre></div><p>If a user attempts to submit a form containing this input is submitted, and the value is less than 0, the browser will display an error message instead of submitting.  In addition, the psuedo-css class <code>:invalid</code> will be applied to the element.</p>
<p>We can also mark inputs as required using the <code>required</code> attribute.  The browser will refuse to submit the form until all required inputs are completed. Inputs with a <code>required</code> attribute also receive the <code>:required</code> pseudo-class, allowing you to assign specific styles to them.</p>
<p>You can read more about HTML Form validation on <a href="https://developer.mozilla.org/en-US/docs/Learn/Forms/Form_validation" target="_blank">MDN</a>
.</p>
<p>Client-side validation is a good idea, because is minimizes invalid requests against our web application.  However, we cannot always depend on it, so we <em>also</em> need to implement server-side validation.  We can write custom logic for doing this, but Razor Pages also supports special validation decorators for bound properties.  For example, the corresponding validation for the input above would be:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#a6e22e">[BindProperty]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">[Required]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">[Range(0, int.MaxValue)]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> Age { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }</span></span></code></pre></div><p>The available validation decorators are:</p>
<ul>
<li><code>[CreditCard]</code>: Validates that the property has a credit card format. Requires jQuery Validation Additional Methods.</li>
<li><code>[Compare]</code>: Validates that two properties in a model match.</li>
<li><code>[EmailAddress]</code>: Validates that the property has an email format.</li>
<li><code>[Phone]</code>: Validates that the property has a telephone number format.</li>
<li><code>[Range]</code>: Validates that the property value falls within a specified range.</li>
<li><code>[RegularExpression]</code>: Validates that the property value matches a specified regular expression.</li>
<li><code>[Required]</code>: Validates that the field is not null. See [Required] attribute for details about this attribute&rsquo;s behavior.</li>
<li><code>[StringLength]</code>: Validates that a string property value doesn&rsquo;t exceed a specified length limit.</li>
<li><code>[Url]</code>: Validates that the property has a URL format.</li>
</ul>
<p>If validation fails, then the <code>PageModel</code>&rsquo;s <code>IsValid</code> attribute is false.</p>
<p>You can read more about server-side validation with Razor pages in the <a href="https://docs.microsoft.com/en-us/aspnet/core/mvc/models/validation?view=aspnetcore-3.1" target="_blank">Microsoft Documentation</a>
.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="summary">Summary</h1>

<p>In this chapter we looked at how data is handled in web applications.  We saw how forms can be used to submit data to our server, and examined several common encoding strategies.  We also saw how we can retrieve this data in our Razor Pages - through the <code>Request</code> object, or by parameter or model binding. Finally, we discussed validating submitted values, on both the client and server side of a HTTP request.</p>
<p>You should now be able to handle creating web forms and processing the submitted data.</p>

            <footer class="footline">

            </footer>
          </article>

          </section>
    
    
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 4</div>
<h1 id="web-apis">Web APIs</h1>

<p>Making the Web Accessible - for Programs</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Web APIs</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="introduction">Introduction</h1>

<p>Not all web applications are built to be viewed in a browser.  Many are built to be used by other programs.  We call these web applications Web APIs (Application Programming Interfaces).  These also make HTTP or HTTPS requests against our apps, but usually instead of serving HTML, we serve some form of serialized data instead - most commonly XML or JSON.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="making-requests">Making Requests</h1>

<p>Making a HTTP request is a multi-step process.  First you must establish a connection with the server, then create the request data, then you must stream that data to your server through the connection.  Once the server has received and processed your request data, it should stream a response back to you.</p>
<p>You can write code to handle each step, but most programming languages provide one or more libraries that provide a level of abstraction to this process. The C# language actually offers several options in its system libraries, and there are multiple open-source options as well.</p>
<h3 id="webrequest">WebRequest</h3>
<p>The simplest of these is the <code>WebRequest</code> object.  It represents and carries out a single HTTP request and provides the response.  Let&rsquo;s take a look at an example, which retrieves a &ldquo;Joke of the Day&rdquo; from a web API at <a href="https://jokes.one" target="_blank">https://jokes.one</a>
:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>WebRequest request = WebRequest.Create(<span style="color:#e6db74">&#34;http://api.jokes.one/jod&#34;</span>);</span></span></code></pre></div><p>This one line of code creates the <code>WebRequest</code> object.  Notice that we are <strong>not using a constructor</strong>.  Instead, we invoke a <code>Create()</code> method.  This is an example of the <a href="https://en.wikipedia.org/wiki/Factory_method_pattern" target="_blank">Factory Method Pattern</a>
, which you will learn more about in CIS 501.  But to briefly introduce the concept, the <code>WebRequest</code> class is actually a <em>base class</em> for a multiple different classes, each representing a <em>specific kind</em> of web request (i.e. using HTTP, HTTPS, FTP and so on).  Based on the URI supplied to <code>WebRequest.Create(Uri uri)</code>, the method will determine the appropriate kind of request to make, and create and return the corresponding object.</p>
<p>Now that we have our request, we can send it and obtain a response with:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>WebResponse response = request.GetResponse();</span></span></code></pre></div><p>This opens the connection to the server, streams the request to it, and then captures the sever&rsquo;s response.  We can access this response as a stream (similar to how we would read a file):</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">using</span> Stream responseStream = response.GetStream() 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  StreamReader reader = <span style="color:#66d9ef">new</span> StreamReader(responseStream);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">string</span> responseText= reader.ReadToEnd();
</span></span><span style="display:flex;"><span>  Console.WriteLine(responseText);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>You likely are wondering what the <code>using</code> and curly braces <code>{}</code> are doing in this code.  They are there because the <code>Stream</code> object implements the <code>IDisposable</code> interface.  We&rsquo;ll discuss this in detail in the next section.  But for now, let&rsquo;s focus on how we use the stream.  First we create a <code>StreamReader</code> to read it:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>  StreamReader reader = <span style="color:#66d9ef">new</span> StreamReader(responseStream);</span></span></code></pre></div><p>Then read to the end of the stream:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>  <span style="color:#66d9ef">string</span> responseFromServer = reader.ReadToEnd();</span></span></code></pre></div><p>And write the response&rsquo;s text to the console:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>  Console.WriteLine(responseText);</span></span></code></pre></div><p>Finally, we must close the <code>WebResponse</code> object&rsquo;s connection to the server once we are done:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>  response.Close();</span></span></code></pre></div><p>This last step is important, as the open connection is actually managed by our operating system, and unless we close it, our system resources will be tied up, making our computer slower and potentially unable to make web requests for other programs (including your browser)!</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="working-with-disposables">Working With Disposables</h1>

<p>In the previous section, we looked at a line of code that included the keyword <code>using</code> in a way you haven&rsquo;t probably seen it before:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">using</span> Stream responseStream = response.GetStream() 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// TODO: Use the responseStream</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Let&rsquo;s examine this statement in more detail.  This use of <code>using</code> is a <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/using-statement" target="_blank">using statement</a>
, not to be confused with a <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/using-directive" target="_blank">using directive</a>
.</p>
<p>When you put a statement like <code>using System.Text</code>, you are using the <em>using directive</em>, which instructs the compiler to use types in the corresponding namespace without needing to provide the fully qualified namespace. You&rsquo;ve been using this technique for some time, so it should be familiar to you.</p>
<p>In contrast, the <em>using statement</em> is used in the body of your code in conjunction with an object implementing the <code>IDisposable</code> interface.  Objects that implement this interface have a <code>Dispose()</code> method, which needs to be called when you are done with them.  These kinds of objects typically access some resource from outside of the program, which needs to be released when you are done with it.</p>
<h4 id="managed-vs-unmanaged-resources">Managed vs. Unmanaged Resources</h4>
<p>To understand this better, let&rsquo;s talk about <em>managed</em> vs. <em>unmanaged</em> resources.  We say a resource is <em>managed</em> when obtaining and releasing it is handled by the language.  Memory is a great example of this.  In C#, we are using <em>managed memory</em>.  When we invoke a constructor or declare an array, the interpreter automatically creates the memory we need to hold them.</p>
<p>In contrast, C uses <em>unmanaged memory</em>.  When we want to create an array, we must <em>allocate</em> that memory with <code>alloc()</code>, <code>calloc()</code>, or <code>malloc()</code> function call.</p>
<p>This might not seem very different, until we are done with the array.  In C#, we can simply let it fall out of scope, knowing the garbage collector should eventually free that memory.  But in a C program, we must manually free the memory with a call to <code>free()</code>.</p>
<p>Sometimes in C#, we need to access some resource in a way that is unmanaged - in which case, we must be sure to free the resource when we are done with it.</p>
<h4 id="idisposable">IDisposable</h4>
<p>The <code>IDisposable()</code> interface provides a standard way of handling this kind of situation. It requires any class implementing it to define a <code>Dispose()</code> method that frees any unmanaged resources.  A <em>stream</em> (the data being read in from a file, the network, or a terminal) is a good example of an unmanaged resource - the stream is actually created by the operating system, and the <code>Stream</code> object (a <code>FileStream</code>, <code>BufferedStream</code>, etc) is a C# object providing access to it.</p>
<p>Let&rsquo;s focus on a <code>FileStream</code> for a moment.  One is created every time you ask the operating system to open a file, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>FileStream fs = File.OpenRead(<span style="color:#e6db74">&#34;somefile.txt&#34;</span>);</span></span></code></pre></div><p>The <code>File.OpenRead()</code> method asks the operating system to provide a stream to the file named <code>&quot;somefile.txt&quot;</code>.  We can then read that stream until we reach the end of file marker (indicating we&rsquo;ve read the entire file):</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">byte</span> data = fs.ReadByte();
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Invariant: while there are bytes in the file to read</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span>(data != -<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Write the current byte to the console</span>
</span></span><span style="display:flex;"><span>  System.Out.Write(data);
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Read the next byte</span>
</span></span><span style="display:flex;"><span>  data = fs.ReadByte();
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Once we&rsquo;ve finished reading the file, we need to call <code>Dispose()</code> on the stream to tell the operating system that we&rsquo;re done with it:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>fs.Dispose();</span></span></code></pre></div><p>If we don&rsquo;t, then the operating system will assume we&rsquo;re still working with the file, and refuse to let any other program read it.  Including our own program, if we were to run it again.</p>
<p>But what happens if an error occurs while reading the file? We&rsquo;ll never reach the call to <code>Dispose()</code>, so we&rsquo;ll <em>never free the file</em>!  In order to access it, we&rsquo;d have to restart the computer.  Not great.</p>
<p>We <em>could</em> manage this with a <code>try/catch/finally</code>, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">try</span> 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  FileStream fs = File.OpenRead(<span style="color:#e6db74">&#34;somefile.txt&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">byte</span> data = fs.ReadByte();
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Invariant: while there are bytes in the file to read</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">while</span>(data != -<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Write the current byte to the console</span>
</span></span><span style="display:flex;"><span>    System.Out.Write(data);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Read the next byte</span>
</span></span><span style="display:flex;"><span>    data = fs.ReadByte();
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  fs.Dispose();
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">catch</span>(Exception e) 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Do something with e</span>
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">finally</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  fs.Dispose();
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>But you have to catch all exceptions.</p>
<h4 id="using-statement">Using Statement</h4>
<p>A using statement operates similarly, but takes far less typing:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">using</span> FileStream fs = File.OpenRead(<span style="color:#e6db74">&#34;somefile.txt&#34;</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">byte</span> data = fs.ReadByte();
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Invariant: while there are bytes in the file to read</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">while</span>(data != -<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Write the current byte to the console</span>
</span></span><span style="display:flex;"><span>    System.Out.Write(data);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Read the next byte</span>
</span></span><span style="display:flex;"><span>    data = fs.ReadByte();
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>It also comes with some benefits.  One, it creates a new scope (within the <code>{}</code> following the using statement).  If for some reason the stream can&rsquo;t be opened, this scope is skipped over.  Similarly it jumps execution to the end of the scope if an error occurs.  Finally, it <em>automatically</em> calls <code>Dispose()</code> when the scope ends.</p>
<h4 id="syntax-shorthand">Syntax Shorthand</h4>
<p>As of C# 8.0, a shorthand for the using statement that omits the scope markers (the <code>{}</code>) is available.  In this case, the scope is from the start of the <code>using</code> statement to the end of its containing scope (usually a method):</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">using</span> FileStream fs = File.OpenRead(<span style="color:#e6db74">&#34;somefile.txt&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">byte</span> data = fs.ReadByte();
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Invariant: while there are bytes in the file to read</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span>(data != -<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Write the current byte to the console</span>
</span></span><span style="display:flex;"><span>  System.Out.Write(data);
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Read the next byte</span>
</span></span><span style="display:flex;"><span>  data = fs.ReadByte();
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>This format can be nice when you need to nest multiple <code>using</code> statements, but I would suggest sticking with the scoped version until you are comfortable with the concepts involved.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="parsing-api-data">Parsing API Data</h1>

<p>Web APIs typically provide their data in a structured format, i.e. XML or JSON.  To use this within a C# program you&rsquo;ll need to either parse it or convert it into an object or objects.</p>
<p>The Joke of the Day API can provide either - we just need to specify our preference with a <code>Accept</code> header in our HTTP request. This header lets the server know what format(s) of data we are ready to process.  XML is signified by the MIME type <code>application/xml</code> and JSON by <code>application/json</code>.</p>
<p>To set this (or any other header) in our <code>WebRequest</code> object, we use the <code>Header</code> property&rsquo;s <code>Add()</code> method:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>WebRequest request = WebRequest.Create(<span style="color:#e6db74">&#34;http://api.jokes.one/jod&#34;</span>);
</span></span><span style="display:flex;"><span>request.Headers.Add(<span style="color:#e6db74">&#34;Accept&#34;</span>, <span style="color:#e6db74">&#34;application/json&#34;</span>);</span></span></code></pre></div><p>For JSON, or:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>WebRequest request = WebRequest.Create(<span style="color:#e6db74">&#34;http://api.jokes.one/jod&#34;</span>);
</span></span><span style="display:flex;"><span>request.Headers.Add(<span style="color:#e6db74">&#34;Accept&#34;</span>, <span style="color:#e6db74">&#34;application/xml&#34;</span>);</span></span></code></pre></div><p>For XML.</p>
<h4 id="parsing-xml">Parsing XML</h4>
<p>Let&rsquo;s start by examining the older format, XML.  Assuming you have set the <code>Accept</code> header as discussed above, you will receive a response similar to (but with a different joke):</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;response&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;success&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;total&gt;</span>1<span style="color:#f92672">&lt;/total&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/success&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;contents&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;jokes&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;description&gt;</span>Joke of the day <span style="color:#f92672">&lt;/description&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;language&gt;</span>en<span style="color:#f92672">&lt;/language&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;background/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;category&gt;</span>jod<span style="color:#f92672">&lt;/category&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;date&gt;</span>2021-11-29<span style="color:#f92672">&lt;/date&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;joke&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;title&gt;</span>Signs for every job<span style="color:#f92672">&lt;/title&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;lang&gt;</span>en<span style="color:#f92672">&lt;/lang&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;length&gt;</span>1749<span style="color:#f92672">&lt;/length&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;clean&gt;</span>0<span style="color:#f92672">&lt;/clean&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;racial&gt;</span>0<span style="color:#f92672">&lt;/racial&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;date&gt;</span>2021-11-29<span style="color:#f92672">&lt;/date&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;id&gt;</span>HqJ1i9L1ujVCcZmS5C4nhAeF<span style="color:#f92672">&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;text&gt;</span>
</span></span><span style="display:flex;"><span>        In the front yard of a funeral home, &#34;Drive carefully, we&#39;ll wait.&#34; On an electrician&#39;s truck, &#34;Let us remove your shorts.&#34; Outside a radiator repair shop, &#34;Best place in town to take a leak.&#34; In a non-smoking area, &#34;If we see you smoking, we will assume you are on fire and take appropriate action.&#34; On a maternity room door, &#34;Push, Push, Push.&#34; On a front door, &#34;Everyone on the premises is a vegetarian except the dog.&#34; At an optometrist&#39;s office, &#34;If you don&#39;t see what you&#39;re looking for, you&#39;ve come to the right place.&#34; On a taxidermist&#39;s window, &#34;We really know our stuff.&#34; On a butcher&#39;s window, &#34;Let me meat your needs.&#34; On a butcher&#39;s window, &#34;You can beat our prices, but you can&#39;t beat our meat.&#34; On a fence, &#34;Salesmen welcome. Dog food is expensive.&#34; At a car dealership, &#34;The best way to get back on your feet - miss a car payment.&#34; Outside a muffler shop, &#34;No appointment necessary. We&#39;ll hear you coming.&#34; In a dry cleaner&#39;s emporium, &#34;Drop your pants here.&#34; On a desk in a reception room, &#34;We shoot every 3rd salesman, and the 2nd one just left.&#34; In a veterinarian&#39;s waiting room, &#34;Be back in 5 minutes. Sit! Stay!&#34; At the electric company, &#34;We would be delighted if you send in your bill. However, if you don&#39;t, you will be.&#34; In a Beauty Shop, &#34;Dye now!&#34; In a Beauty Shop, &#34;We curl up and Dye for you.&#34; On the side of a garbage truck, &#34;We&#39;ve got what it takes to take what you&#39;ve got.&#34; (Burglars please copy.) In a restaurant window, &#34;Don&#39;t stand there and be hungry, come in and get fed up.&#34; Inside a bowling alley, &#34;Please be quiet. We need to hear a pin drop.&#34; In a cafeteria, &#34;Shoes are required to eat in the cafeteria. Socks can eat any place they want.&#34;
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/text&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;/joke&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/jokes&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;copyright&gt;</span>2019-20 https://jokes.one<span style="color:#f92672">&lt;/copyright&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/contents&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/response&gt;</span></span></span></code></pre></div><p>We can parse this response with C#&rsquo;s <a href="https://docs.microsoft.com/en-us/dotnet/api/system.xml.xmldocument?view=net-6.0" target="_blank">XmlDocument Class</a>
 from the <code>System.Xml</code> namespace.  First, we create an instance of the class, using our response text.  We can use one of the <code>XmlDocument.Load()</code> overrides, which takes a stream, to process our response stream directly:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">using</span> Stream responseStream = response.GetStream() 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  XmlDocument xDoc = <span style="color:#66d9ef">new</span> XmlDocument();
</span></span><span style="display:flex;"><span>  xDoc.Load(responseStream);
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// TODO: get our joke!</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Then we can query the <code>XmlDocument</code> for the tag we care about, i.e. <em>response &gt; contents &gt; jokes &gt; joke &gt; text</em> (the text of the joke).  We use XPath syntax for this:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> node = xDoc.SelectSingleNode(<span style="color:#e6db74">&#34;/response/contents/jokes/joke/text&#34;</span>);</span></span></code></pre></div><p><a href="https://en.wikipedia.org/wiki/XPath" target="_blank">XPath</a>
 is a query language, much like CSS selectors, which allow you to navigate a XML document in a lot of different ways.  In this case, we are just finding the exact element based on its path.  Then we can pull its value, and do something with it (such as logging it to the console):</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>  Console.WriteLine(node.InnerText);</span></span></code></pre></div><h4 id="parsing-json">Parsing JSON</h4>
<p>JavaScript Object Notation (JSON) has become a popular format for web APIs, as it usually requires less characters than the corresponding XML, and is natively serializable from JavaScript making it extremely compatible with client-side web applications.</p>
<p>Assuming you have set the <code>Accept</code> header as discussed above, you will receive a response similar to (but with a different joke):</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;success&#34;</span>:{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;total&#34;</span>:<span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;contents&#34;</span>:{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;jokes&#34;</span>:[
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;description&#34;</span>:<span style="color:#e6db74">&#34;Joke of the day &#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;language&#34;</span>:<span style="color:#e6db74">&#34;en&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;background&#34;</span>:<span style="color:#e6db74">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;category&#34;</span>:<span style="color:#e6db74">&#34;jod&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;date&#34;</span>:<span style="color:#e6db74">&#34;2021-11-30&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;joke&#34;</span>:{
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&#34;title&#34;</span>:<span style="color:#e6db74">&#34;Class With Claus&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&#34;lang&#34;</span>:<span style="color:#e6db74">&#34;en&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&#34;length&#34;</span>:<span style="color:#e6db74">&#34;78&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&#34;clean&#34;</span>:<span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&#34;racial&#34;</span>:<span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&#34;date&#34;</span>:<span style="color:#e6db74">&#34;2021-11-30&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&#34;id&#34;</span>:<span style="color:#e6db74">&#34;LuVeRJsEIzCzvTnRmBTHXweF&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&#34;text&#34;</span>:<span style="color:#e6db74">&#34;Q: What do you say to Santa when he&#39;s taking attendance at school?\nA: Present.&#34;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;copyright&#34;</span>:<span style="color:#e6db74">&#34;2019-20 https:\/\/jokes.one&#34;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>The C# system libraries provide JSON support in the <code>System.Text.Json</code> namespace using the <a href="https://docs.microsoft.com/en-us/dotnet/api/system.text.json.jsonserializer?view=net-6.0" target="_blank">JsonSerializer</a>
 class. The default behavior of the deserializer is to deserialize into a <code>JsonDocument</code> composed of nested <code>JsonElement</code> objects - essentially, dictionaries of dictionaries.  As with the <code>XDocument</code>, we can deserialize JSON directly from a <code>Stream</code>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">using</span> Stream responseStream = response.GetStream() 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  JsonDocument jDoc = JsonSerializer.Deserialize(responseStream);
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// TODO: get our joke!</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Then we can navigate from the root element (a <code>JsonElement</code> instance) down the nested path of key/value pairs, by calling <code>GetProperty()</code> to access each successive property, and then print the joke text to the console:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> contents = jDoc.RootElement.GetProperty(<span style="color:#e6db74">&#34;contents&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> jokes = contents.GetProperty(<span style="color:#e6db74">&#34;jokes&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> jokeData = jokes[<span style="color:#ae81ff">0</span>];
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> joke = jokeData.GetProperty(<span style="color:#e6db74">&#34;joke&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> text = joke.GetProperty(<span style="color:#e6db74">&#34;text&#34;</span>);
</span></span><span style="display:flex;"><span>  Console.WriteLine(text);</span></span></code></pre></div><!-- 
This approach can be cumbersome, but there is another possibility - to deserialize the JSON directly into a C# object.  Let's look at that next.


#### Deserializing JSON into a C# Object

The `JsonSerializer` also allows us to deserialize JSON directly into a corresponding C# object.  For this to work, we have to define the structure of this object to match our expected response.  Since our JSON is a nested structure, we'll actually need _multiple_ classes to represent it.  Let's start with the innermost one - the joke itself, which has a structure like:

```json
{
  "title":"Class With Claus",
  "lang":"en",
  "length":"78",
  "clean":null,
  "racial":null,
  "date":"2021-11-30",
  "id":"LuVeRJsEIzCzvTnRmBTHXweF",
  "text":"Q: What do you say to Santa when he's taking attendance at school?\nA: Present."
}
```

We need to reproduce this as a C# class, converting the JSON properties into C# equivalents i.e.:

```csharp
public class Joke
{
  [JsonPropertyName("title")]
  public string Title {get; set;}

  [JsonPropertyName("lang")]
  public string Lang {get; set;}

  [JsonPropertyName("length")]
  public int Length {get; set;}

  [JsonPropertyName("clean")]
  public bool? Clean {get; set;}

  [JsonPropertyName("racial")]
  public bool? Racial {get; set;}

  [JsonPropertyName("date")]
  public DateTime Date {get; set;}

  [JsonPropertyName("id")]
  public string Id {get; set;}

  [JsonPropertyName("text")]
  public string Text {get; set;}
}
```

Note that for JSON, the standard naming convention is to use Camel Case property names, not the Pascal Case we use in C#.  The `[JsonPropertyName()]` attribute from the `System.Text.Json.Serialization` namespace allows us to indicate how the name needs to be transformed when we transform to and from a JSON string to match both naming conventions.

The `Joke` is then nested in a second object that provides additional metadata describing the joke:

```json
{
  "description":"Joke of the day ",
  "language":"en",
  "background":"",
  "category":"jod",
  "date":"2021-11-30",
  "joke":{...}
}
```

All we really care about here is the joke itself.  But the `JsonSerializer` will throw an error unless all properties are accounted for.  However, it does allow a bit of a wildcard in the form of a `Dictionary<string, JsonElement>` property - if we provide one named `ExtensionData`, then any property not otherwise present in the object will be mapped to it.  Let's take advantage of this to simplify our next class:

-->
            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="asynchronous-requests">Asynchronous Requests</h1>

<p>Now that we&rsquo;re more comfortable with <code>using</code> statements, let&rsquo;s return to our request-making code:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>WebRequest request = WebRequest.Create(<span style="color:#e6db74">&#34;http://api.jokes.one/jod&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">using</span> Stream responseStream = response.GetStream() 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  StreamReader reader = <span style="color:#66d9ef">new</span> StreamReader(responseStream);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">string</span> responseText= reader.ReadToEnd();
</span></span><span style="display:flex;"><span>  Console.WriteLine(responseText);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>response.Close();</span></span></code></pre></div><p>The <code>response.GetStream()</code> triggers the http request, which hits the API and returns its result.  Remember a HTTP request is streamed across the internet, then processed by the server, and the response streamed back.  That can take some time (at least to a computer).  While the program waits on it to finish, it cannot do anything else.  For some programs, like one that only displays jokes, this is fine. But what if our program needs to also be responding to the user&rsquo;s events - like typing or moving the mouse? While the program is waiting, it is effectively paused, and nothing the user does will cause the program to change.</p>
<h4 id="asynchronous-methods">Asynchronous Methods</h4>
<p>This is where asynchronous methods come in. An asynchronous method operates on a separate thread, allowing execution of the program to continue.</p>
<p>let&rsquo;s revisit our <code>WebRequest</code> example:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>WebRequest request = WebRequest.Create(<span style="color:#e6db74">&#34;http://api.jokes.one/jod&#34;</span>);</span></span></code></pre></div><p>We can then make the request <em>asynchronously</em> by calling the asynchronous version of <code>GetResponse()</code> - <code>GetResponseAsync()</code>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>WebResponse response = <span style="color:#66d9ef">await</span> request.GetResponseAsync();</span></span></code></pre></div><p>The <code>await</code> keyword effectively pauses this thread of execution until the response is received.  Effectively, the subsequent code is set aside to be processed when the asynchronous method finishes or encounters an error.  This allows the main thread of the program to continue responding to user input and other events.  The rest of the process is handled exactly as before:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">using</span> Stream responseStream = response.GetStream() 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  StreamReader reader = <span style="color:#66d9ef">new</span> StreamReader(responseStream);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">string</span> responseText= reader.ReadToEnd();
</span></span><span style="display:flex;"><span>  Console.WriteLine(responseText);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><h4 id="writing-asynchronous-methods">Writing Asynchronous Methods</h4>
<p>Normally we would wrap the asynchronous method calls within our own asynchronous method.  Thus, we might define a method, <code>GetJoke()</code>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> <span style="color:#66d9ef">async</span> GetJoke()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  WebRequest request = WebRequest.Create(<span style="color:#e6db74">&#34;http://api.jokes.one/jod&#34;</span>);
</span></span><span style="display:flex;"><span>  WebResponse response = <span style="color:#66d9ef">await</span> request.GetResponseAsync();
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">using</span> Stream responseStream = response.GetStream() 
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    XmlDocument xDoc = <span style="color:#66d9ef">new</span> XmlDocument();
</span></span><span style="display:flex;"><span>    xDoc.Load(responseStream);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> node = xDoc.SelectSingleNode(<span style="color:#e6db74">&#34;/response/contents/jokes/joke/text&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> node.InnerText;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><h4 id="asynchronous-asp-requestresponse-methods">Asynchronous ASP Request/Response Methods</h4>
<p>ASP.Net includes built-in support for asynchronous request handling.  You just need to add the <code>async</code> keyword to your <code>OnGet()</code> or <code>OnPost()</code> method, and the ASP.NET server will process it asynchronously.</p>
<p>For example, we could invoke our <code>GetJoke()</code> method in a <code>OnGet()</code>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">JokeModel</span> : PageModel 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">async</span> IActionResult OnGet()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">var</span> joke = <span style="color:#66d9ef">await</span> GetJoke();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> Content(joke);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>This will cause the text of the joke to be sent as the response, and allow other pages to be served while this one request is awaiting a response from the Joke API.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="restful-routes">RESTful Routes</h1>

<p>Many web applications deal with some kind of <em>resource</em>, i.e. people, widgets, records.  Much like in object-orientation we have organized the program around objects, many web applications are organized around resources.  And as we have specialized ways to construct, access, and destroy objects, web applications need to create, read, update, and destroy resource records (we call these CRUD operations).</p>
<p>In his 2000 PhD. dissertation, Roy Fielding defined <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank">Representational State Transfer (REST</a>
), a way of mapping HTTP routes to the CRUD operations for a specific resource.  This practice came to be known as RESTful routing, and has become one common strategy for structuring a web application&rsquo;s routes.  Consider the case where we have an online directory of students.  The students would be our resource, and we would define routes to create, read, update and destroy them by a combination of HTTP action and route:</p>
<table>
  <tr>
    <th>CRUD Operation</th>
    <th>HTTP Action</th>
    <th>Route</th>
  </tr>
  <tr>
    <td>Create</td>
    <td>POST</td>
    <td>/students</td>
  </tr>
  <tr>
    <td>Read (all)</td>
    <td>GET</td>
    <td>/students</td>
  </tr>
  <tr>
    <td>Read (one)</td>
    <td>GET</td>
    <td>/students/[ID]</td>
  </tr>
  <tr>
    <td>Update</td>
    <td>PUT or POST</td>
    <td>/students/[ID]</td>
  </tr>  
  <tr>
    <td>Destroy</td>
    <td>DELETE</td>
    <td>/students/[ID]</td>
  </tr>
</table>
<p>Here the <code>[ID]</code> is a unique identifier for the individual student.  Note too that we have <em>two</em> routes for reading - one for getting a list of <em>all</em> students, and one for getting the details of an individual student.</p>
<p>REST is a remarkably straightforward implementation of very common functionality, no doubt driving its wide adoption.  Razor pages supports REST implicitly - the RESTful resource <em>is the PageModel object</em>.  This is the reason model binding does not bind properties on GET requests by default - because a GET request is used to retrieve, not update a resource.  However, properties derived from the route (such as <code>:ID</code> in our example, <em>will</em> be bound and available on GET requests).</p>
<p>With Razor Pages, you can specify a route parameter after the <code>@page</code> directive.  I.e. to add our <code>ID</code> parameter, we would use:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-cshtml" data-lang="cshtml">@page &#34;{ID?}&#34;</code></pre></div><p>We can use any parameter name; it doesn&rsquo;t have to be <code>ID</code> (though this is common).  The <code>?</code> indicates that the ID parameter is optional - so we can still visit <code>/students</code>.  Without it, we only can visit specific students, i.e. <code>/students/2</code>.</p>
<p>Route parameters can be bound using any of the binding methods we discussed previously - parameter binding, model binding, or be accessed directly from the <code>@RouteData.Values</code> dictionary.  When we <em>are</em> using these parameters to create or update new resources, we often want to take an additional step - <em>validating</em> the supplied data.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="summary">Summary</h1>

<p>In this chapter we explored using web APIs to retrieve data from remote servers. We saw how to use the <code>WebRequest</code> object to make this task approachable.  We also revisited ideas you&rsquo;ve seen in prior courses like the <code>IDisposable</code> interface and <code>using</code> statements to work with unmanaged objects.  We saw how to consume XML data we receive as a response from a web API.</p>
<p>We also discussed using <code>async</code> methods to allow our programs to continue to respond to user input and incoming web requests while processing long-running tasks in parallel.  Finally, we discussed RESTful routes, a standardized way of determining the routes for your web API.</p>

            <footer class="footline">

            </footer>
          </article>

          </section>
    
    
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 6</div>
<h1 id="deployment">Deployment</h1>

<p>Putting your work out there</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Deployment</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="introduction">Introduction</h1>

<p>Now that we&rsquo;ve explored building web applications and writing web servers, we&rsquo;ll explore in more detail how to make them available on the web, a process known as <em>deployment</em>.</p>
<h2 id="key-terms">Key Terms</h2>
<p>Some key terms to learn in this chapter are:</p>
<ul>
<li>Deployment</li>
<li>IP Address</li>
<li>IPV4</li>
<li>IPV6</li>
<li>Domain Name</li>
<li>Ports</li>
<li>Virtual Machine</li>
</ul>
<h2 id="key-skills">Key Skills</h2>
<p>The key skills to develop in this chapter are:</p>
<ul>
<li>Setting up your web applications to deploy to a virtual machine</li>
</ul>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="web-addresses">Web Addresses</h1>

<h2 id="ip-addresses">IP Addresses</h2>
<p>As we discussed previously, when we visit web pages in our browser, the browser makes a HTTP or HTTPS request against the web server for the resource.  For this request to be sent to the right server, we must first the server&rsquo;s <em>address</em>.  This address takes the form of an Internet Protocol (IP) address.  There are currently two ways these IP addresses are specified, IPv4 and IPv6.  An IPv4 address consists of 32 bits split into 8 bit chunks, and typically expressed as four integers between 0 and 255 separated by periods.  For example, the IP address for Kansas State University is:</p>
<p>$$
129.130.200.56
$$</p>
<p>Consider that an IPv4 address consists of 32 bits.  This means we can represent $2^{32}$ unique values, or $4,294,967,296$ different addresses.  You can see how many websites are currently online at <a href="https://www.internetlivestats.com/watch/websites/" target="_blank">https://www.internetlivestats.com/watch/websites/</a>
, as of this writing it was nearly 2 million.  Combine that with the fact that <em>every computer connecting to the interent</em>, not just those hosting, <em>must have an ip address</em>, and you can see that we are running out of possible addresses.</p>
<p>This is the issue that IPv6 was created to counter.  IPv6 addresses are 128 bits, so we can represent $2^{128}$ different values, or $340,282,366,920,938,463,463,374,607,431,768,211,456$ possible addresses (quite a few more than IPv4)!  An IPv6 address is typically expressed as eight groups of four hexidecimal digits, each representing 16 bits.  For example, Google&rsquo;s IPv6 address is:</p>
<p>$$
2607:f8b0:4000:813::200e
$$</p>
<p>IPv6 adoption requires changes to the internet infrastructure as well as all connected machines, and is typically done on a volunteer basis.  Thus, it is a gradual process.  The United States is at rougly a 47% adoption level; you can see current adoption statistics for all countries at <a href="https://www.akamai.com/us/en/resources/our-thinking/state-of-the-internet-report/state-of-the-internet-ipv6-adoption-visualization.jsp" target="_blank">Akamai&rsquo;s IPv6 Adoption Tool</a>
.</p>
<h2 id="ports">Ports</h2>
<p>In addition to the address, requests are sent to a <em>port</em>, a specific communication endpoint for the computer.  Different applications &ldquo;listen&rdquo; at specific ports on your computer - this allows your computer to have multiple applications communicating across the network or interent at the same time.  You might think of your computer as an apartment complex; the IP address is its street address, and the ports are individual aparement numbers.  Different applications then live in different apartments.  Many of these ports are unused (the apartments are vacant), as most computers are only running a few network-facing applications at any given time.</p>
<p>Many applications and communication services have a &ldquo;default&rdquo; port they are expected to use.  This makes it easy to connect to a remote computer.  For example, a webserver uses port 80 by default for HTTP requests, and port 433 for HTTPS requests.  If your server is listening at these ports, there is no need to specify the port number in HTTP/HTTPS requests targeting your IP address.  You can also run a program on a non-standard port.  For example, with our Razor Page applications, we have typically been running our debug version on port $44344$ (with IIS Express) or $5001$ (when running as a console application).  If you know the IP address of your computer, you can visit your running debug server by using the address <strong>http://[ip address]:[port]</strong> from another computer on your network.</p>
<p>Some of the most common services and thier associated default ports are:</p>
<table>
    <tr>
        <th>Port</th><th>Protocol</th><th>Use</th>
    </tr>
    <tr>
        <td>22</td>
        <td>Secure Shell (ssh)</td> 
        <td>Used to communicate between computers via a comand line interface</td>
    </tr>
    <tr>
        <td>25</td>
        <td>Simple Mail Transfer Protocol (SMTP)</td>
        <td>A common email routing protocol</td>
    </tr>
    <tr>
        <td>53</td>
        <td>Domain Name System (DNS) Service</td>
        <td>IP lookup by domain name</td>
    </tr>
    <tr>
        <td>80</td>
        <td>Hyper-Text Transfer Protocol (HTTP)</td>
        <td>Servicing WWW requests</td>
    </tr>
    <tr>
        <td>143</td>
        <td>Post Office Protocol (POP)</td>
        <td>Retrieving email</td>
    </tr>
    <tr>
        <td>143</td>
        <td>Interent Message Access Protocol (IMAP)</td>
        <td>Managing email</td>
    </tr>
    <tr>
        <td>193</td>
        <td>Interent Relay Chat (IRC)</td>
        <td>Chat messages</td>
    </tr>
    <tr>
        <td>443</td>
        <td>Secure Hyper-Text Transfer Protocol (HTTPS)</td>
        <td>Servicing secure WWW requests</td>
    </tr>
</table>
<h2 id="domain-names">Domain Names</h2>
<p>Of course, you don&rsquo;t normally type $129.130.200.56$ into your browser to visit K-State&rsquo;s website.  Instead, you type <strong>k-state.edu</strong> or <strong>ksu.edu</strong>, which are <em>domain names</em> owned by the university.  A <em>Domain Name</em> is simply a human-readable name that maps to an IP address.  This mapping is accomplished by the <em>Domain Name System</em> (DNS), a lookup service composed of a hierarchial network of servers, with the root servers maintained by the Internet Corporation for Assigned Names and Numbers (ICANN).</p>
<p>When you enter a domain name into your browser, it requests the corresponding IP address from its local DNS server (typically maintained by your ISP). If it does not know it, this server can make a request against the broader DNS system.  If a matching IP address exists, it is returned to the local DNS server and through that server, your browser.  Then your browser makes the request using the supplied IP address.  Your browser, as well as your local DNS server, cache these mappings to minimize the amount of requests made against the DNS system.</p>
<p>To get a domain name, you must purchase it from a domain name reseller.  These resellers work with ICANN to establish ownership of specific domain names - each domain name can have only one owner, and map to an IP address.  Once you&rsquo;ve purchased your domain name (which is actually leased on an annual basis), you work with the reseller to target the domain name at your preferred IP address(es).  This entire process is typically handled through a web application.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>The <strong>localhost</strong> domain name is a special <em>loopback</em> domain.  It always points at IP address $127.0.0.1$, which is always the local machine (i.e. the computer you are using).</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="secure-http">Secure HTTP</h1>

<p>We have talked several times about HTTP and HTTPS, without really discussing what is different about these two approaches other than HTTPS is &ldquo;secure&rdquo;.  Essentially, HTTPS uses the same protocol as HTTP, but requests and responses are <em>encrypted</em> rather than being sent as plain text.  This encryption is handled at a level below HTTP, in the communication layer (currently this uses <a href="https://en.wikipedia.org/wiki/Transport_Layer_Security" target="_blank">TLS - Transport Layer Security</a>
).  This encryption is done through symmetric crypography using a shared secret.  You may remember studying this approach in CIS 115.  Remember this Computerphile video demonstrating a Diffie-Hellman key exchange by mixing paint colors?</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/NmM9HA2MQGI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>By using this encryption scheme, we make it impossible (or at least very difficult) for third parties intercepting our HTTP requests and responses to determine exactly what they contain.  Hence, credit card information, passwords, and other personal information is protected, as is search terms, etc.  However, this is only half of the process of HTTPS.  The second half invovles establishing that the web server you are making requests is the one you want, and not an impersonator.  This requires an <em>authentication</em> process, to ensure you are communicating to the correct server.</p>
<p>This authentication aspect of TLS is manged through <em>security certificates</em>.  These are built around public/private key encryption and the <a href="https://en.wikipedia.org/wiki/X.509" target="_blank">X.509</a>
 certificate standard.  A certificate provides proof the server serving the certificate is the one of the domain address in question.  Think of it as a driver&rsquo;s license or your student ID card - it lists identifying information, and you carry it with you to prove you are who you say you are.  And much like a drivers&rsquo; license or a student ID card, it is issued by an authoritative source - one of several &ldquo;trusted&rdquo; certificate authorites, or an authority whose own certificate is signed by one of these authorities.</p>
<p>Anyone can issue a security certificate, but only one with a chain of signed certificates that goes back to a root trusted certificate authority will be considered &ldquo;trusted&rdquo; by your browser.  This is why you may have had issues running your web applications using HTTPS - when launching the project in debug mode, it uses a self-signed certificate (i.e. your application creates its own certificate), which the browser reports as untrustworthy.  Depending on your browser, you may be able to allow this &ldquo;untrusted&rdquo; site to be served, or it may be disallowed completely.  Visual Studio and ASP.NET projects typically offer to install a &ldquo;dev certificate&rdquo; that allows your localhost communications to treated as trusted.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>Traditionally, security certificates are issued from a trusted authority using annual fees, and often accompanied by insurance that pays for legal issues if the certificate is ever violated.  However, the Let&rsquo;s Encrypt Security Group, launched in April 2016, offers free security certificates with the goal of making HTTPS ubiquitious on the web.  This easy availablility means there is no reason to not host your websites using HTTPS instead of vulnerable HTTP.  You can visit the Let&rsquo;s Encrypt website at <a href="https://letsencrypt.org/" target="_blank">letsencrypt.org</a>
.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="web-hosting">Web Hosting</h1>

<p>To host your website, you will need:</p>
<ol>
<li>A computer connected to the Internet</li>
<li>A web server program listening at port 80 and/or 433 (depending on if you are using secure communications)</li>
<li>If you are using secure communications, a security certificate issued by a valid authority.  <a href="https://letsencrypt.org/" target="_blank">Let&rsquo;s Encrypt</a>
 offers free certificates, and is a good source for startign web developers</li>
<li>A domain name (while this is technically optional, if you expect users to visit your website you&rsquo;ll probably need one)</li>
</ol>
<p>While you have been running your website in debug mode on your develpment computer, you probably won&rsquo;t use it to host your actual website on the Internet. First, you machine would need to be running the web server application constantly.  Any time your computer was turned off, or the web server was not running, your website would be inaccessible.</p>
<p>Also, in most residental setups, you probably won&rsquo;t be able to access the running program across the Internet anyway.  This is especially if you have multiple computers connected through a router.  In that case, only your router has a unique IP address, and all communications are routed through it using that address.  The router also assigns &ldquo;internal&rdquo; addresses to the computers networked to it, and handles distributing request results to those computers that made them (kind of like a mailroom for a very large institution).  To make your website available, you would probably need to set up port forwarding or a similar technique with your router to have it forward requests to the computer running your web server.  You probably would also need to modify your firewall settings (firewalls prevent connections against ports that you don&rsquo;t mean to have open to the Internet).</p>
<p>A third challenge is that you most likely do not have a <em>static</em> IP address, i.e. one that will always point to your computer.  Most Internet Service Providers instead typically assign a <em>dynamic IP</em> address to your router or modem when you estabish a connection, drawn from a pool of IP addresses they maintain for this purpose.  This address is yours until the next time you connect (i.e. after a power loss or rebooting your router), at which point the ISP assigns you a different IP address from the pool.  This simplifies the configuration for their network, and allows them to share IP addresses amongst infrequently-connecting users.  Further, most residential ISP plans specifically forbid hosting web applications using thier connection - instead you must sign up for a commercial plan that includes a static IP address.</p>
<h2 id="remote-machines">Remote Machines</h2>
<p>Instead, you will probably host your websites on a remote machine running in a server farm (similar to how the CIS Linux servers that you put your personal web pages on in CIS 115).  There are several benefits to using a machine in a server farm: typically they are very good machines, optimized for hosting web applications, the server farm has ideal operating conditions (good air conditioning, a backup power system), better uptime, and on-staff IT professionals that keep the equipment in good repair.  Of course, you will have to pay fees to have access to a machine.  There are typically several options offered by these service providers:</p>
<ol>
<li>A machine you own (in this case, you would purchase your server hardware, and you would own it).  The service maintains your machine and its connection to the internet.  This is typically the most expensive option, but is sometimes used when information security is espeically paramount.</li>
<li>A machine you rent.  In this case, it is owned by the service but made available to you.  You get the entire machine for your use.</li>
<li>A shared machine - in this case you are granted access to only part of the computer, where you can store files.  In this approach, web hosting is often acccomplished with an Apache server, and each user has a special file (i.e. <code>public_html</code> where they can place files to be served statically).  This is the approach our department uses for your access to the CS Linux server.</li>
<li>A virtual machine - this is also a shared access to a computer, but mediated through a <em>virutal machine</em> - a virtual computer running in the real computer.  A computer can host an arbitrary number of virtual machines.  In this case, you have complete access to your virtual machine.</li>
<li>A containerized approach - this approach separates your application from the environment in which it runs.  In essence, you package up everything your application needs to run in a single image file, which can then be run from within a container environment (like Docker).  The beauty of this approach is that the same container can be deployed multiple times on different kinds of machines running a conatiner environment. This is also a virtual machine approach, only the virutal machine is different.</li>
</ol>
<p>We&rsquo;ll take a deeper look at virutal machines next.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="virtual-machines">Virtual Machines</h1>

<p>A <em>virtual machine</em> is a <em>simulated</em> computing device.  Let&rsquo;s start with a simple example.  You can <a href="https://www.nintendo.com/switch/online-service/nes/" target="_blank">play classic NES and Super NES games using the Switch</a>
.  How is this done?  Does the Switch contain the same hardware as the original NES or SNES?  No. It uses a NVIDA Tegra processor, which utilizes the 64-bit ARM architecture.  The NES used an 8-bit CPU, and the SNES used a 16-bit CPU.  These are <em>very different architectures</em>.  Of course, you may note the service I reference is an <em>online</em> service.  So do they hook up thousands of NES and SNES units to a web server processing input and output?  Also no, but also <em>yes</em>.</p>
<p>What they actually do is <em>emulate</em> that hardware with software.  Thus, they have a program that <em>pretends</em> to be the NES hardware, and the load into that program the actual NES game (the software) you wish to play.  This emulator is a part of a web server that streams the resulting game images to the Switch, and the Switch likewise streams the player&rsquo;s input back to the server.  This is essentially the same approach used by any video game console emulator (sans the use of a web server).</p>
<p>In the same way, we can use a virtual machine to emulate another kind of computer within our own computers.  For example, the <a href="https://support.cs.ksu.edu/CISDocs/wiki/FAQ#VMWare" target="_blank">VMWare</a>
 platform you have access to as a CS student allows you to install VMWare on your computer.  Once installed, you can create virtual Linux or Windows PCs that run within the program.  Essentially, VMWare pretends to be a separate computer and shares your computer&rsquo;s real resources through interfaces that make it seem to be the hardware the program emulates.  Another approach to running a Linux VM within a Windows environment is the <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10" target="_blank">Windows Subsystem for Linux (WSL)</a>
.  This is essentailly a virtual machine that runs a Linux kernel (of your choice) within Windows.  It offers better performance than VMWare as the VM plugs directly into Windows OS procedures.</p>
<p>Most Internet hosting services offer Virtual Machines that you can rent.  Typically you specify the amount of RAM and storage, as well as the number of CPUs you wish to utilize.  These represent a portion of the real machine&rsquo;s resources that are assigned to your specific VM.  You then are granted root access to the VM, and can install whatever software you need; for example, installing Linux, Dotnet Core, and a relational database to run your web application. Once you have your application set up, you launch it as a constantly running service, and it begins to listen for HTTP and HTTPS requests on port 80 and 443.  The service usually provides you with a static IP address, which you can then hook up to your domain name.</p>
<p>The computing device being emulated does not have to equate to hardware analogues.  In CIS 200 you worked with a VM extensively that does not correspond to physical hardware - the Java Virtual Machine (JVM).  The JVM is a virtual machine that does not correspond to any real-world hardware, but provides a similar computing environment that can process Java Byte Code (which is similar to the assembly code run by hardware-based processors).  A different JVM exists for every hardware platform that Java can be run on, mapping the virtual system procedures to the specific platform&rsquo;s hardware and operating system.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>You may be asking yourself &ldquo;is .NET also a virtual machine?&rdquo;  In one sense, yes, as it works from a similar concept as Java, but the reality is a bit more complex.  The DOTNET languages are compiled into <em>Intermedate Langauge</em>, a format similar to Java&rsquo;s Bytecode.  And the DOTNET runtime has specific builds for different operating systems and hardware platforms, much like the JVM.  But rather than the DOTNET runtime running the IL in a virutal environment, when you execute a DOTNET program, it is <em>further compiled</em> by the DOTNET runtime into assembly for the specific platform using a <em>Just-in-Time</em> compiler.  So ultimately, DOTNET code is run in actual machine, not a virtual machine.</p>
</div>
</div>
<p>In recent years, <em>containerized</em> applications have become increasingly popular, especially for web-based deployments.  This is a variant on the Virtual Machine idea, where the application and the execution environment are separated into two parts - the container (an image file containing the binary code and resources of an application) and an execution environment (a virtual machine, often emulating a Linux or Windows machine, but possibly more specialized).  The containerized application is then run within this execution environment.  The chief benefits of containerized approaches are portability and scaleability.  As the execution environment can be installed on a variety of platforms, much like the JVM, the container can be run on different hardware - a development PC, a development Mac, a production server, or someting more esoteric like a cloud server.</p>
<p>As the emulated execution environment is the same across each of these platforms, the same containerized application should run identially on each.  Moreover, to create additional instances of a containerized application, you just launch another copy of the container - a process that takes milliseconds.  Compare this to adding another traditonal server or VM - you have to intialize the VM, install the necessary supporting environment, libraries, and other dependencies, and then install your application and launch it.  This process can take minutes to hours, and often requires an IT professional to work through the steps.  Cloud services like Amazon Web Services, Microsoft&rsquo;s Azure, and Google Cloud all utilize container-based approaches to allow rapid upscaling and downscaling of web servers to meet the actual demand for a web application.  These platforms typically handle load balancing (directing traffic evenly amongst the containers running instances of your web server) automatically, making the process of hosting large-volume web traffic much easier.  And for small, limited-demand web applications, many of these cloud services offer a free tier with a limited amount of bandwith a month.  The speed at which a containerized application can be spun up means that these free tier applications can be shut down most of the time, and only run when requests are coming in.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="summary">Summary</h1>

<p>In this chapter we discussed what is necessary for hosting a web application: a computer running your web server, a static Internet Protocol address, a domain name that maps to your IP addresss, and a security certificate for using HTTPS. Each of these concepts we explored in some detail.  We saw how using HTTPS allows encrypted end-to-end communication between the web client and server, as well as providing assurance that the server we are communicating with is the one we intended to make requests from.  We also discussed the differences between self-signed certificates and those signed by a certificate authority, and introduced the nonprofit <a href="https://letsencrypt.org/" target="_blank">letsencrypt.org</a>
 which provides free certificates to help secure the web.</p>
<p>We also described several options for the computing environment running your web server: a dedicated machine in your home or office, a dedicated machine in a server farm, a virutal machine, or a containerized cloud service.  We discussed the benefits and drawbacks of each approach.  As you prepare to host your own applications, you&rsquo;ll want to consider these, along with the costs of the various services, to decide how you want to deploy your production application.</p>

            <footer class="footline">

            </footer>
          </article>

          </section>
    
    
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 5</div>
<h1 id="linq">LINQ</h1>

<p>Bridging the Gap Between Databases and Data Structures</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of LINQ</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="introduction">Introduction</h1>

<p>We saw in the last chapter how many web applications are built around the concept of <em>resources</em>.  An online store has products to sell.  A social media application has people with accounts.  Resource-oriented web applications therefore need to store these resources in some fashion - possibly as objects in some kind of collection, or possibly with a database.</p>
<h2 id="key-terms">Key Terms</h2>
<p>Some key terms to learn in this chapter are:</p>
<ul>
<li>Database</li>
<li>Relational Database</li>
<li>Object-Oriented Database</li>
<li>Document-Based Database</li>
<li>Structured Query Language (SQL)</li>
<li>Language Integrated Query (LINQ)</li>
<li>Anonymous Types</li>
<li>Extension Methods</li>
</ul>
<h2 id="key-skills">Key Skills</h2>
<p>The key skills to develop in this chapter are:</p>
<ul>
<li>Using LINQ to perform query operations on data sets</li>
<li>Writing extension methods to provide new functionality to existing classes</li>
</ul>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="databases">Databases</h1>

<p>We use the term &ldquo;Database&rdquo; to describe a program primarily designed to efficiently store and retrieve data.  These are often used in conjunction with other kinds of applications - such as web applications or desktop applications.  Why use a separate program rather than building this storage and retrieval into the application we are building?  There are a lot of possible reasons, but some common ones are:</p>
<ol>
<li>
<p>Centralized access.  Consider a desktop application that tracks inventory for a large company.  You might want to have the application installed on every computer in the sales department, and you want the inventory to stay up-to-date for all of these.  If each desktop app connects to the same centralized database, they will all be kept up-to-date.</p>
</li>
<li>
<p>Efficiency of specialization.  By designing a database program for the sole purpose of storing and retrieving data, it can be designed by programmers who specialize in this area, and be designed to be as efficient as possible&hellip; often far more than we would be able to build into our own applications.</p>
</li>
</ol>
<h3 id="relational-databases">Relational Databases</h3>
<p>The most common type of database in use today are <em>relational databases</em>.  These are databases that organize data into structured <em>tables</em> consisting of columns with a specific data type.  Each record is therefore a row in the database.  Visually, such a database appears much like a spreadsheet.  These databases are typically communicated with using <em>Structured Query Language (SQL)</em>.  This is a special programming language developed specifically to express the kinds of operations we need to carry out on these databases.</p>
<p>For example, to retrieve the first and last names of all students in the <em>students</em> table who are earning above a 3.0, we would use the query:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-SQL" data-lang="SQL"><span style="display:flex;"><span><span style="color:#66d9ef">SELECT</span> <span style="color:#66d9ef">first</span>, <span style="color:#66d9ef">last</span> <span style="color:#66d9ef">FROM</span> students <span style="color:#66d9ef">WHERE</span> gpa <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">3</span>.<span style="color:#ae81ff">0</span>;</span></span></code></pre></div><p>And the results would be provided as a stream of text:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>first | last
Mike | Rowe
Jan | Herting
Sam | Sprat</code></pre></div><p>You&rsquo;ll learn more about these databases in CIS 560.</p>
<h3 id="object-oriented-databases">Object-Oriented Databases</h3>
<p>Relational databases were developed in the 60&rsquo;s and 70&rsquo;s to deal with the specific challenges of computer systems in those days.  The way they organize data lends itself to large, flat files, and SQL and its results are handled as streams of data.  When object-orientation became a popular programming language paradigm, object-oriented databases - databases that store data as objects, were also developed.  However, while object-oriented programming languages became quite popular, the corresponding databases failed to.  As a result, object-oriented databases remain quite niche.</p>
<h3 id="document-based-databases">Document-Based Databases</h3>
<p>The popularity of JSON and XML with the web led to another category of databases being developed, document-based databases (sometimes called No-SQL databases).  These databases store records in a serialized format like JSON or XML, and downplay relationships between records.  Unlike relational databases, document-based databases can be flexible in what data exists for an individual record.</p>
<p>For example, if we were to create a Student table in a relational database, and wanted to hold the student&rsquo;s degree plan, we&rsquo;d need two columns to represent a dual-major.  All students in the table would have two columns, even if they only had one degree plan.  In contrast, with a document-based database most students would only have one degree plan, but dual major would have two, and if we had a rare triple major, they could have three!</p>
<p>Thus, document-based databases add flexibility at the cost of some efficiency in retrieval.</p>
<h3 id="object-relational-mapping">Object-Relational Mapping</h3>
<p>Despite the growing popularity of Document-Based Databases, the vast majority of databases remain relational (MySql, MSSQL, PostgreSQL, Oracle, SQLite).  Yet, most of the programs that utilize them are now object-oriented.  This creates a bit of a disconnect for many programmers working with both.  One of the solutions devised to help with this challenge are object-relational mappers (ORMs).  These are libraries that are written for object-oriented languages that facilitate talking to the relational database.  When a query is run against the database with an ORM, the results are provided as a collection of objects instead of the normal text (basically, the ORM parses the results and transforms them into an object representation).  This simplifies working with databases for the programmer.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="linq">LINQ</h1>

<p>One solution that Microsoft has developed to tackle the disconnect between relational databases and C# is Language Integrated Query (LINQ).  This technology integrates querying directly into the C# language.  It can act as a bridge to a MS SQL server, replacing the need for writing SQL queries and processing the results.  But it can <em>also</em> be used to query collections that implement the <code>IEnumerable</code> interface, as well as XML files.  As such, we can design the logic of our program to use LINQ, and change out the data source for any of these options with minimal refactoring.</p>
<p>LINQ queries are written as either <em>query expressions</em> or by using <em>query operators</em>.  Let&rsquo;s examine the two.</p>
<h3 id="query-expressions">Query Expressions</h3>
<p>LINQ query expressions appear much like SQL statements.  For example, the query from the last section, selecting the names of students whose GPA is greater than 3.0 as a LINQ query expression would be:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> highGPAStudents = <span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">where</span> student.GPA &gt; <span style="color:#ae81ff">3.0</span> <span style="color:#66d9ef">select</span> <span style="color:#66d9ef">new</span> { First = student.First, Last = student.Last};</span></span></code></pre></div><p>This format looks much like SQL, and is often more comfortable for programmers who come from a SQL background.</p>
<h3 id="query-operators">Query Operators</h3>
<p>LINQ queries are actually implemented through C# operators.  Query expressions, like the one above, are compiled into an equivalent series of query operators.  Programmers can also use these operators directly.  For example, the above query expressed using operators would be:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> highGPAStudents = students.Where(student =&gt; student.GPA &gt; <span style="color:#ae81ff">3.0</span>).Select(student =&gt; <span style="color:#66d9ef">new</span> {First = student.First, Last = student.Last});</span></span></code></pre></div><p>Programmers from an object-oriented background often find the operators (which are essentially methods that take lambda expressions as parameters) more comfortable.</p>
<h3 id="query-execution">Query Execution</h3>
<p>Queries are not actually executed until you start iterating over their results.  This allows you to chain additional queries on an existing query, and allows the compiler to optimize queries by grouping query expressions together.  Consider this compound query to select half of low-performing students to assign to an advisor:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> strugglingStudents = <span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">where</span> student.GPA &lt; <span style="color:#ae81ff">2.0</span> <span style="color:#66d9ef">select</span> student;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> strugglingStudentsAtoN = <span style="color:#66d9ef">from</span> strugglingStudents <span style="color:#66d9ef">where</span> student.Last.CharAt(<span style="color:#ae81ff">0</span>) &gt;= <span style="color:#e6db74">&#39;A&#39;</span> &amp;&amp; student.Last.CharAt(<span style="color:#ae81ff">0</span>) &lt; <span style="color:#e6db74">&#39;N&#39;</span> <span style="color:#66d9ef">select</span> student;</span></span></code></pre></div><p>If we wrote this as C# algorithm, we might do something like:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> strugglingStudents = <span style="color:#66d9ef">new</span> List&lt;Student&gt;();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">foreach</span>(<span style="color:#66d9ef">var</span> student <span style="color:#66d9ef">in</span> students) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(student.GPA &lt; <span style="color:#ae81ff">2.0</span>) strugglingStudents.Add(student);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> strugglingStudentsAtoN = <span style="color:#66d9ef">new</span> List&lt;Student&gt;();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">foreach</span>(<span style="color:#66d9ef">var</span> student <span style="color:#66d9ef">in</span> strugglingStudents) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(student.Last.CharAt(<span style="color:#ae81ff">0</span>) &gt;= <span style="color:#e6db74">&#39;A&#39;</span> &amp;&amp; student.Last.CharAt(<span style="color:#ae81ff">0</span>) &lt; <span style="color:#e6db74">&#39;N&#39;</span>) strugglingStudentsAtoN.Add(student)
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>As you can see, this results in <em>two</em> iterations over lists of students.  In the worst case (when every student is struggling) this has a complexity of $O(2*n)$.</p>
<p>On the other hand, by delaying the execution of the query until the first time its values are used, LINQ can refactor the query into a form like:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> strugglingStudentsAtoN = <span style="color:#66d9ef">new</span> List&lt;Student&gt;();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">foreach</span>(<span style="color:#66d9ef">var</span> student <span style="color:#66d9ef">in</span> students) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(student.GPA &lt; <span style="color:#ae81ff">2.0</span> &amp;&amp; student.Last.CharAt(<span style="color:#ae81ff">0</span>) &gt;= <span style="color:#e6db74">&#39;A&#39;</span> &amp;&amp; student.Last.CharAt(<span style="color:#ae81ff">0</span>) &lt; <span style="color:#e6db74">&#39;N&#39;</span>) 
</span></span><span style="display:flex;"><span>        strugglingStudents.Add(student);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>With this refactoring, the worst case becomes $O(n)$ - our query would run twice as fast!  Also, if we never <em>use</em> <code>strugglingStudentsAtoN</code>, the query is never executed, so the cost is $O(0)$.  This might seem nonsensical, but consider if we have some kind of conditional, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">switch</span>(advisor.Number) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>        ReportStudents(strugglingStudentsAtoN);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">2</span>: 
</span></span><span style="display:flex;"><span>        ReportStudents(strugglingStudentsNtoZ);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>We only end up executing the query necessary for the logged-in advisor.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>LINQ uses a programming pattern known as <a href="https://en.wikipedia.org/wiki/Method_chaining" target="_blank"><em>method chaining</em></a>
, where each query method returns an object upon which additional query operations can be performed.  Thus, it is perfectly legal to write a query like:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> query = students.Where(s =&gt; s.GPA &gt; <span style="color:#ae81ff">2.0</span>).Where(s =&gt; s.Age &gt; <span style="color:#ae81ff">25</span>).Where(s =&gt; s.Last.CharAt(<span style="color:#ae81ff">0</span>) == <span style="color:#e6db74">&#39;C&#39;</span>);</span></span></code></pre></div><p>While this may seem silly (as we could have expressed this with one where clause), it makes more sense when we have user interface filters that may or may not have a value, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> query = students.All();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(minGPA != <span style="color:#66d9ef">null</span>) query = query.Where(s =&gt; s.GPA &gt;= minGPA);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(maxGPA != <span style="color:#66d9ef">null</span>) query = query.Where(s =&gt; s.GPA &lt;= maxGPA);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(first != <span style="color:#66d9ef">null</span>) query = query.Where(s =&gt; s.First == first);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(last != <span style="color:#66d9ef">null</span>) query = query.Where(s =&gt; s.Last == last);</span></span></code></pre></div></div>
</div>
<h3 id="query-results">Query Results</h3>
<p>The result of the query is therefore a specialized object created by LINQ that implements the <code>IEnumerable&lt;T&gt;</code> interface.  The type of <code>T</code> depends on the query (queries are always strongly typed, though the type can be inferred).  Fore example, in our <code>strugglingStudent</code> query, the result type is <code>IEnumerable&lt;Student&gt;</code>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> strugglingStudents = <span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">where</span> student.GPA &lt; <span style="color:#ae81ff">2.0</span> <span style="color:#66d9ef">select</span> student;</span></span></code></pre></div><p>In contrast, the <code>highGPAStudents</code> result uses an <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/anonymous-types" target="_blank"><em>anonymous type</em></a>
:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> highGPAStudents = <span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">where</span> student.GPA &gt; <span style="color:#ae81ff">3.0</span> <span style="color:#66d9ef">select</span> <span style="color:#66d9ef">new</span> { First = student.First, Last = student.Last};</span></span></code></pre></div><p>The anonymous type is created by the expression <code>new { First = student.First, Last = student.Last}</code>.  Basically, it&rsquo;s an object with a <code>First</code> and <code>Last</code> property (and no methods or other properties).  Anonymous types are created by the interpreter at runtime (much like an auto-Property&rsquo;s backing field).  As such, we aren&rsquo;t able to use its type in our code.</p>
<p>If we want the query to return a specific type, we can instead declare a struct or object to return, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StudentName</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> First;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Last;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> StudentName(<span style="color:#66d9ef">string</span> first, <span style="color:#66d9ef">string</span> last) {
</span></span><span style="display:flex;"><span>        First = first;
</span></span><span style="display:flex;"><span>        Last = last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>And then set this as the projection type:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> highGPAStudents = <span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">where</span> student.GPA &gt; <span style="color:#ae81ff">3.0</span> <span style="color:#66d9ef">select</span> <span style="color:#66d9ef">new</span> StudentName(student.First, student.Last);</span></span></code></pre></div><p>Let&rsquo;s take a deeper look at LINQ syntax next.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="linq-syntax">LINQ Syntax</h1>

<p>Let&rsquo;s discuss some of the more common operations we might want to perform with LINQ.  Please note that this is <em>not an exhaustive list</em> - just some of the most common operations you will be encountering at this time.</p>
<h2 id="data-source">Data Source</h2>
<p>For these examples, we&rsquo;ll be using a data source consisting of <code>Student</code> objects.  These are defined by the class:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> EID;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> First;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Last;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> GPA;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> Age;    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Major;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>And the variable <code>students</code> is a <code>List&lt;Student&gt;</code> that we can assume is populated with initialized student objects.</p>
<p>We select this as our data source with the LINQ <code>from</code> operator.  In query syntax, this would be:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> query = <span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students ...</span></span></code></pre></div><p>And with method syntax, we would simply use the <code>students</code> list:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> query = students.SomeQueryMethod(student =&gt; ...)</span></span></code></pre></div><p>To create a query from a data source using method syntax without applying any query methods (useful for chaining optional queries), we can invoke <code>All()</code> on the collection:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> query = students.All();</span></span></code></pre></div><p>To use a different data source, we would just swap <code>students</code> for that source, an object that supports either the <code>IEnumerable</code> (usually data structures) or <code>IQueryable</code> (typically SQL or XML data sources) interface.</p>
<h2 id="projecting">Projecting</h2>
<p>Projecting refers to selecting specific data from a data source.  For example, if we wanted to select the full name of every  <code>Student</code>, we could do so with this query syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-chsarp" data-lang="chsarp">var studentNames = from student in students select $&#34;{student.First} {student.Last}&#34;;</code></pre></div><p>Or with method syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> studentNames = students.Select(student =&gt; <span style="color:#e6db74">$&#34;{student.First} {student.Last}&#34;</span>);</span></span></code></pre></div><p>As the name is simply a string, the select above simply constructs the string, and the type of <code>studentNames</code> is inferred to be <code>IEnumerable&lt;string&gt;</code>.</p>
<p>We can also project an <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/anonymous-types" target="_blank">anonymous type</a>
.  This is a special kind of object whose type is created at runtime.  Anonymous types are basically collections of properties and nothing more (they cannot have methods).  For example, if we wanted just the student&rsquo;s full name and age, we would use this query syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> studentInfo = <span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">select</span> <span style="color:#66d9ef">new</span> {FullName = <span style="color:#e6db74">$&#34;{student.First} {student.Last}&#34;</span>, Age = student.Age};</span></span></code></pre></div><p>or this method syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> studentInfo = students.Select(student =&gt; <span style="color:#66d9ef">new</span> {FullName = <span style="color:#e6db74">$&#34;{student.First} {student.Last}&#34;</span>, Age = student.Age});</span></span></code></pre></div><p>Finally, we could also define a new data type (i.e. class) and create an instance of it as our projection:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StudentInfo</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> FullName {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> Age {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> StudentInfo(<span style="color:#66d9ef">string</span> fullName, <span style="color:#66d9ef">int</span> age)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        FullName = fullName;
</span></span><span style="display:flex;"><span>        Age = age;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Using query syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> studentInfo = <span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">select</span> <span style="color:#66d9ef">new</span> StudentInfo(<span style="color:#e6db74">$&#34;{student.First} {student.Last}&#34;</span>, student.Age);</span></span></code></pre></div><p>or this method syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> studentInfo = students.Select(student =&gt; <span style="color:#66d9ef">new</span> StudentInfo(<span style="color:#e6db74">$&#34;{student.First} {student.Last}&#34;</span>, student.Age));</span></span></code></pre></div><h2 id="filtering">Filtering</h2>
<p>One of the most common operations you will do with a query is filter the data, so the results contains only part of the original data.  This is done with the <code>where</code> operator takes a statement that resolves to a boolean.  If this boolean expression resolves to true, then the data is included in the results; if it is false, it is excluded.  For example, to find all students older than 25, we would use this query syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> olderStudents = <span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">where</span> student.Age &gt; <span style="color:#ae81ff">25</span>;</span></span></code></pre></div><p>or this method syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> olderStudents = students.Where(student =&gt; student.Age &gt; <span style="color:#ae81ff">25</span>);</span></span></code></pre></div><h2 id="filtering-by-type">Filtering By Type</h2>
<p>If we have a list that contains multiple types, we can filter for specific types with the <code>where</code> operator or the <code>OfType</code> operator (this is an instance where query and operator syntax vary more greatly).  Consider the case where our <code>Student</code> class is a base class to <code>GraduateStudent</code> and <code>UndergraduateStudent</code> classes.  If we wanted to get a list of only the undergraduates, we could use a <code>where</code> query syntax combined with an <code>is</code> casting test:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> undergraduates = <span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">where</span> student <span style="color:#66d9ef">is</span> UndergraduateStudent;</span></span></code></pre></div><p>In this case, the result would be an <code>IEnumerable&lt;UndergraduateStudent&gt;</code>.  But the corresponding where in operator syntax would result in an <code>IEnumerable&lt;Student&gt;</code> that contained only <code>UndergraduateStudent</code> objects.  To perform a cast as part of the filtering, we would instead use the <code>OfType&lt;T&gt;()</code> method:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> undergraduates = students.OfType&lt;UndergraduateStudent&gt;();</span></span></code></pre></div><h2 id="ordering">Ordering</h2>
<p>Often we want to apply some form of sorting to our results, i.e. we might want to sort students by GPA.  This can be done with an <code>orderby</code> operator.  In query syntax it would be:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> studentsByGPA = <span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">orderby</span> student.GPA;</span></span></code></pre></div><p>And in method syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> studentsByGPA = students.OrderBy(student =&gt; student.GPA);</span></span></code></pre></div><p>The <code>orderby</code> operator sorts in <em>ascending</em> order (so students with the lowest grades would come first in the list).  If we wanted to sort in <em>descending</em> order, we would need to specify descending order in our query syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> studentsByGPA = <span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">orderby</span> student.GPA <span style="color:#66d9ef">descending</span>;</span></span></code></pre></div>
  
  
<div class="box notices cstyle tip">
  <div class="box-label"><i class="fa-fw fas fa-lightbulb"></i> Tip</div>
  <div class="box-content">

<p>There is also an <em>ascending</em> keyword you can use.  This is helpful if you can&rsquo;t remember the default or want to make it clear to other programmers that the list will be sorted in ascending order:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> studentsByGPA = <span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">orderby</span> student.GPA <span style="color:#66d9ef">ascending</span>;</span></span></code></pre></div></div>
</div>
<p>However, in method syntax this is accomplished by a separate operator, the <code>OrderByDescending()</code> method:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> studentsByGPA = students.OrderByDescending(student =&gt; student.GPA);</span></span></code></pre></div><p>If we need to order by multiple properties, i.e. first and last names, this is accomplished by a comma-separated list in query syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> studentsByName = <span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">orderby</span> student.Last, student.First;</span></span></code></pre></div><p>But in method syntax, we need to use a <code>ThenBy()</code> operator for subsequent sorting options:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> studentsByName = students.OrderBy(student =&gt; student.Last).ThenBy(student =&gt; student.First);</span></span></code></pre></div><p>We can mix and match ascending and descending sorting as well - for example, to sort students by descending GPA, then by names in alphabetical order we would use the query syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> studentsByGPAAndName = <span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">orderby</span> student.GPA <span style="color:#66d9ef">ascending</span>, student.Last, student.First;</span></span></code></pre></div><p>The corresponding method syntax would need separate operators for each sorting:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> studentsByGPAAndName = students.OrderByDescending(student =&gt; student.GPA).ThenBy(student =&gt; student.Last).ThenBy(student =&gt; student.First);</span></span></code></pre></div><p>There is also a <code>ThenByDescending()</code> operator for chaining descending sorts.</p>
<p>Finally, there is also a <code>Reverse()</code> operator which simply reverses the order of items in the collection without sorting.</p>
<h2 id="grouping">Grouping</h2>
<p>We often want to split our results into groups, which can be accomplished with the <code>group by</code> operator.  Consider the case where we want to split our students by the value of their <code>Major</code> field.  We can accomplish this with query syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> studentsByMajor = <span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">select</span> student <span style="color:#66d9ef">group</span> student <span style="color:#66d9ef">by</span> student.Major;</span></span></code></pre></div><p>or using method syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> studentsByMajor = students.GroupBy(student =&gt; student.Major);</span></span></code></pre></div><p>The result type of a grouping operation is an <code>IEnumerable&lt;IGrouping&lt;TKey, TSource&gt;&gt;</code>; the <code>IGrouping</code> is essentially a key/value pair with the key being the type we were grouping by.  In the example it would be <code>IEnumerable&lt;IGrouping&lt;string, Student&gt;&gt;</code> (Seeing this, you can probably begin to appreciate why we normally use <code>var</code> for query variables).</p>
<p>To print out each student in each category, we&rsquo;d need to iterate over this collection, and then over the groupings:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">foreach</span>(<span style="color:#66d9ef">var</span> <span style="color:#66d9ef">group</span> <span style="color:#66d9ef">in</span> studentsByMajor) {
</span></span><span style="display:flex;"><span>    Console.WriteLine(<span style="color:#e6db74">$&#34;{group.Key} Students&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">foreach</span>(<span style="color:#66d9ef">var</span> student <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">group</span>) {
</span></span><span style="display:flex;"><span>        Console.WriteLine(<span style="color:#e6db74">$&#34;{student.First} {student.Last}&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><h2 id="paging">Paging</h2>
<p>A common strategy with large data sets is to separate them into <em>pages</em>, i.e. the first 20 items might appear on page 1, and by clicking the page 2 link, the user could view the next twenty items, and so on.  This paging functionality is implemented in LINQ using the <code>Skip()</code> and <code>Take()</code> operators.  The <code>Skip()</code> operator specifies how many records to skip over, while the <code>Take()</code> operator indicates how many records to include.  Thus, to take the second page of students when each page displays twenty students, we would use:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> pagedStudents = students.Skip(<span style="color:#ae81ff">20</span>).Take(<span style="color:#ae81ff">20</span>);</span></span></code></pre></div><p>Note that there is no query syntax corresponding to the <code>Skip()</code> and <code>Take()</code> operations, so to use them with query syntax, we wrap the query in parenthesis and invoke the methods on the result.  I.e. sorting students alphabetically and then taking the third page of twenty would be:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> pagedSortedStudents = (<span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students sort <span style="color:#66d9ef">by</span> last, first).Skip(<span style="color:#ae81ff">40</span>).Take(<span style="color:#ae81ff">20</span>);</span></span></code></pre></div><h2 id="existence-checks">Existence Checks</h2>
<p>Sometimes we want to know if a particular record exists in our data source.  The <code>Any()</code> operator can be used to perform such a check.  It evaluates to <code>true</code> if the query has any results, or <code>false</code> if it does not.  Like the <code>Skip()</code> and <code>Take()</code>, it does not have a query syntax form, so it must be invoked using the method syntax.  For example, to determine if we have at least one student named Bob Smith, we could use:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> bobSmithExists = (<span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">where</span> student.First == <span style="color:#e6db74">&#34;Bob&#34;</span> &amp;&amp; student.Last == <span style="color:#e6db74">&#34;Smith&#34;</span>).Any();</span></span></code></pre></div><p>Or, in method syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> bobSmithExists = students.Any(student =&gt; student.First == <span style="color:#e6db74">&#34;Bob&#34;</span> &amp;&amp; student.Last == <span style="color:#e6db74">&#34;Smith&#34;</span>);</span></span></code></pre></div><p>Alternatively, if we wanted to retrieve Bob Smith&rsquo;s record instead of simply determining if we had one, we could use <code>First()</code>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> bobSmith = (<span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">where</span> student.First == <span style="color:#e6db74">&#34;Bob&#34;</span> &amp;&amp; student.Last == <span style="color:#e6db74">&#34;Smith&#34;</span>).First();</span></span></code></pre></div><p>or in method syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> bobSmith = students.First(student =&gt; student.First == <span style="color:#e6db74">&#34;Bob&#34;</span> &amp;&amp; student.Last == <span style="color:#e6db74">&#34;Smith&#34;</span>);</span></span></code></pre></div><p>This evaluates to the first matching result of the query (if we have multiple Bob Smiths, we&rsquo;ll only get the first one).  If there is no matching record, an <code>InvalidOperationException</code> is thrown.  Alternatively, we can use <code>FirstOrDefault()</code> which returns a default value corresponding to the query data type. For classes, this would be <code>null</code>, so given this query:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> bobSmith = students.FirstOrDefault(student =&gt; student.First == <span style="color:#e6db74">&#34;Bob&#34;</span> &amp;&amp; student.Last == <span style="color:#e6db74">&#34;Smith&#34;</span>);</span></span></code></pre></div><p>The value of <code>bobSmith</code> would be his record (if he is in the collection) or <code>null</code> (if he was not).</p>
<h2 id="aggregating">Aggregating</h2>
<p>Sometimes we want to perform aggregate operations upon a data source, i.e. counting, summing, or averaging. As with paging, these are accomplished via method-only operators.  For example, to count all students in our data source, we could use:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> studentCount = students.Count();</span></span></code></pre></div><p>This can be combined with any LINQ query, i.e. the count of students with a GPA above 3.0 in query syntax would be:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> studentsAbove3GPA = (<span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">where</span> student.GPA &gt; <span style="color:#ae81ff">3.0</span>).Count();</span></span></code></pre></div><p>or in method syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> studentsAbove3GPA = students.Where(student =&gt; student.GPA &gt; <span style="color:#ae81ff">3.0</span>).Count();</span></span></code></pre></div><p>Similarly, to compute the average GPA we would use the <code>Average()</code> method in conjunction with a projection.  In query syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> averageGPA = (<span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">select</span> student.GPA).Average();</span></span></code></pre></div><p>or in method syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> averageGPA = students.Select(student =&gt; student.GPA).Average();</span></span></code></pre></div><p>or we can move the selector Predicate into the <code>Average()</code> directly:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> averageGPA = students.Average(student =&gt; student.GPA);</span></span></code></pre></div><p>We can create more complex queries to address specific questions.  For example, with a <code>group by</code> we could compute the average GPA by major:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> gpaByMajor = <span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">group</span> student <span style="color:#66d9ef">by</span> student.Major <span style="color:#66d9ef">into</span> majorGroup <span style="color:#66d9ef">select</span> <span style="color:#66d9ef">new</span> 
</span></span><span style="display:flex;"><span>    { 
</span></span><span style="display:flex;"><span>        Major = majorGroup.Key,
</span></span><span style="display:flex;"><span>        AverageGPA = majorGroup.Average(student =&gt; student.GPA);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><p>The <code>Sum()</code> operator works similarly, summing a value.  To sum the ages of all students, we could use:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> sumOfAges = (<span style="color:#66d9ef">from</span> student <span style="color:#66d9ef">in</span> students <span style="color:#66d9ef">select</span> student.Age).Sum();</span></span></code></pre></div><p>or</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> sumOfAges = students.Select(student =&gt; student.Age).Sum();</span></span></code></pre></div><p>or</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> sumOfAges = students.Sum(student =&gt; student.Age);</span></span></code></pre></div><p>There are also <code>Min()</code> and <code>Max()</code> aggregate operators which select the minimum and maximum values, respectively.  For example, we could find the maximum and minimum earned GPAs with:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-chsarp" data-lang="chsarp">var minGPA = students.Min(student =&gt; student.GPA);
var maxGPA = students.Max(student =&gt; student.GPA);</code></pre></div><p>Finally, there is a generic <code>Aggregate()</code> method which provides an aggregator variable that we can use to build any kind of aggregate function.  Let&rsquo;s first see how it can be used to duplicate the functionality of the <code>Sum()</code> method:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> sumOfAges = students.Aggregate((sum, student) =&gt; sum + student.Age);</span></span></code></pre></div><p>Here, <code>sum</code> is inferred to be an <code>int</code>, as <code>student.Age</code> is an int.  So it starts at <code>0</code>, and each time the <code>Aggregate</code> method processes a student, it adds that student&rsquo;s <code>Age</code> into the <code>sum</code>.</p>
<p>Now let&rsquo;s use this method for something new - generating a string of email addresses for a bulk mailing.  Assume our email application needs a list of semicolon-separated email addresses.  In that case, we could generate the emails for all students from:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> emails = students.Aggregate((emails, student) =&gt; emails + <span style="color:#e6db74">$&#34;; {student.EID}@k-state.edu&#34;</span>);</span></span></code></pre></div><p>If we had students with EIDs &ldquo;mary&rdquo;, &ldquo;brb30&rdquo;, and &ldquo;stan&rdquo;, the resulting string would be:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>mary@k-state.edu; brb30@k-state.edu; stan@ksu.edu</code></pre></div>
  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>You may have heard the term <a href="https://en.wikipedia.org/wiki/MapReduce" target="_blank">map/reduce</a>
 in the context of functional programming or big data.  This is an algorithmic approach to processing data.  This pattern can be duplicated in LINQ using a query as the mapping function, and <code>Aggregate()</code> as the reduce function.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="extension-methods">Extension Methods</h1>

<p>In order to use LINQ with your <code>IEnumerable</code> collections, you must include this using statement:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.LINQ </span></span></code></pre></div><p>Without it, the LINQ collection methods will not be available.  You might be wondering why, as your collections are mostly defined in the <code>System.Collections</code> or <code>System.Collections.Generic</code> namespaces.</p>
<p>The answer is that LINQ on collections is implemented using <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/extension-methods" target="_blank">extension methods</a>
.  This is a C# feature that allows you to add methods to any class, even a <code>sealed</code> class.  But how can we add methods to a sealed class?  Isn&rsquo;t the point of sealing a class to prevent altering it?</p>
<p>The answer is that extension methods don&rsquo;t actually modify the class itself.  Instead, they make available additional methods that the compiler &ldquo;pretends&rdquo; are a part of the class.  But these are defined separate from the class, and cannot modify it, nor access private or protected members of the class.  As the LINQ extension methods are defined in the <code>System.LINQ</code> namespace, we must make them available with a using statement before the compiler and intellisense will let us use them.</p>
<p>Let&rsquo;s see an example of creating our own extension methods.  As programmers, we often use class names in Pascal case, that might be useful to convert into human-readable strings.  Let&rsquo;s write an extension method to do this transformation:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Text;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">namespace</span> StringExtensions {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Converts a camel-case or pascal case string into a human-readable one </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">string</span> Humanize(<span style="color:#66d9ef">this</span> String s)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        StringBuilder sb = <span style="color:#66d9ef">new</span> StringBuilder();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> start = <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i = <span style="color:#ae81ff">1</span>; i &lt; s.Length; i++) 
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// An upper case character is the start of a new word</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(Char.IsUpper(s[i]))
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// So we&#39;ll add the last word to the StringBuilder</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">string</span> word = s.Substring(start, i - start);
</span></span><span style="display:flex;"><span>                sb.Append(word);
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// Since that wasn&#39;t the last word, add a space </span>
</span></span><span style="display:flex;"><span>                sb.Append(<span style="color:#e6db74">&#34; &#34;</span>);
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// Mark the start of the new word </span>
</span></span><span style="display:flex;"><span>                start = i;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        } 
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// We should have one more word left </span>
</span></span><span style="display:flex;"><span>        sb.Append(s.Substring(start));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> sb.ToString();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Notice a couple of important features.  First, the method is defined as <code>static</code>.  All extension methods are <code>static</code> methods.  Second, note the use of <code>this</code> in the first parameter, <code>this string s</code>.  The use of the <code>this</code> keyword is what tells C# the method is an extension method.  Moreover, it indicates the class that is being extended - <code>String</code> (which is equivalent to <code>string</code>).</p>
<p>Other than these two details, the rest of the method looks much like any other method.  But any time this method is in scope (i.e. within the <code>StringExtensions</code> namespace, or in any file with a <code>using StringExtensions</code> statement), there will be an additional method available on <code>string</code>, <code>Humanize()</code>.</p>
<p>That&rsquo;s all there is to writing an extension method.  Go ahead and try writing your own to convert human-readable strings into Pascal or Camel case!</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="summary">Summary</h1>

<p>In this chapter we learned about LINQ, Microsoft&rsquo;s query technology for querying collections, relational databases, and XML files (along with community implementations for many other queryable things).  We saw how to use both query and method syntax provided by LINQ to perform common query operations.  Finally, we examined the mechanism LINQ uses to provide new functionality to <code>IEnumerable</code> collections - extension methods.  We even implemented a few extension methods of our own!</p>
<p>Now you should be ready to use LINQ in your own projects, as well as define your own custom extension methods.</p>

            <footer class="footline">

            </footer>
          </article>

          </section>
          </section>

        </div>
      </main>
    
<div class="git-footer">
<p class="theme-version-footer">5.18.0</p>
<p>Last modified by: 
            <i class='fas fa-user'></i> Russell Feldhausen
            <i class='fas fa-calendar'></i> <a href="https://gitlab.cs.ksu.edu/cs-textbooks/cis400-textbook/-/commit/681e5c9c43e3ac6de614c2cc74487702fd43cab7">Aug 10, 2023</a>
</p>
</div>

    
    </div>
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/clipboard.min.js?1697829862" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/perfect-scrollbar.min.js?1697829862" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/theme.js?1697829862" defer></script>
  </body>
</html>
