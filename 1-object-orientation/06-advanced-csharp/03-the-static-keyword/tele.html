<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="To start, let’s revisit one more keyword that causes a lot of confusion for new programmers, static. We mentioned it briefly when talking about encapsulation and modules, and said we could mimic a module in C# with a static class. We offered this example:
/// <summary> /// A library of vector math functions /// </summary> public static class VectorMath { /// <summary> /// Computes the dot product of two vectors /// </summary> public static double DotProduct(Vector3 a, Vector3 b) { return a."><meta name=author content="Nathan Bean"><meta name=twitter:card content="summary"><meta name=twitter:title content="The static Keyword :: K-State CIS 400 Textbook"><meta name=twitter:description content="To start, let’s revisit one more keyword that causes a lot of confusion for new programmers, static. We mentioned it briefly when talking about encapsulation and modules, and said we could mimic a module in C# with a static class. We offered this example:
/// <summary> /// A library of vector math functions /// </summary> public static class VectorMath { /// <summary> /// Computes the dot product of two vectors /// </summary> public static double DotProduct(Vector3 a, Vector3 b) { return a."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis400/1-object-orientation/06-advanced-csharp/03-the-static-keyword/"><meta property="og:site_name" content="K-State CIS 400 Textbook"><meta property="og:title" content="The static Keyword :: K-State CIS 400 Textbook"><meta property="og:description" content="To start, let’s revisit one more keyword that causes a lot of confusion for new programmers, static. We mentioned it briefly when talking about encapsulation and modules, and said we could mimic a module in C# with a static class. We offered this example:
/// <summary> /// A library of vector math functions /// </summary> public static class VectorMath { /// <summary> /// Computes the dot product of two vectors /// </summary> public static double DotProduct(Vector3 a, Vector3 b) { return a."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Object-Orientation"><meta property="article:published_time" content="2018-08-24T10:53:26-05:00"><meta property="article:modified_time" content="2021-01-22T10:13:00-06:00"><meta itemprop=name content="The static Keyword :: K-State CIS 400 Textbook"><meta itemprop=description content="To start, let’s revisit one more keyword that causes a lot of confusion for new programmers, static. We mentioned it briefly when talking about encapsulation and modules, and said we could mimic a module in C# with a static class. We offered this example:
/// <summary> /// A library of vector math functions /// </summary> public static class VectorMath { /// <summary> /// Computes the dot product of two vectors /// </summary> public static double DotProduct(Vector3 a, Vector3 b) { return a."><meta itemprop=datePublished content="2018-08-24T10:53:26-05:00"><meta itemprop=dateModified content="2021-01-22T10:13:00-06:00"><meta itemprop=wordCount content="1156"><title>The static Keyword :: K-State CIS 400 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis400/1-object-orientation/06-advanced-csharp/03-the-static-keyword/ rel=canonical type=text/html title="The static Keyword :: K-State CIS 400 Textbook"><link href=/cis400/1-object-orientation/06-advanced-csharp/03-the-static-keyword/index.xml rel=alternate type=application/rss+xml title="The static Keyword :: K-State CIS 400 Textbook"><link href=/cis400/1-object-orientation/06-advanced-csharp/03-the-static-keyword/index.print.html rel=alternate type=text/html title="The static Keyword :: K-State CIS 400 Textbook"><link href=/cis400/1-object-orientation/06-advanced-csharp/03-the-static-keyword/embed.html rel=alternate type=text/html title="The static Keyword :: K-State CIS 400 Textbook"><link href=/cis400/css/fontawesome-all.min.css?1724766110 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/fontawesome-all.min.css?1724766110 rel=stylesheet></noscript><link href=/cis400/css/nucleus.css?1724766110 rel=stylesheet><link href=/cis400/css/auto-complete.css?1724766110 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/auto-complete.css?1724766110 rel=stylesheet></noscript><link href=/cis400/css/perfect-scrollbar.min.css?1724766110 rel=stylesheet><link href=/cis400/css/fonts.css?1724766110 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/fonts.css?1724766110 rel=stylesheet></noscript><link href=/cis400/css/theme.css?1724766110 rel=stylesheet><link href=/cis400/css/theme-auto.css?1724766110 rel=stylesheet id=R-variant-style><link href=/cis400/css/chroma-auto.css?1724766110 rel=stylesheet id=R-variant-chroma-style><link href=/cis400/css/variant.css?1724766110 rel=stylesheet><link href=/cis400/css/print.css?1724766110 rel=stylesheet media=print><script src=/cis400/js/variant.js?1724766110></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis400",window.index_js_url="/cis400/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis400/css/custom.css?1724766110 rel=stylesheet></head><body class="mobile-support tele disableInlineCopyToClipboard" data-url=/cis400/1-object-orientation/06-advanced-csharp/03-the-static-keyword/><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=the-static-keyword>The static Keyword</h1><p>To start, let&rsquo;s revisit one more keyword that causes a lot of confusion for new programmers, <code>static</code>. We mentioned it briefly when talking about encapsulation and modules, and said we could mimic a module in C# with a static class. We offered this example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl><span class=cs>/// A library of vector math functions</span>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>static</span> <span class=k>class</span> <span class=nc>VectorMath</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Computes the dot product of two vectors </span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>double</span> <span class=n>DotProduct</span><span class=p>(</span><span class=n>Vector3</span> <span class=n>a</span><span class=p>,</span> <span class=n>Vector3</span> <span class=n>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>a</span><span class=p>.</span><span class=n>x</span> <span class=p>*</span> <span class=n>b</span><span class=p>.</span><span class=n>x</span> <span class=p>+</span> <span class=n>a</span><span class=p>.</span><span class=n>y</span> <span class=p>*</span> <span class=n>b</span><span class=p>.</span><span class=n>y</span> <span class=p>+</span> <span class=n>a</span><span class=p>.</span><span class=n>z</span> <span class=p>*</span> <span class=n>b</span><span class=p>.</span><span class=n>z</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Computes the magnitude of a vector</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>double</span> <span class=n>Magnitude</span><span class=p>(</span><span class=n>Vector3</span> <span class=n>a</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>Math</span><span class=p>.</span><span class=n>Sqrt</span><span class=p>(</span><span class=n>Math</span><span class=p>.</span><span class=n>Pow</span><span class=p>(</span><span class=n>a</span><span class=p>.</span><span class=n>x</span><span class=p>,</span> <span class=m>2</span><span class=p>)</span> <span class=p>+</span> <span class=n>Math</span><span class=p>.</span><span class=n>Pow</span><span class=p>(</span><span class=n>a</span><span class=p>.</span><span class=n>y</span><span class=p>,</span> <span class=m>2</span><span class=p>)</span> <span class=p>+</span> <span class=n>Math</span><span class=p>.</span><span class=n>Pow</span><span class=p>(</span><span class=n>a</span><span class=p>.</span><span class=n>z</span><span class=p>,</span> <span class=m>2</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>You&rsquo;ve probably worked with the C# <code>Math</code> class before, which is declared the same way - as a static class containing static methods. For example, to compute 8 cubed, you might have used:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>Math</span><span class=p>.</span><span class=n>Pow</span><span class=p>(</span><span class=m>8</span><span class=p>,</span> <span class=m>3</span><span class=p>);</span></span></span></code></pre></div><p>Notice how we didn&rsquo;t construct an object from the <code>Math</code> class? In C# we <em>cannot construct static classes</em> - they simply exist as a container for static fields and methods. If you&rsquo;re thinking that doesn&rsquo;t sound very object-oriented, you&rsquo;re absolutely right. The <code>static</code> keyword allows for some very non-object-oriented behavior more in line with imperative languages like C. Bringing the idea of <code>static</code> classes into C# let programmers with an imperative background use similar techniques to what they were used to, which is why <code>static</code> classes have been a part of C# from the beginning.</p><h3 id=static-methods-in-regular-classes>Static Methods in Regular Classes</h3><p>You can also create <code>static</code> methods within a non-static class. For example, we could refactor our <code>Vector3</code> class to add a static <code>DotProduct()</code> within it:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=k>struct</span> <span class=nc>Vector3</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>double</span> <span class=n>X</span> <span class=p>{</span><span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>double</span> <span class=n>Y</span> <span class=p>{</span><span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;}</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>double</span> <span class=n>Z</span> <span class=p>{</span><span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt; </span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Creates a new Vector3 object</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Vector3</span><span class=p>(</span><span class=kt>double</span> <span class=n>x</span><span class=p>,</span> <span class=kt>double</span> <span class=n>y</span><span class=p>,</span> <span class=kt>double</span> <span class=n>z</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=n>X</span> <span class=p>=</span> <span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=n>Y</span> <span class=p>=</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=n>Z</span> <span class=p>=</span> <span class=n>z</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Computes the dot product of this vector and another one </span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;param name=&#34;other&#34;&gt;The other vector&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>double</span> <span class=n>DotProduct</span><span class=p>(</span><span class=n>Vector3</span> <span class=n>other</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=n>X</span> <span class=p>*</span> <span class=n>other</span><span class=p>.</span><span class=n>X</span> <span class=p>+</span> <span class=k>this</span><span class=p>.</span><span class=n>Y</span> <span class=p>*</span> <span class=n>other</span><span class=p>.</span><span class=n>Y</span> <span class=p>+</span> <span class=k>this</span><span class=p>.</span><span class=n>Z</span> <span class=p>*</span> <span class=n>other</span><span class=p>.</span><span class=n>Z</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Computes the dot product of two vectors </span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;param name=&#34;a&#34;&gt;The first vector&lt;param&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;param name=&#34;b&#34;&gt;The second vector&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=n>DotProduct</span><span class=p>(</span><span class=n>Vector3</span> <span class=n>a</span><span class=p>,</span> <span class=n>Vector3</span> <span class=n>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>a</span><span class=p>.</span><span class=n>DotProduct</span><span class=p>(</span><span class=n>b</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>This method would be invoked like any other <code>static</code> method, i.e.:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>Vector3</span> <span class=n>a</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Vector3</span><span class=p>(</span><span class=m>1</span><span class=p>,</span><span class=m>3</span><span class=p>,</span><span class=m>4</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>Vector3</span> <span class=n>b</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Vector3</span><span class=p>(</span><span class=m>4</span><span class=p>,</span><span class=m>3</span><span class=p>,</span><span class=m>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>Vector3</span><span class=p>.</span><span class=n>DotProduct</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>);</span></span></span></code></pre></div><p>You can see we&rsquo;re doing the same thing as the instance method <code>DotProduct(Vector3 other)</code>, but in a library-like way.</p><h3 id=static-fields-within-regular-classes>Static Fields Within Regular Classes</h3><p>We can also declare fields as <code>static</code>, which has a meaning slightly different than static methods. Specifically, the field is <em>shared</em> amongst all instances of the class. Consider the following class:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>Tribble</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kd>static</span> <span class=kt>int</span> <span class=n>count</span> <span class=p>=</span> <span class=m>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Tribble</span><span class=p>()</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>count</span> <span class=p>*=</span> <span class=m>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=n>TotalTribbles</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>get</span> 
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>count</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>If we create a single Tribble, and then ask how many total Tribbles there are:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kt>var</span> <span class=n>t</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Tribble</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>t</span><span class=p>.</span><span class=n>TotalTribbles</span><span class=p>;</span> <span class=c1>// expect this to be 2</span></span></span></code></pre></div><p>We would expect the value to be 2, as <code>count</code> was initialized to <code>1</code> and then multiplied by <code>2</code> in the Tribble constructor. But if we construct <em>two</em> Tribbles:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kt>var</span> <span class=n>t</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Tribble</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=kt>var</span> <span class=n>u</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Tribble</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>t</span><span class=p>.</span><span class=n>TotalTribbles</span><span class=p>;</span> <span class=c1>// will be 4</span>
</span></span><span class=line><span class=cl><span class=n>u</span><span class=p>.</span><span class=n>TotalTribbles</span><span class=p>;</span> <span class=c1>// will be 4</span></span></span></code></pre></div><p>This is because <em>all instances of Tribble share the <code>count</code> field</em>. So it is initialized to <code>1</code>, multiplied by <code>2</code> when tribble <code>a</code> was constructed, and multiplied by <code>2</code> again when tribble <code>b</code> was constructed. Hence $1 * 2 * 2 = 4$. Every additional Tribble we construct will double the total population (which is the trouble with Tribbles).</p><h2 id=why-call-this-static>Why Call This Static?</h2><p>Which brings us to a point of confusion for most students, <em>why call this static</em>? After all, doesn&rsquo;t the word <em>static</em> indicate <em>unchanging</em>?</p><p>The answer lies in how memory is allocated in a program. Sometimes we know in advance how much memory we need to hold a variable, i.e. a <code>double</code> in C# requires 64 bits of memory. We call these types <em>value types</em> in C#, as the value is stored directly in memory where our variable is allocated. Other types, i.e. a <code>List&lt;T></code>, we may not know exactly how much memory will be required. We call these <em>reference</em> types. Instead of the variable holding a binary value, it holds a binary <em>address</em> to <em>another</em> location in memory where the list data is stored (hence, it is a <em>reference</em>).</p><p>When your program runs, it gets assigned a big chunk of memory from the operating system. Your program is loaded into the first part of this memory, and the remaining memory is used to hold variable values as the program runs. If you imagine that memory as a long shelf, we put the program instructions and any literal values to the far left of this shelf. Then, as the program runs and we need to create space for variables, we either put them on the left side or right side of the remaining shelf space. Value types, which we know will only exist for the duration of their scope (i.e. the method they are defined in) go to the left, and once we&rsquo;ve ended that scope we remove them. Similarly, the references we create (holding the address of memory of reference types) go on the left. The <em>data</em> of the reference types however, go on the right, because we don&rsquo;t know when we&rsquo;ll be done with them.</p><p>We call the kind of memory allocation that happens on the left <em>static</em>, as we know it should exist as long as the variable is in scope. Hence, the <code>static</code> keyword. In lower-level languages like C, we have to manually allocate space for our reference types (hence, not static). C# is a <em>memory managed</em> language in that we don&rsquo;t need to manually allocate and deallocate space for reference types, but we <em>do</em> allocate space every time we use the <code>new</code> keyword, and the garbage collector frees any space it decides we&rsquo;re done with (because we no longer have references pointing at it). So pointers <em>do</em> exist in C#, they are just &ldquo;under the hood&rdquo;.</p><p>By the way, the left side of the shelf we call the <strong>Stack</strong>, and the right the <strong>Heap</strong>. This is the source of the name for a <strong>Stack Overflow Exception</strong> - it means your program used up all the available space in the <strong>Stack</strong>, but still needs more. This is why it typically happens with infinite loops or recursion - they keep allocating variables on the stack until they run out of space.</p><p>Memory allocation and pointers is covered in detail in <strong>CIS 308 - C Language Lab</strong>, and you&rsquo;ll learn more about how programs run and the heap and stack in <strong>CIS 450 - Computer Architecture and Operations</strong>.</p><footer class=footline></footer></article></div></main></div></div><script src=/cis400/js/clipboard.min.js?1724766110 defer></script><script src=/cis400/js/perfect-scrollbar.min.js?1724766110 defer></script><script src=/cis400/js/theme.js?1724766110 defer></script><script src=/cis400/js/tele-scroll.js?1724766110 defer></script></body></html>