<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="You have probably used casting to convert numeric values from one type to another, i.e.:
int a = 5; double b = a;And
int c = (int)b;What you are actually doing when you cast is transforming a value from one type to another. In the first case, you are taking the value of a (5), and converting it to the equivalent double (5.0). If you consider the internal representation of an integer (a 2â€™s complement binary number) to a double (an IEEE 754 standard representation), we are actually applying a conversion algorithm to the binary representations."><meta name=author content="Nathan Bean"><meta name=twitter:card content="summary"><meta name=twitter:title content="Casting :: K-State CIS 400 Textbook"><meta name=twitter:description content="You have probably used casting to convert numeric values from one type to another, i.e.:
int a = 5; double b = a;And
int c = (int)b;What you are actually doing when you cast is transforming a value from one type to another. In the first case, you are taking the value of a (5), and converting it to the equivalent double (5.0). If you consider the internal representation of an integer (a 2â€™s complement binary number) to a double (an IEEE 754 standard representation), we are actually applying a conversion algorithm to the binary representations."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis400/1-object-orientation/02-polymorphism/05-casting/"><meta property="og:site_name" content="K-State CIS 400 Textbook"><meta property="og:title" content="Casting :: K-State CIS 400 Textbook"><meta property="og:description" content="You have probably used casting to convert numeric values from one type to another, i.e.:
int a = 5; double b = a;And
int c = (int)b;What you are actually doing when you cast is transforming a value from one type to another. In the first case, you are taking the value of a (5), and converting it to the equivalent double (5.0). If you consider the internal representation of an integer (a 2â€™s complement binary number) to a double (an IEEE 754 standard representation), we are actually applying a conversion algorithm to the binary representations."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Object-Orientation"><meta property="article:published_time" content="2018-08-24T10:53:26-05:00"><meta property="article:modified_time" content="2024-02-13T09:16:11-06:00"><meta itemprop=name content="Casting :: K-State CIS 400 Textbook"><meta itemprop=description content="You have probably used casting to convert numeric values from one type to another, i.e.:
int a = 5; double b = a;And
int c = (int)b;What you are actually doing when you cast is transforming a value from one type to another. In the first case, you are taking the value of a (5), and converting it to the equivalent double (5.0). If you consider the internal representation of an integer (a 2â€™s complement binary number) to a double (an IEEE 754 standard representation), we are actually applying a conversion algorithm to the binary representations."><meta itemprop=datePublished content="2018-08-24T10:53:26-05:00"><meta itemprop=dateModified content="2024-02-13T09:16:11-06:00"><meta itemprop=wordCount content="1027"><title>Casting :: K-State CIS 400 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis400/1-object-orientation/02-polymorphism/05-casting/ rel=canonical type=text/html title="Casting :: K-State CIS 400 Textbook"><link href=/cis400/1-object-orientation/02-polymorphism/05-casting/index.xml rel=alternate type=application/rss+xml title="Casting :: K-State CIS 400 Textbook"><link href=/cis400/1-object-orientation/02-polymorphism/05-casting/tele.html rel=alternate type=text/html title="Casting :: K-State CIS 400 Textbook"><link href=/cis400/1-object-orientation/02-polymorphism/05-casting/embed.html rel=alternate type=text/html title="Casting :: K-State CIS 400 Textbook"><link href=/cis400/css/fontawesome-all.min.css?1724766099 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/fontawesome-all.min.css?1724766099 rel=stylesheet></noscript><link href=/cis400/css/nucleus.css?1724766099 rel=stylesheet><link href=/cis400/css/auto-complete.css?1724766099 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/auto-complete.css?1724766099 rel=stylesheet></noscript><link href=/cis400/css/perfect-scrollbar.min.css?1724766099 rel=stylesheet><link href=/cis400/css/fonts.css?1724766099 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/fonts.css?1724766099 rel=stylesheet></noscript><link href=/cis400/css/theme.css?1724766099 rel=stylesheet><link href=/cis400/css/theme-auto.css?1724766099 rel=stylesheet id=R-variant-style><link href=/cis400/css/chroma-auto.css?1724766099 rel=stylesheet id=R-variant-chroma-style><link href=/cis400/css/variant.css?1724766099 rel=stylesheet><link href=/cis400/css/print.css?1724766099 rel=stylesheet media=print><link href=/cis400/css/format-print.css?1724766099 rel=stylesheet><script src=/cis400/js/variant.js?1724766099></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis400",window.index_js_url="/cis400/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis400/css/custom.css?1724766099 rel=stylesheet></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=/cis400/1-object-orientation/02-polymorphism/05-casting/><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/cis400/1-object-orientation/><span itemprop=name>Object-Orientation</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/cis400/1-object-orientation/02-polymorphism/><span itemprop=name>Polymorphism</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Casting</span><meta itemprop=position content="3"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis400/1-object-orientation/02-polymorphism/04-inheritance/ title="Object Inheritance (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/cis400/1-object-orientation/02-polymorphism/06-dispatch/ title="Message Dispatching (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=casting>Casting</h1><p>You have probably used casting to convert numeric values from one type to another, i.e.:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kt>int</span> <span class=n>a</span> <span class=p>=</span> <span class=m>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>double</span> <span class=n>b</span> <span class=p>=</span> <span class=n>a</span><span class=p>;</span></span></span></code></pre></div><p>And</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kt>int</span> <span class=n>c</span> <span class=p>=</span> <span class=p>(</span><span class=kt>int</span><span class=p>)</span><span class=n>b</span><span class=p>;</span></span></span></code></pre></div><p>What you are actually doing when you cast is <em>transforming a value from one type to another</em>. In the first case, you are taking the value of <code>a</code> (5), and converting it to the equivalent double (5.0). If you consider the internal representation of an integer (a 2&rsquo;s complement binary number) to a double (an <a href=https://en.wikipedia.org/wiki/IEEE_754 rel=external target=_blank>IEEE 754 standard</a> representation), we are actually applying a conversion algorithm to the binary representations.</p><p>We call the first operation an <em>implicit cast</em>, as we don&rsquo;t expressly tell the compiler to perform the cast. In contrast, the second assignment is an <em>explicit cast</em>, as we signify the cast by wrapping the <em>type</em> we are casting to in parenthesis before the variable we are casting. We <em>have</em> to perform an explicit cast in the second case, as the conversion has the possibility of losing some precision (i.e. if we cast 7.2 to an integer, it would be truncated to 7). In any case where the conversion may lose precision or possibly throw an error, an <em>explicit</em> cast is required.</p><h2 id=custom-casting-conversions>Custom Casting Conversions</h2><p>We can actually <a href=https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/user-defined-conversion-operators rel=external target=_blank>extend the C# language to add additional conversions</a> to provide additional casting operations. Consider if we had <code>Rectangle</code> and <code>Square</code> structs:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cs>/// &lt;summary&gt;A struct representing a rectangle&lt;/summary&gt;</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>struct</span> <span class=nc>Rectangle</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;The length of the short side of the rectangle&lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=n>ShortSideLength</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;The length of the long side of the rectangle&lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=n>LongSideLength</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;Constructs a new rectangle&lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;param name=&#34;shortSideLength&#34;&gt;The length of the shorter sides of the rectangle&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;param name=&#34;longSideLength&#34;&gt;The length of the longer sides of the rectangle&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Rectangle</span><span class=p>(</span><span class=kt>int</span> <span class=n>shortSideLength</span><span class=p>,</span> <span class=kt>int</span> <span class=n>longSideLength</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=n>ShortSideLength</span> <span class=p>=</span> <span class=n>shortSideLength</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>LongSideLength</span> <span class=p>=</span> <span class=n>longSideLength</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cs>/// &lt;summary&gt;A struct representing a square&lt;/summary&gt;</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>struct</span> <span class=nc>Square</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt; The length of the square&#39;s sides&lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=n>SideLength</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;Constructs a new square&lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;param name=&#34;sideLength&#34;&gt;The length of the square&#39;s sides&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Square</span><span class=p>(</span><span class=kt>int</span> <span class=n>sideLength</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=n>SideLength</span> <span class=p>=</span> <span class=n>sideLength</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>Since we know that a square is a special case of a rectangle (where all sides are the same length), we might define an implicit casting operator to convert it into a <code>Rectangle</code> (this would be placed inside the <code>Square</code> struct definition):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;Casts the &lt;paramref name=&#34;square&#34;/&gt; into a Rectangle&lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;param name=&#34;square&#34;&gt;The square to cast&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kd>implicit</span> <span class=kd>operator</span> <span class=n>Rectangle</span><span class=p>(</span><span class=n>Square</span> <span class=n>square</span><span class=p>)</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=n>Rectangle</span><span class=p>(</span><span class=n>square</span><span class=p>.</span><span class=n>SideLength</span><span class=p>,</span> <span class=n>square</span><span class=p>.</span><span class=n>SideLength</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span></span></span></code></pre></div><p>Similarly, we might create a cast operator to convert a rectangle to a square. But as this can <em>only</em> happen when the sides of the rectangle are all the same size, it would need to be an <em>explicit</em> cast operator , and throw an exception when that condition is not met (this method is placed in the <code>Rectangle</code> struct definition):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;Casts the &lt;paramref name=&#34;rectangle&#34;/&gt; into a Square&lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;param name=&#34;rectangle&#34;&gt;The rectangle to cast&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;exception cref=&#34;System.InvalidCastOperation&#34;&gt;The rectangle sides must be equal to cast to a square&lt;/exception&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kd>explicit</span> <span class=kd>operator</span> <span class=n>Square</span><span class=p>(</span><span class=n>Rectangle</span> <span class=n>rectangle</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>rectangle</span><span class=p>.</span><span class=n>LongSideLength</span> <span class=p>!=</span> <span class=n>rectangle</span><span class=p>.</span><span class=n>ShortSideLength</span><span class=p>)</span> <span class=k>throw</span> <span class=k>new</span> <span class=n>InvalidCastException</span><span class=p>(</span><span class=s>&#34;The sides of a square must be of equal lengths&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>new</span> <span class=n>Square</span><span class=p>(</span><span class=n>rectangle</span><span class=p>.</span><span class=n>LongSideLength</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span></span></span></code></pre></div><h2 id=casting-and-inheritance>Casting and Inheritance</h2><p>Casting becomes a bit more involved when we consider inheritance. As you saw in the previous discussion of inheritance, we can treat derived classes <em>as the base class</em>, i.e. the code:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>Student</span> <span class=n>sam</span> <span class=p>=</span> <span class=k>new</span> <span class=n>UndergraduateStudent</span><span class=p>(</span><span class=s>&#34;Sam&#34;</span><span class=p>,</span> <span class=s>&#34;Malone&#34;</span><span class=p>);</span></span></span></code></pre></div><p>Is actually <em>implicitly casting</em> the undergraduate student &ldquo;Sam Malone&rdquo; into a student class. Because an <code>UndergraduateStudent</code> is a <code>Student</code>, this cast can be <em>implicit</em>. Moreover, we don&rsquo;t need to define a casting operator - we can always implicitly cast a class to one of its ancestor classes, it&rsquo;s built into the inheritance mechanism of C#.</p><p>Going the other way requires an <em>explicit cast</em> as there is a chance that the <code>Student</code> we are casting <em>isn&rsquo;t</em> an undergraduate, i.e.:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>UndergraduateStudent</span> <span class=n>u</span> <span class=p>=</span> <span class=p>(</span><span class=n>UndergraduateStudent</span><span class=p>)</span><span class=n>sam</span><span class=p>;</span></span></span></code></pre></div><p>If we tried to cast <code>sam</code> into a graduate student:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>GraduateStudent</span> <span class=n>g</span> <span class=p>=</span> <span class=p>(</span><span class=n>GraduateStudent</span><span class=p>)</span><span class=n>sam</span><span class=p>;</span></span></span></code></pre></div><p>The program would throw an <code>InvalidCastException</code> when run.</p><h2 id=casting-and-interfaces>Casting and Interfaces</h2><p>Casting interacts similarly with interfaces. A class can be implicitly cast to an interface it implements:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>IJumpable</span> <span class=n>roo</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Kangaroo</span><span class=p>();</span></span></span></code></pre></div><p>But must be <em>explicitly</em> cast to convert it back into the class that implemented it:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>Kangaroo</span> <span class=n>k</span> <span class=p>=</span> <span class=p>(</span><span class=n>Kangaroo</span><span class=p>)</span><span class=n>roo</span><span class=p>;</span></span></span></code></pre></div><p>And if that cast is illegal, we&rsquo;ll throw an <code>InvalidCastException</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>Car</span> <span class=n>c</span> <span class=p>=</span> <span class=p>(</span><span class=n>Car</span><span class=p>)</span><span class=n>roo</span><span class=p>;</span></span></span></code></pre></div><h2 id=the-as-operator>The <code>as</code> Operator</h2><p>When we are casting reference and nullable types, we have an additional casting option - the <code>as</code> casting operator.</p><p>The <code>as</code> operator performs the cast, or evaluates to <code>null</code> if the cast fails (instead of throwing an <code>InvalidCastException</code>), i.e.:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>UndergraduateStudent</span> <span class=n>u</span> <span class=p>=</span> <span class=n>sam</span> <span class=k>as</span> <span class=n>UndergraduateStudent</span><span class=p>;</span> <span class=c1>// evaluates to an UndergraduateStudent </span>
</span></span><span class=line><span class=cl><span class=n>GraduateStudent</span> <span class=n>g</span> <span class=p>=</span> <span class=n>sam</span> <span class=k>as</span> <span class=n>GraduateStudent</span><span class=p>;</span> <span class=c1>// evaluates to null</span>
</span></span><span class=line><span class=cl><span class=n>Kangaroo</span> <span class=n>k</span> <span class=p>=</span> <span class=n>roo</span> <span class=k>as</span> <span class=n>Kangaroo</span><span class=p>;</span> <span class=c1>// evaluates to a Kangaroo </span>
</span></span><span class=line><span class=cl><span class=n>Car</span> <span class=n>c</span> <span class=p>=</span> <span class=n>roo</span> <span class=k>as</span> <span class=n>Kangaroo</span><span class=p>;</span> <span class=c1>// evaluates to null</span></span></span></code></pre></div><h2 id=the-is-operator>The <code>is</code> Operator</h2><p>Rather than performing a cast and catching the exception (or performing a null check when using the <code>as</code> operator), it is often useful to know if a cast is possible. This can be checked for with the <code>is</code> operator. It evaluates to a boolean, <code>true</code> if the cast is possible, <code>false</code> if not:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>sam</span> <span class=k>is</span> <span class=n>UndergraduateStudent</span><span class=p>;</span> <span class=c1>// evaluates to true</span>
</span></span><span class=line><span class=cl><span class=n>sam</span> <span class=k>is</span> <span class=n>GraduateStudent</span><span class=p>;</span> <span class=c1>// evaluates to false</span>
</span></span><span class=line><span class=cl><span class=n>roo</span> <span class=k>is</span> <span class=n>Kangaroo</span><span class=p>;</span> <span class=c1>// evaluates to true</span>
</span></span><span class=line><span class=cl><span class=n>roo</span> <span class=k>is</span> <span class=n>Car</span><span class=p>;</span> <span class=c1>// evaluates to false</span></span></span></code></pre></div><div class="box notices cstyle warning"><div class=box-label><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div><div class=box-content><p>The <code>is</code> operator does not work with user-defined casting operators, i.e. when used with the Rectangle/Square cast we defined above:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>Square</span> <span class=n>s</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Square</span><span class=p>(</span><span class=m>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>bool</span> <span class=n>test</span> <span class=p>=</span> <span class=n>s</span> <span class=k>is</span> <span class=n>Rectangle</span><span class=p>;</span></span></span></code></pre></div><p>The value of <code>test</code> will be <code>false</code>, even though we have a user-defined implicit cast that works.</p></div></div><p>The <code>is</code> operator is commonly used to determine if a cast will succeed before performing it, i.e.:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>if</span><span class=p>(</span><span class=n>sam</span> <span class=k>is</span> <span class=n>UndergraduateStudent</span><span class=p>)</span> 
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Undergraduate</span> <span class=n>samAsUGrad</span> <span class=p>=</span> <span class=n>sam</span> <span class=k>as</span> <span class=n>UndergraduateStudent</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>// TODO: Do something undergraduate-ey with samAsUGrad</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>This pattern was so commonly employed, it led to the addition of the <a href=https://docs.microsoft.com/en-us/dotnet/csharp/pattern-matching#the-is-type-pattern-expression rel=external target=_blank>is type pattern matching expression</a> in C# version 7.0:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>if</span><span class=p>(</span><span class=n>sam</span> <span class=k>is</span> <span class=n>UndergraduateStudent</span> <span class=n>samAsUGrad</span><span class=p>)</span> 
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// TODO: Do something undergraduate-y with samAsUGrad</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>If the cast is possible, it is performed and the result assigned to the provided variable name (in this case, <code>samAsUGrad</code>). This is another example of <a href=https://en.wikipedia.org/wiki/Syntactic_sugar rel=external target=_blank>syntactic sugar</a>.</p><footer class=footline></footer></article></div></main><div class=git-footer><p class=theme-version-footer>6.0.0</p><p>Last modified by:
<i class='fas fa-user'></i> Julie Thornton
<i class='fas fa-calendar'></i> <a href=https://github.com/ksu-cs-textbooks/cis400/commit/f70e810044d45afbcdf6f8532b834c53bf331afe>Feb 13, 2024</a></p></div></div><script src=/cis400/js/clipboard.min.js?1724766099 defer></script><script src=/cis400/js/perfect-scrollbar.min.js?1724766099 defer></script><script src=/cis400/js/theme.js?1724766099 defer></script></body></html>