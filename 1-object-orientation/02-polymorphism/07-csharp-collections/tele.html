<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="Collections in C# are a great example of polymorphism in action. Many collections utilize generics to allow the collection to hold an arbitrary type. For example, the List<T> can be used to hold strings, integers, or even specific objects:
List<string> strings = new List<string>(); List<int> ints = new List<int>(); List<Person> persons = new List<Person>();We can also use an interface as the type, as we did with the IJumpable interface as we discussed in the generics section, i."><meta name=author content="Nathan Bean"><meta name=twitter:card content="summary"><meta name=twitter:title content="C# Collections :: K-State CIS 400 Textbook"><meta name=twitter:description content="Collections in C# are a great example of polymorphism in action. Many collections utilize generics to allow the collection to hold an arbitrary type. For example, the List<T> can be used to hold strings, integers, or even specific objects:
List<string> strings = new List<string>(); List<int> ints = new List<int>(); List<Person> persons = new List<Person>();We can also use an interface as the type, as we did with the IJumpable interface as we discussed in the generics section, i."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis400/1-object-orientation/02-polymorphism/07-csharp-collections/"><meta property="og:site_name" content="K-State CIS 400 Textbook"><meta property="og:title" content="C# Collections :: K-State CIS 400 Textbook"><meta property="og:description" content="Collections in C# are a great example of polymorphism in action. Many collections utilize generics to allow the collection to hold an arbitrary type. For example, the List<T> can be used to hold strings, integers, or even specific objects:
List<string> strings = new List<string>(); List<int> ints = new List<int>(); List<Person> persons = new List<Person>();We can also use an interface as the type, as we did with the IJumpable interface as we discussed in the generics section, i."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Object-Orientation"><meta property="article:published_time" content="2018-08-24T10:53:26-05:00"><meta property="article:modified_time" content="2024-06-27T14:36:54-05:00"><meta itemprop=name content="C# Collections :: K-State CIS 400 Textbook"><meta itemprop=description content="Collections in C# are a great example of polymorphism in action. Many collections utilize generics to allow the collection to hold an arbitrary type. For example, the List<T> can be used to hold strings, integers, or even specific objects:
List<string> strings = new List<string>(); List<int> ints = new List<int>(); List<Person> persons = new List<Person>();We can also use an interface as the type, as we did with the IJumpable interface as we discussed in the generics section, i."><meta itemprop=datePublished content="2018-08-24T10:53:26-05:00"><meta itemprop=dateModified content="2024-06-27T14:36:54-05:00"><meta itemprop=wordCount content="607"><title>C# Collections :: K-State CIS 400 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis400/1-object-orientation/02-polymorphism/07-csharp-collections/ rel=canonical type=text/html title="C# Collections :: K-State CIS 400 Textbook"><link href=/cis400/1-object-orientation/02-polymorphism/07-csharp-collections/index.xml rel=alternate type=application/rss+xml title="C# Collections :: K-State CIS 400 Textbook"><link href=/cis400/1-object-orientation/02-polymorphism/07-csharp-collections/index.print.html rel=alternate type=text/html title="C# Collections :: K-State CIS 400 Textbook"><link href=/cis400/1-object-orientation/02-polymorphism/07-csharp-collections/embed.html rel=alternate type=text/html title="C# Collections :: K-State CIS 400 Textbook"><link href=/cis400/css/fontawesome-all.min.css?1731949285 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/fontawesome-all.min.css?1731949285 rel=stylesheet></noscript><link href=/cis400/css/nucleus.css?1731949285 rel=stylesheet><link href=/cis400/css/auto-complete.css?1731949285 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/auto-complete.css?1731949285 rel=stylesheet></noscript><link href=/cis400/css/perfect-scrollbar.min.css?1731949285 rel=stylesheet><link href=/cis400/css/fonts.css?1731949285 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/fonts.css?1731949285 rel=stylesheet></noscript><link href=/cis400/css/theme.css?1731949285 rel=stylesheet><link href=/cis400/css/theme-auto.css?1731949285 rel=stylesheet id=R-variant-style><link href=/cis400/css/chroma-auto.css?1731949285 rel=stylesheet id=R-variant-chroma-style><link href=/cis400/css/variant.css?1731949285 rel=stylesheet><link href=/cis400/css/print.css?1731949285 rel=stylesheet media=print><script src=/cis400/js/variant.js?1731949285></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis400",window.index_js_url="/cis400/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis400/css/custom.css?1731949285 rel=stylesheet></head><body class="mobile-support tele disableInlineCopyToClipboard" data-url=/cis400/1-object-orientation/02-polymorphism/07-csharp-collections/><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=c-collections>C# Collections</h1><p>Collections in C# are a great example of polymorphism in action. Many collections utilize <a href=/cis400/1-object-orientation/06-advanced-csharp/05-generics/>generics</a> to allow the collection to hold an arbitrary type. For example, the <code>List&lt;T></code> can be used to hold strings, integers, or even specific objects:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>List</span><span class=p>&lt;</span><span class=kt>string</span><span class=p>&gt;</span> <span class=n>strings</span> <span class=p>=</span> <span class=k>new</span> <span class=n>List</span><span class=p>&lt;</span><span class=kt>string</span><span class=p>&gt;();</span>
</span></span><span class=line><span class=cl><span class=n>List</span><span class=p>&lt;</span><span class=kt>int</span><span class=p>&gt;</span> <span class=n>ints</span> <span class=p>=</span> <span class=k>new</span> <span class=n>List</span><span class=p>&lt;</span><span class=kt>int</span><span class=p>&gt;();</span>
</span></span><span class=line><span class=cl><span class=n>List</span><span class=p>&lt;</span><span class=n>Person</span><span class=p>&gt;</span> <span class=n>persons</span> <span class=p>=</span> <span class=k>new</span> <span class=n>List</span><span class=p>&lt;</span><span class=n>Person</span><span class=p>&gt;();</span></span></span></code></pre></div><p>We can also use an interface as the type, as we did with the <code>IJumpable</code> interface as we discussed in the <a href=/cis400/1-object-orientation/06-advanced-csharp/05-generics/>generics section</a>, i.e.:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>List</span><span class=p>&lt;</span><span class=n>IJumpable</span><span class=p>&gt;</span> <span class=n>jumpables</span> <span class=p>=</span> <span class=k>new</span> <span class=n>List</span><span class=p>&lt;</span><span class=n>IJumpable</span><span class=p>&gt;();</span>
</span></span><span class=line><span class=cl><span class=n>jumpables</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=k>new</span> <span class=n>Kangaroo</span><span class=p>());</span>
</span></span><span class=line><span class=cl><span class=n>jumpables</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=k>new</span> <span class=n>Car</span><span class=p>());</span>
</span></span><span class=line><span class=cl><span class=n>jumpables</span><span class=p>.</span><span class=n>Add</span><span class=p>(</span><span class=k>new</span> <span class=n>Kangaroo</span><span class=p>());</span></span></span></code></pre></div><h2 id=collection-interfaces>Collection Interfaces</h2><p>The C# language and system libraries also define a number of interfaces that apply to custom collections. Implementing these interfaces allows different kinds of data structures to be utilized in a standardized way.</p><h3 id=the-ienumerablelttgt-interface>The IEnumerable&lt;T> Interface</h3><p>The first of these is the <code>IEnumerable&lt;T></code> interface, which requires the collection to implement one method:</p><ul><li><code>public IEnumerator&lt;T> GetEnumerator()</code></li></ul><p>Implementing this interface allows the collection to be used in a <code>foreach</code> loop.</p><h3 id=the-icollectionlttgt-interface>The ICollection&lt;T> Interface</h3><p>C# Collections also typically implement the <code>ICollection&lt;T></code> interface, which <em>extends</em> the <code>IEnumerable&lt;T></code> interface and adds additional methods:</p><ul><li><code>public void Add&lt;T>(T item)</code> adds <code>item</code> to the collection</li><li><code>public void Clear()</code> empties the collection</li><li><code>public bool Contains(T item)</code> returns <code>true</code> if <code>item</code> is in the collection, <code>false</code> if not.</li><li><code>public void CopyTo(T[] array, int arrayIndex)</code> copies the collection contents into <code>array</code>, starting at <code>arrayIndex</code>.</li><li><code>public bool Remove(T item)</code> removes <code>item</code> from the collection, returning <code>true</code> if item was removed, <code>false</code> otherwise</li></ul><p>Additionally, the collection must implement the following properties:</p><ul><li><code>int Count</code> the number of items in the collection</li><li><code>bool IsReadOnly</code> the collection is read-only (can&rsquo;t be added to or removed from)</li></ul><h3 id=the-ilistlttgt-interface>The IList&lt;T> Interface</h3><p>Finally, collections that have an implied order and are intended to be accessed by a specific index should probably implement the <code>IList&lt;T></code> interface, which extends <code>ICollection&lt;T></code> and <code>IEnumerable&lt;T></code>. This interface adds these additional methods:</p><ul><li><code>public int IndexOf(T item)</code> returns the index of <code>item</code> in the list, or -1 if not found</li><li><code>public void Insert(int index, T item)</code> Inserts <code>item</code> into the list at position <code>index</code></li><li><code>public void RemoveAt(int index)</code> Removes the item from the list at position <code>index</code></li></ul><p>The interface also adds the property:</p><ul><li><code>Item[int index]</code> which gets or sets the item at <code>index</code>.</li></ul><h2 id=collection-implementation-strategies>Collection Implementation Strategies</h2><p>When writing a C# collection, there are three general strategies you can follow to ensure you implement the corresponding interfaces:</p><ol><li>Write the entire class by scratch</li><li>Implement the interface methods as a <em>pass-through</em> to a system library collection</li><li>Inherit from a system library collection</li></ol><p>Writing collections from scratch was the strategy you utilized in CIS 300 - Data Structures and Algorithms. While this strategy gives you the most control, it is also the most time-consuming.</p><p>The pass-through strategy involves creating a system library collection, such as a <code>List&lt;T></code>, as a private field in your collection class. Then, when you implement the necessary interface methods, you simply <em>pass through</em> the call to the private collection. I.e.:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>PassThroughList</span><span class=p>&lt;</span><span class=n>T</span><span class=p>&gt;</span> <span class=p>:</span> <span class=n>IList</span><span class=p>&lt;</span><span class=n>T</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=n>List</span><span class=p>&lt;</span><span class=n>T</span><span class=p>&gt;</span> <span class=n>_list</span> <span class=p>=</span> <span class=k>new</span> <span class=n>List</span><span class=p>&lt;</span><span class=n>T</span><span class=p>&gt;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=n>IEnumerator</span><span class=p>&lt;</span><span class=n>T</span><span class=p>&gt;</span> <span class=n>GetEnumerator</span><span class=p>()</span> 
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>_list</span><span class=p>.</span><span class=n>GetEnumerator</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// TODO: Implement remaining methods and properties...</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>Using this approach, you can add whatever additional logic your collection needs into your pass-through methods without needing to re-implement the basic collection functionality.</p><p>Using inheritance gives your derived class all of the methods of the base class, so if you extend a class that already implements the collection interfaces, you&rsquo;ve already got all the methods!</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>InheritedList</span><span class=p>&lt;</span><span class=n>T</span><span class=p>&gt;</span> <span class=p>:</span> <span class=n>List</span><span class=p>&lt;</span><span class=n>T</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// All IList&lt;T&gt;, ICollection&lt;T&gt;, and IEnumerable&lt;T&gt; methods </span>
</span></span><span class=line><span class=cl>  <span class=c1>// from List&lt;T&gt; are already defined on InheritedList&lt;T&gt;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>However, most system collection class methods are not declared as <code>virtual</code>, so you cannot override them to add custom functionality.</p><footer class=footline></footer></article></div></main></div></div><script src=/cis400/js/clipboard.min.js?1731949285 defer></script><script src=/cis400/js/perfect-scrollbar.min.js?1731949285 defer></script><script src=/cis400/js/theme.js?1731949285 defer></script><script src=/cis400/js/tele-scroll.js?1731949285 defer></script></body></html>