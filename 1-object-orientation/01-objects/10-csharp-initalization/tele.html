<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="With our broader understanding of objects in memory, let’s re-examine something you’ve been working with already, how the values in that memory are initialized (set to their initial values). In C#, there are four primary ways a value is initialized:
By zeroing the memory By setting a default value By the constructor With Initialization syntax This also happens to be the order in which these operations occur - i.e. the default value can be overridden by code in the constructor."><meta name=author content="Nathan Bean"><meta name=twitter:card content="summary"><meta name=twitter:title content="C# Object Initialization :: K-State CIS 400 Textbook"><meta name=twitter:description content="With our broader understanding of objects in memory, let’s re-examine something you’ve been working with already, how the values in that memory are initialized (set to their initial values). In C#, there are four primary ways a value is initialized:
By zeroing the memory By setting a default value By the constructor With Initialization syntax This also happens to be the order in which these operations occur - i.e. the default value can be overridden by code in the constructor."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis400/1-object-orientation/01-objects/10-csharp-initalization/"><meta property="og:site_name" content="K-State CIS 400 Textbook"><meta property="og:title" content="C# Object Initialization :: K-State CIS 400 Textbook"><meta property="og:description" content="With our broader understanding of objects in memory, let’s re-examine something you’ve been working with already, how the values in that memory are initialized (set to their initial values). In C#, there are four primary ways a value is initialized:
By zeroing the memory By setting a default value By the constructor With Initialization syntax This also happens to be the order in which these operations occur - i.e. the default value can be overridden by code in the constructor."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Object-Orientation"><meta property="article:published_time" content="2018-08-24T10:53:26-05:00"><meta property="article:modified_time" content="2023-01-25T15:17:21-06:00"><meta itemprop=name content="C# Object Initialization :: K-State CIS 400 Textbook"><meta itemprop=description content="With our broader understanding of objects in memory, let’s re-examine something you’ve been working with already, how the values in that memory are initialized (set to their initial values). In C#, there are four primary ways a value is initialized:
By zeroing the memory By setting a default value By the constructor With Initialization syntax This also happens to be the order in which these operations occur - i.e. the default value can be overridden by code in the constructor."><meta itemprop=datePublished content="2018-08-24T10:53:26-05:00"><meta itemprop=dateModified content="2023-01-25T15:17:21-06:00"><meta itemprop=wordCount content="890"><title>C# Object Initialization :: K-State CIS 400 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis400/1-object-orientation/01-objects/10-csharp-initalization/ rel=canonical type=text/html title="C# Object Initialization :: K-State CIS 400 Textbook"><link href=/cis400/1-object-orientation/01-objects/10-csharp-initalization/index.xml rel=alternate type=application/rss+xml title="C# Object Initialization :: K-State CIS 400 Textbook"><link href=/cis400/1-object-orientation/01-objects/10-csharp-initalization/index.print.html rel=alternate type=text/html title="C# Object Initialization :: K-State CIS 400 Textbook"><link href=/cis400/1-object-orientation/01-objects/10-csharp-initalization/embed.html rel=alternate type=text/html title="C# Object Initialization :: K-State CIS 400 Textbook"><link href=/cis400/css/fontawesome-all.min.css?1737134606 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/fontawesome-all.min.css?1737134606 rel=stylesheet></noscript><link href=/cis400/css/nucleus.css?1737134606 rel=stylesheet><link href=/cis400/css/auto-complete.css?1737134606 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/auto-complete.css?1737134606 rel=stylesheet></noscript><link href=/cis400/css/perfect-scrollbar.min.css?1737134606 rel=stylesheet><link href=/cis400/css/fonts.css?1737134606 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/fonts.css?1737134606 rel=stylesheet></noscript><link href=/cis400/css/theme.css?1737134606 rel=stylesheet><link href=/cis400/css/theme-auto.css?1737134606 rel=stylesheet id=R-variant-style><link href=/cis400/css/chroma-auto.css?1737134606 rel=stylesheet id=R-variant-chroma-style><link href=/cis400/css/variant.css?1737134606 rel=stylesheet><link href=/cis400/css/print.css?1737134606 rel=stylesheet media=print><script src=/cis400/js/variant.js?1737134606></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis400",window.index_js_url="/cis400/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis400/css/custom.css?1737134606 rel=stylesheet></head><body class="mobile-support tele disableInlineCopyToClipboard" data-url=/cis400/1-object-orientation/01-objects/10-csharp-initalization/><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=c-object-initialization>C# Object Initialization</h1><p>With our broader understanding of objects in memory, let&rsquo;s re-examine something you&rsquo;ve been working with already, how the values in that memory are <em>initialized</em> (set to their initial values). In C#, there are four primary ways a value is initialized:</p><ol><li>By zeroing the memory</li><li>By setting a default value</li><li>By the constructor</li><li>With Initialization syntax</li></ol><p>This also happens to be the order in which these operations occur - i.e. the default value can be overridden by code in the constructor. Only after all of these steps are completed is the initialized object returned from the constructor.</p><h2 id=zeroing-the-memory>Zeroing the Memory</h2><p>This step is actually done for you - it is a feature of the C# language. Remember, allocated memory is simply a series of bits. Those bits have likely been used previously to represent something else, so they will already be set to 0s or 1s. Once you treat it as a variable, it will have a specific meaning. Consider this statement:</p><div class=highlight><pre tabindex=0><code>int foo;</code></pre></div><p>That statement allocates the space to hold the value of <code>foo</code>. But what is that value? In many older languages, it would be whatever is specified by how the bits were set previously - i.e. it could be any integer within the available range. And each time you ran the program, it would probably be a <em>different</em> value! This is why it is always a good idea to <em>assign</em> a value to a variable immediately after you declare it.</p><p>The creators of C# wanted to avoid this potential problem, so in C# any memory that is allocated by a variable declaration is also <em>zeroed</em> (all bits are set to 0). Exactly what this means depends on the variable&rsquo;s type. Essentially, for numerics (integers, floating points, etc) the value would be <code>0</code>, for booleans it would be <code>false</code>. And for reference types, the value would be <code>null</code>.</p><h2 id=default-values>Default Values</h2><p>A second way a field&rsquo;s value can be set is by assigning a default value after it is declared. Thus, if we have a private backing <code>_count</code> in our <code>CardDeck</code> class, we could set it to have a default value of 52:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>CardDeck</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=kt>int</span> <span class=n>_count</span> <span class=p>=</span> <span class=m>52</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>int</span> <span class=n>Count</span> 
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>get</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=n>_count</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>set</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>_count</span> <span class=p>=</span> <span class=k>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>This ensures that <code>_count</code> starts with a value of 52, instead of 0.</p><p>We can also set a default value when using auto-property syntax:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>CardDeck</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>int</span> <span class=n>Count</span> <span class=p>{</span><span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;}</span> <span class=p>=</span> <span class=m>52</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>It is important to understand that the default value is assigned <em>as the memory is allocated</em>, which means the object doesn&rsquo;t exist yet. Basically, we cannot use methods, fields, or properties of the class to set a default value. For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>CardDeck</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>int</span> <span class=n>Count</span> <span class=p>{</span><span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;}</span> <span class=p>=</span> <span class=m>52</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>int</span> <span class=n>PricePerCard</span> <span class=p>{</span><span class=k>get</span><span class=p>;}</span> <span class=p>=</span> <span class=m>5</span><span class=n>m</span> <span class=p>/</span> <span class=n>Count</span><span class=p>;</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>Won&rsquo;t compile, because we don&rsquo;t have access to the <code>Count</code> property when setting the default for <code>PricePerCard</code>.</p></div></div><h2 id=constructors>Constructors</h2><p>This brings us to the constructor, the standard way for an object-oriented program to initialize the state of the object as it is created. In C#, the constructor always has the same name as the class it constructs and has no return type. For example, if we defined a class <code>Square</code>, we might type:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>Square</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>float</span> <span class=n>length</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Square</span><span class=p>(</span><span class=kt>float</span> <span class=n>length</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=n>length</span> <span class=p>=</span> <span class=n>length</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>float</span> <span class=n>Area</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>length</span> <span class=p>*</span> <span class=n>length</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>Note that unlike the regular method, <code>Area()</code>, our constructor <code>Square()</code> does not have a return type. In the constructor, we set the <code>length</code> field of the newly constructed object to the value supplied as the parameter <code>length</code>. Note too that we use the <code>this</code> keyword to distinguish between the <em>field</em> <code>length</code> and the <em>parameter</em> <code>length</code>. Since both have the same name, the C# compiler assumes we mean the parameter, unless we use <code>this.length</code> to indicate the field that belongs to <code>this</code> - i.e. this object.</p><h3 id=parameterless-constructors>Parameterless Constructors</h3><p>A parameterless constructor is one that does not have any parameters. For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>Ball</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>int</span> <span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>int</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Ball</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>x</span> <span class=p>=</span> <span class=m>50</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>y</span> <span class=p>=</span> <span class=m>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>Notice how no parameters are defined for <code>Ball()</code> - the parentheses are empty.</p><p>If we don&rsquo;t provide a constructor for a class the C# compiler automatically creates a <em>parameterless</em> constructor for us, i.e. the class <code>Bat</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>Bat</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>bool</span> <span class=n>wood</span> <span class=p>=</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>Can be created by invoking <code>new Bat()</code>, even though we did not define a constructor for the class. If we define <em>any</em> constructors, parameterless or otherwise, then the C# compiler will not create an automatic parameterless constructor.</p><h2 id=initializer-syntax>Initializer Syntax</h2><p>Finally, C# introduces some special syntax for setting initial values after the constructor code has run, but before initialization is completed - <a href=https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/object-and-collection-initializers rel=external target=_blank>Object initializers</a>. For example, if we have a class representing a rectangle:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>Rectangle</span> 
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>int</span> <span class=n>Width</span> <span class=p>{</span><span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;}</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>int</span> <span class=n>Height</span> <span class=p>{</span><span class=k>get</span><span class=p>;</span> <span class=k>set</span><span class=p>;}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>We could initialize it with:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>Rectangle</span> <span class=n>r</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Rectangle</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>Width</span> <span class=p>=</span> <span class=m>20</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=n>Height</span> <span class=p>=</span> <span class=m>10</span>
</span></span><span class=line><span class=cl><span class=p>};</span></span></span></code></pre></div><p>The resulting rectangle would have its width and height set to 20 and 10 respectively <em>before</em> it was assigned to the variable <code>r</code>.</p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>In addition to the <code>get</code> and <code>set</code> accessor, C# has an <code>init</code> operator that works like the <code>set</code> operator but can <em>only</em> be used during object initialization.</p></div></div><footer class=footline></footer></article></div></main></div></div><script src=/cis400/js/clipboard.min.js?1737134606 defer></script><script src=/cis400/js/perfect-scrollbar.min.js?1737134606 defer></script><script src=/cis400/js/theme.js?1737134606 defer></script><script src=/cis400/js/tele-scroll.js?1737134606 defer></script></body></html>