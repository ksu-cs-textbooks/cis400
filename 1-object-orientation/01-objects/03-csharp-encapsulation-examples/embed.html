




	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		
		

	
	
		

	
	
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="K-State CIS 400 Textbook">
    <meta name="author" content="Nathan Bean">
    <title>C# Encapsulation Examples :: K-State CIS 400 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cis400/1-object-orientation/01-objects/03-csharp-encapsulation-examples/index.html" rel="canonical" type="text/html" title="C# Encapsulation Examples :: K-State CIS 400 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis400/1-object-orientation/01-objects/03-csharp-encapsulation-examples/index.xml" rel="alternate" type="application/rss+xml" title="C# Encapsulation Examples :: K-State CIS 400 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis400/1-object-orientation/01-objects/03-csharp-encapsulation-examples/index.print.html" rel="alternate" type="text/html" title="C# Encapsulation Examples :: K-State CIS 400 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis400/1-object-orientation/01-objects/03-csharp-encapsulation-examples/tele.html" rel="alternate" type="text/html" title="C# Encapsulation Examples :: K-State CIS 400 Textbook">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/fontawesome-all.min.css?1692654766" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis400/css/fontawesome-all.min.css?1692654766" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/nucleus.css?1692654766" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/auto-complete.css?1692654766" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis400/css/auto-complete.css?1692654766" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/perfect-scrollbar.min.css?1692654766" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/fonts.css?1692654766" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis400/css/fonts.css?1692654766" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/theme.css?1692654766" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/theme-auto.css?1692654766" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/variant.css?1692654766" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/print.css?1692654766" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/ie.css?1692654766" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/url.js?1692654766"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/variant.js?1692654766"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cis400/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cis400/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cis400/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/custom.css?1692654766" rel="stylesheet">

  </head>
  <body class="mobile-support embed disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cis400/1-object-orientation/01-objects/03-csharp-encapsulation-examples/embed.html">
    <div id="body" class="default-animation">
      
      
      
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
    
    
    
<p>Let&rsquo;s start by focusing on encapsulation&rsquo;s benefits to organizing our code by exploring some examples of encapsulation you may already be familiar with.</p>
<h2 id="namespaces">Namespaces</h2>
<p>The C# libraries are organized into discrete units called <strong><em>namespaces</em></strong>.  The primary purpose of this is to separate code units that potentially use the same name, which causes <em>name collisions</em> where the interpreter isn’t sure which of the possibilities you mean in your program.  This means you can use the same name to refer to two different things in your program, provided they are in different namespaces.</p>
<p>For example, there are two definitions for a Point Struct in the .NET core libraries: <a href="https://docs.microsoft.com/en-us/dotnet/api/system.drawing.point" target="_blank">System.Drawing.Point</a>
 and <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.point" target="_blank">System.Windows.Point</a>
.  The two have a very different internal structures (the former uses integers and the latter doubles), and we would not want to mix them up.  If we needed to create an instance of both in our program, we would use their fully-quantified name to help the interpreter know which we mean:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>System.Drawing.Point pointA = <span style="color:#66d9ef">new</span> System.Drawing.Point(<span style="color:#ae81ff">500</span>, <span style="color:#ae81ff">500</span>);
</span></span><span style="display:flex;"><span>System.Windows.Point pointB = <span style="color:#66d9ef">new</span> System.Windows.Point(<span style="color:#ae81ff">300.0</span>, <span style="color:#ae81ff">200.0</span>);</span></span></code></pre></div><p>The <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/using-directive" target="_blank">using directive</a>
 allows you reference the type without quantification, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Drawing;
</span></span><span style="display:flex;"><span>Point pointC = <span style="color:#66d9ef">new</span> Point(<span style="color:#ae81ff">400</span>, <span style="color:#ae81ff">400</span>);</span></span></code></pre></div><p>You can also create an <em>alias</em> with the using directive, providing an alternative (and usually abbreviated) name for the type:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">using</span> WinPoint = System.Windows.Point;
</span></span><span style="display:flex;"><span>WinPoint pointD = <span style="color:#66d9ef">new</span> WinPoint(<span style="color:#ae81ff">100.0</span>, <span style="color:#ae81ff">100.0</span>);</span></span></code></pre></div><p>We can also declare our own namespaces, allowing us to use namespaces to organize our own code just as Microsoft has done with its .NET libraries.</p>
<p>Encapsulating code within a namespace helps ensure that the types defined within are only accessible with a fully qualified name, or when the using directive is employed.  In either case, the intended type is clear, and knowing the namespace can help other programmers find the type’s definition.</p>
<h2 id="structs">Structs</h2>
<p>In the discussion of namespaces, we used a <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/struct" target="_blank">struct</a>
.  A C# struct is what computer scientists refer to as a <em><a href="https://en.wikipedia.org/wiki/Composite_data_type" target="_blank">compound type</a>
</em>, a type <em>composed</em> from other types.  This too, is a form of encapsulation, as it allows us to collect several values into a single data structure.  Consider the concept of a vector from mathematics - if we wanted to store three-dimensional vectors in a program, we could do so in several ways.  Perhaps the easiest would be as an array:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">double</span>[] vectorA = {<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>};</span></span></code></pre></div><p>However, other than the variable name, there is no indication to other programmers that this is intended to be a three-element vector.  And, if we were to accept it in a function, say a dot product:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> DotProduct(<span style="color:#66d9ef">double</span>[] a, <span style="color:#66d9ef">double</span>[] b) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(a.Length &lt; <span style="color:#ae81ff">3</span> || b.Length &lt; <span style="color:#ae81ff">3</span>) <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> ArgumentException();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> a[<span style="color:#ae81ff">0</span>] * b[<span style="color:#ae81ff">0</span>] + a[<span style="color:#ae81ff">1</span>] * b[<span style="color:#ae81ff">1</span>] + a[<span style="color:#ae81ff">2</span>] * b[<span style="color:#ae81ff">2</span>];
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>We would need to check that both arrays were of length three…  A struct provides a much cleaner option, by allowing us to define a type that is composed of exactly three doubles:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A 3-element vector </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Vector3</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> x;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> y;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> z;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Vector3(<span style="color:#66d9ef">double</span> x, <span style="color:#66d9ef">double</span> y, <span style="color:#66d9ef">double</span> z) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.x = x;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.y = y;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.z = z;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Then, our DotProduct can take two arguments of the Vector3 struct:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> DotProduct(Vector3 a, Vector3 b) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> a.x * b.x + a.y * b.y + a.z * b.z;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>There is no longer any concern about having the wrong number of elements in our vectors - it will always be three.  We also get the benefit of having unique names for these <em>fields</em> (in this case, x, y, and z).</p>
<p>Thus, a struct allows us to create <em>structure</em> to represent multiple values in one variable, encapsulating the related values into a single data structure.  Variables, and compound data types, represent the <em>state</em> of a program.  We’ll examine this concept in detail next.</p>
<h2 id="modules">Modules</h2>
<p>You might think that the kind of modules that Parnas was describing don&rsquo;t exist in C#, but they actually do - we just don&rsquo;t call them &lsquo;modules&rsquo;.  Consider how you would raise a number by a power, say 10 to the 8th power:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Math.Pow(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">8</span>);</span></span></code></pre></div><p>The <code>Math</code> class in this example is actually used <em>just like a module!</em>  We can&rsquo;t see the underlying implementation of the <code>Pow()</code> method, it provides to us a well-defined interface (i.e. you call it with the symbol <code>Pow</code> and two doubles for parameters), and this method and other related math functions (<code>Sin()</code>, <code>Abs()</code>, <code>Floor()</code>, etc.) are encapsulated within the <code>Math</code> class.</p>
<p>We can define our own module-like classes by using the <code>static</code> keyword, i.e. we could group our vector math functions into a static <code>VectorMath</code> class:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A library of vector math functions</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">VectorMath</span>() {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Computes the dot product of two vectors </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">double</span> DotProduct(Vector3 a, Vector3 b) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> a.x * b.x + a.y * b.y + a.z * b.z;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Computes the magnitude of a vector</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">double</span> Magnitude(Vector3 a) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> Math.Sqrt(Math.Pow(a.x, <span style="color:#ae81ff">2</span>) + Math.Pow(a.y, <span style="color:#ae81ff">2</span>) + Math.Pow(a.z, <span style="color:#ae81ff">2</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  
  
<div class="box notices cstyle note">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-circle"></i> Note</div>
  <div class="box-content">

<p>To duplicate the module behavior with C#, we must declare both the class and its methods <code>static</code>.</p>
</div>
</div>
<h2 id="classes">Classes</h2>
<p>But what most distinguishes C# is that it is an <em>object-oriented</em> language, and as such, it&rsquo;s primary form of encapsulation is <em>classes</em> and <em>objects</em>.  The key idea behind encapsulation in an object-oriented language is that we encapsulate both <em>state</em> and <em>behavior</em> in the class definition.  Let&rsquo;s explore that idea more deeply in the next section.</p>

            <footer class="footline">

            </footer>
          </article>
        </div>
      </main>
    </div>
    
    
    
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/clipboard.min.js?1692654767" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/perfect-scrollbar.min.js?1692654767" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/theme.js?1692654767" defer></script>
  </body>
</html>
