<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="We often talk about the class as a blueprint for an object. This is because classes define what properties and methods an object should have, in the form of the class definition. An object is created from this blueprint by invoking the class’ constructor. Consider this class representing a planet:
/// <summary> /// A class representing a planet // </summary> public class Planet { /// <summary> /// The planet's mass in Earth Mass units (~5."><meta name=author content="Nathan Bean"><meta name=twitter:card content="summary"><meta name=twitter:title content="Objects in Memory :: K-State CIS 400 Textbook"><meta name=twitter:description content="We often talk about the class as a blueprint for an object. This is because classes define what properties and methods an object should have, in the form of the class definition. An object is created from this blueprint by invoking the class’ constructor. Consider this class representing a planet:
/// <summary> /// A class representing a planet // </summary> public class Planet { /// <summary> /// The planet's mass in Earth Mass units (~5."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis400/1-object-orientation/01-objects/09-objects-in-memory/embed.html"><meta property="og:site_name" content="K-State CIS 400 Textbook"><meta property="og:title" content="Objects in Memory :: K-State CIS 400 Textbook"><meta property="og:description" content="We often talk about the class as a blueprint for an object. This is because classes define what properties and methods an object should have, in the form of the class definition. An object is created from this blueprint by invoking the class’ constructor. Consider this class representing a planet:
/// <summary> /// A class representing a planet // </summary> public class Planet { /// <summary> /// The planet's mass in Earth Mass units (~5."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Object-Orientation"><meta property="article:published_time" content="2018-08-24T10:53:26-05:00"><meta property="article:modified_time" content="2023-09-01T09:30:51-05:00"><meta itemprop=name content="Objects in Memory :: K-State CIS 400 Textbook"><meta itemprop=description content="We often talk about the class as a blueprint for an object. This is because classes define what properties and methods an object should have, in the form of the class definition. An object is created from this blueprint by invoking the class’ constructor. Consider this class representing a planet:
/// <summary> /// A class representing a planet // </summary> public class Planet { /// <summary> /// The planet's mass in Earth Mass units (~5."><meta itemprop=datePublished content="2018-08-24T10:53:26-05:00"><meta itemprop=dateModified content="2023-09-01T09:30:51-05:00"><meta itemprop=wordCount content="1189"><title>Objects in Memory :: K-State CIS 400 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis400/1-object-orientation/01-objects/09-objects-in-memory/ rel=canonical type=text/html title="Objects in Memory :: K-State CIS 400 Textbook"><link href=/cis400/1-object-orientation/01-objects/09-objects-in-memory/index.xml rel=alternate type=application/rss+xml title="Objects in Memory :: K-State CIS 400 Textbook"><link href=/cis400/1-object-orientation/01-objects/09-objects-in-memory/index.print.html rel=alternate type=text/html title="Objects in Memory :: K-State CIS 400 Textbook"><link href=/cis400/1-object-orientation/01-objects/09-objects-in-memory/tele.html rel=alternate type=text/html title="Objects in Memory :: K-State CIS 400 Textbook"><link href=/cis400/css/fontawesome-all.min.css?1724857962 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/fontawesome-all.min.css?1724857962 rel=stylesheet></noscript><link href=/cis400/css/nucleus.css?1724857962 rel=stylesheet><link href=/cis400/css/auto-complete.css?1724857962 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/auto-complete.css?1724857962 rel=stylesheet></noscript><link href=/cis400/css/perfect-scrollbar.min.css?1724857962 rel=stylesheet><link href=/cis400/css/fonts.css?1724857962 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/fonts.css?1724857962 rel=stylesheet></noscript><link href=/cis400/css/theme.css?1724857962 rel=stylesheet><link href=/cis400/css/theme-light-theme.css?1724857962 rel=stylesheet id=R-variant-style><link href=/cis400/css/chroma-relearn-light.css?1724857962 rel=stylesheet id=R-variant-chroma-style><link href=/cis400/css/variant.css?1724857962 rel=stylesheet><link href=/cis400/css/print.css?1724857962 rel=stylesheet media=print><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis400",window.index_js_url="/cis400/index.search.js",window.variants&&variants.init(["light-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis400/css/custom.css?1724857962 rel=stylesheet></head><body class="mobile-support embed disableInlineCopyToClipboard" data-url=/cis400/1-object-orientation/01-objects/09-objects-in-memory/embed.html><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><p>We often talk about the <strong><em>class</em></strong> as a <em>blueprint</em> for an <strong><em>object</em></strong>. This is because classes define what properties and methods an object should have, in the form of the class definition. An object is created from this blueprint by invoking the class&rsquo; <strong>constructor</strong>. Consider this class representing a planet:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl><span class=cs>/// A class representing a planet</span>
</span></span><span class=line><span class=cl><span class=c1>// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>Planet</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// The planet&#39;s mass in Earth Mass units (~5.9722 x 10^24kg)</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>double</span> <span class=n>mass</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>double</span> <span class=n>Mass</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>get</span> <span class=p>{</span> <span class=k>return</span> <span class=n>mass</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// The planet&#39;s radius in Earth Radius units (~6.738 x 10^6m)</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;/summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>double</span> <span class=n>radius</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>double</span> <span class=n>Radius</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>get</span> <span class=p>{</span> <span class=k>return</span> <span class=n>radius</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;summary&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// Constructs a new planet</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;param name=&#34;mass&#34;&gt;The planet&#39;s mass&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>    <span class=cs>/// &lt;param name=&#34;radius&#34;&gt;The planet&#39;s radius&lt;/param&gt;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Planet</span><span class=p>(</span><span class=kt>double</span> <span class=n>mass</span><span class=p>,</span> <span class=kt>double</span> <span class=n>radius</span><span class=p>)</span> 
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=n>mass</span> <span class=p>=</span> <span class=n>mass</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=n>radius</span> <span class=p>=</span> <span class=n>radius</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>It describes a planet as having a mass and a radius. But a class does more than just labeling the properties and fields and providing methods to mutate the state they contain. It also specifies how <em>memory needs to be allocated</em> to hold those values as the program runs. In memory, we would need to hold <em>both</em> the mass and radius values. These are stored side-by-side, as a series of bits that are on or off. You probably remember from CIS 115 that a <code>double</code> is stored as a <strong>sign bit</strong>, <strong>mantissa</strong> and <strong>exponent</strong>. This is also the case here - a C# <code>double</code> requires 64 bits to hold these three parts, and we can represent it with a memory diagram:</p><p><a href=#R-image-8bc2b98a9c0ee6393a479ca20c9a7e1f class=lightbox-link><img alt="The Planet memory diagram" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/1.1.7.1.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8bc2b98a9c0ee6393a479ca20c9a7e1f><img alt="The Planet memory diagram" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/1.1.7.1.png></a></p><p>We can create a specific planet by invoking its constructor, i.e.:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>new</span> <span class=n>Planet</span><span class=p>(</span><span class=m>1</span><span class=p>,</span> <span class=m>1</span><span class=p>);</span></span></span></code></pre></div><p>This <em>allocates</em> (sets aside) the memory to hold the planet, and populates the mass and radius with the supplied values. We can represent this with a memory diagram:</p><p><a href=#R-image-addd759ea233c5ecb47d95b84ae21371 class=lightbox-link><img alt="The constructed planet&rsquo;s memory diagram" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/1.1.7.2.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-addd759ea233c5ecb47d95b84ae21371><img alt="The constructed planet&rsquo;s memory diagram" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/1.1.7.2.png></a></p><p>With memory diagrams, we typically write the values of variables in their human-readable form. Technically the values we are storing are in binary, and would each be <code>0000000000010000000000000000000000000000000000000000000000000001</code>, so our overall object would be the bits: <code>00000000000100000000000000000000000000000000000000000000000000010000000000010000000000000000000000000000000000000000000000000001</code>.</p><p>And this is <em>exactly</em> how it is stored in memory! The nice boxes we drew in our memory diagram are a tool for us to reason about the memory, <strong>not</strong> something that actually exists in memory. Instead, the compiler determines the starting point for each <code>double</code> by looking at the structure defined in our <code>class</code>, i.e. the first field defined is <code>mass</code>, so it will be the first 64 bits of the object in memory. The second field is <code>radius</code>, so it starts 65 bits into the object and consists of the next (and final) 64 bits.</p><p>If we assign the created <code>Planet</code> object to a variable, we allocate memory for that variable:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>Planet</span> <span class=n>earth</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Planet</span><span class=p>(</span><span class=m>1</span><span class=p>,</span> <span class=m>1</span><span class=p>);</span></span></span></code></pre></div><p>Unlike our <code>double</code> and other primitive values, this allocated memory holds a <em>reference</em> (a starting address of the memory where the object was allocated). We indicate this with a box and arrow connecting the variable and object in our memory diagram:</p><p><a href=#R-image-94c64d37ed8391738ca1193a02028cee class=lightbox-link><img alt="The memory diagram for the earth variable" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/1.1.7.3.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-94c64d37ed8391738ca1193a02028cee><img alt="The memory diagram for the earth variable" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/1.1.7.3.png></a></p><p>A reference is either 32 bits (on a computer with a 32-bit CPU) or 64 bits (on a computer with a 64-bit CPU), and essentially is an offset from the memory address $0$ indicating where the object will be located in memory (in the computer&rsquo;s RAM). You&rsquo;ll see this in far more detail in <strong>CIS 450 - Computer Architecture and Operations</strong>, but the important idea for now is the variable stores <em>where the object is located in memory</em> <strong>not</strong> <em>the object&rsquo;s data itself</em>. This is also why if we define a class variable but don&rsquo;t assign it an object, i.e.:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>Planet</span> <span class=n>mars</span><span class=p>;</span></span></span></code></pre></div><p><a href=#R-image-8b657958dc25e26e7b8f4bf6c584504f class=lightbox-link><img alt="The memory diagram for the mars variable" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/1.1.7.4.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8b657958dc25e26e7b8f4bf6c584504f><img alt="The memory diagram for the mars variable" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/1.1.7.4.png></a></p><p>The value of this variable will be <code>null</code>. It&rsquo;s because it doesn&rsquo;t point anywhere!</p><p>Returning to our Earth example, <code>earth</code> is an <em>instance</em> of the class <code>Planet</code>. We can create other instances, i.e.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>Planet</span> <span class=n>mars</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Planet</span><span class=p>(</span><span class=m>0.107</span><span class=p>,</span> <span class=m>0.53</span><span class=p>);</span></span></span></code></pre></div><p><a href=#R-image-06f271d7f956efb06a25368de5512273 class=lightbox-link><img alt="The memory diagram for the initialized mars variable" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/1.1.7.5.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-06f271d7f956efb06a25368de5512273><img alt="The memory diagram for the initialized mars variable" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/1.1.7.5.png></a></p><p>We can even create a <strong>Planet</strong> instance to represent one of the exoplanets discovered by <a href=https://www.nasa.gov/tess-transiting-exoplanet-survey-satellite rel=external target=_blank title="Testing Exoplanet Survey Satellite">NASA’s TESS</a>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>Planet</span> <span class=n>hd21749b</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Planet</span><span class=p>(</span><span class=m>23.20</span><span class=p>,</span> <span class=m>2.836</span><span class=p>);</span></span></span></code></pre></div><p><a href=#R-image-0c70ef1dd074ad43fc781f9aa8fcfb42 class=lightbox-link><img alt="The memory diagram for three planets" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/1.1.7.6.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-0c70ef1dd074ad43fc781f9aa8fcfb42><img alt="The memory diagram for three planets" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/1.1.7.6.png></a></p><p>Let’s think more deeply about the idea of a class as a blueprint. A blueprint for what, exactly? For one thing, it serves to describe the <em>state</em> of the object, and helps us label that state. If we were to check our variable <strong>mars’</strong> radius, we do so based on the property <strong>Radius</strong> defined in our class:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>mars</span><span class=p>.</span><span class=n>Radius</span></span></span></code></pre></div><p>This would follow the <code>mars</code> reference to the <code>Planet</code> object it represents, and access the second group of 64 bits stored there, interpreting them as a <code>double</code> (basically it adds 64 to the <code>reference</code> address and then reads the next 64 bits)</p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>Incidentally, this is why we start counting at 0 in computer science. The <code>mass</code> bits start at the start of our <code>Planet</code> object, referenced by <code>mars</code> i.e. if <code>mars</code> holds the reference address $5234$, then the bits of <code>mass</code> <em>also</em> begin at $5234$, or $5234+0$. And the <code>radius</code> bits start at $5234 + 64$.</p></div></div><p>State and memory are clearly related - the current state is what data is stored in memory. It is possible to take that memory’s current state, write it to persistent storage (like the hard drive), and then read it back out at a later point in time and restore the program to exactly the state we left it with. This is actually what Windows does when you put it into hibernation mode.</p><p>The process of writing out the state is known as <em>serialization</em>, and it’s a topic we’ll revisit later.</p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><h4 id=the-static-modifier-and-memory>The Static Modifier and Memory</h4><p>You might have wondered how the <code>static</code> modifier plays into objects. Essentially, the <code>static</code> keyword indicates the field or method it modifies <em>exists in only one memory location</em>. I.e. a static field references the <em>same</em> memory location for all objects that possess it. Hence, if we had a simple class like:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=k>class</span> <span class=nc>Simple</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kd>static</span> <span class=kt>int</span> <span class=n>A</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=kt>int</span> <span class=n>B</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=n>Simple</span><span class=p>(</span><span class=kt>int</span> <span class=n>a</span><span class=p>,</span> <span class=kt>int</span> <span class=n>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=n>A</span> <span class=p>=</span> <span class=n>a</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=n>B</span> <span class=p>=</span> <span class=n>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>And created a couple of instances:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>Simple</span> <span class=n>first</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Simple</span><span class=p>(</span><span class=m>10</span><span class=p>,</span> <span class=m>12</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>Simple</span> <span class=n>second</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Simple</span><span class=p>(</span><span class=m>8</span><span class=p>,</span> <span class=m>5</span><span class=p>);</span></span></span></code></pre></div><p>The value of <code>first.A</code> would be 8 - because <code>first.A</code> and <code>second.A</code> reference the <em>same</em> memory location, and <code>second.A</code> was set <em>after</em> <code>first.A</code>. If we changed it again:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>first</span><span class=p>.</span><span class=n>A</span> <span class=p>=</span> <span class=m>3</span><span class=p>;</span></span></span></code></pre></div><p>Then both <code>first.A</code> and <code>second.A</code> would have the value 3, as they share the same memory. <code>first.B</code> would still be 12, and <code>second.B</code> would be 5.</p><p>Another way to think about <code>static</code> is that it means the field or method we are modifying belongs to the <em>class</em> and not the individual <em>object</em>. Hence, each object <em>shares</em> a <code>static</code> variable, because it belongs to their class. Used on a method, <code>static</code> indicates that the method belongs to the class definition, not the object instance. Hence, we must invoke it <em>from the class</em>, not an object instance: i.e. <code>Math.Pow()</code>, not <code>Math m = new Math(); m.Pow();</code>.</p><p>Finally, when used with a class, <code>static</code> indicates we can&rsquo;t create objects from the class - the class definition exists on its own. Hence, the <code>Math m = new Math();</code> is actually an error, as the <code>Math</code> class is declared static.</p></div></div><footer class=footline></footer></article></div></main></div><script src=/cis400/js/clipboard.min.js?1724857962 defer></script><script src=/cis400/js/perfect-scrollbar.min.js?1724857962 defer></script><script src=/cis400/js/theme.js?1724857962 defer></script><script src=/cis400/js/embed-iframe.js?1724857962 defer></script></body></html>