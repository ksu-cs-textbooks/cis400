




	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		

	
	
		
		
		

	
	
		

	
	
		
		

	
	
		
		
		
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.117.0">
    <meta name="generator" content="Relearn 5.18.0">
    <meta name="description" content="K-State CIS 400 Textbook">
    <meta name="author" content="Nathan Bean">
    <title>Object-Orientation :: K-State CIS 400 Textbook</title>
    <link href="https://ksu-cs-textbooks.github.io/cis400/1-object-orientation/index.html" rel="canonical" type="text/html" title="Object-Orientation :: K-State CIS 400 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis400/1-object-orientation/index.xml" rel="alternate" type="application/rss+xml" title="Object-Orientation :: K-State CIS 400 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis400/1-object-orientation/tele.html" rel="alternate" type="text/html" title="Object-Orientation :: K-State CIS 400 Textbook">
    <link href="https://ksu-cs-textbooks.github.io/cis400/1-object-orientation/embed.html" rel="alternate" type="text/html" title="Object-Orientation :: K-State CIS 400 Textbook">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/fontawesome-all.min.css?1713819108" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis400/css/fontawesome-all.min.css?1713819108" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/nucleus.css?1713819108" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/auto-complete.css?1713819108" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis400/css/auto-complete.css?1713819108" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/perfect-scrollbar.min.css?1713819108" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/fonts.css?1713819108" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="https://ksu-cs-textbooks.github.io/cis400/css/fonts.css?1713819108" rel="stylesheet"></noscript>
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/theme.css?1713819108" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/theme-auto.css?1713819108" rel="stylesheet" id="variant-style">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/variant.css?1713819108" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/print.css?1713819108" rel="stylesheet" media="print">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/format-print.css?1713819108" rel="stylesheet">
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/ie.css?1713819108" rel="stylesheet">
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/url.js?1713819108"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/variant.js?1713819108"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="https://ksu-cs-textbooks.github.io/cis400/index.search.js";
      var root_url="https://ksu-cs-textbooks.github.io/cis400/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = 'Copy to clipboard';
      window.T_Copied_to_clipboard = 'Copied to clipboard!';
      window.T_Copy_link_to_clipboard = 'Copy link to clipboard';
      window.T_Link_copied_to_clipboard = 'Copied link to clipboard!';
      window.T_No_results_found = 'No results found for \u0022{0}\u0022';
      window.T_N_results_found = '{1} results found for \u0022{0}\u0022';
      // some further base stuff
      var baseUriFull='https:\/\/ksu-cs-textbooks.github.io\/cis400/';
      window.variants && variants.init( [ 'auto', 'light-theme', 'dark-theme' ] );
    </script>
    
    <link href="https://ksu-cs-textbooks.github.io/cis400/css/custom.css?1713819108" rel="stylesheet">

  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="https://ksu-cs-textbooks.github.io/cis400/1-object-orientation/index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div id="top-tele-link">
            <a class="print-link" title='Teleprompter View' href="https://ksu-cs-textbooks.github.io/cis400/1-object-orientation/tele.html">
              <i class="fas fa-tv fa-fw"></i>
            </a>
          </div>
          <div id="top-embed-link">
            <a class="print-link" title='Embeddable Version' href="https://ksu-cs-textbooks.github.io/cis400/1-object-orientation/embed.html">
              <i class="fas fa-expand-arrows-alt fa-fw"></i>
            </a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" class="topbar-link" title='Menu (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="https://ksu-cs-textbooks.github.io/cis400/index.html"><span itemprop="name">CIS 400: Object-Oriented Design, Implementation, and Testing</span></a><meta itemprop="position" content="1"> &gt; </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Object-Orientation</span><meta itemprop="position" content="2"></li>
            </ol>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable chapter narrow" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter I</div>
<h1 id="object-orientation">Object-Orientation</h1>

<p>Every object tells a story</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Object-Orientation</h1>
    
    
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 0</div>
<h1 id="introduction">Introduction</h1>

<p>Setting the Stage</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Introduction</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="introduction">Introduction</h1>

<p>Before we delve too deeply into how to reason about Object-Orientation and how to utilize it in your programming efforts, it would be useful to understand <em>why</em> object-orientation came to exist.  This initial chapter seeks to explore the origins behind object-oriented programming.</p>
<h2 id="key-terms">Key Terms</h2>
<p>Some key terms to learn in this chapter are:</p>
<ul>
<li>The Software Crisis</li>
<li>GOTO statements</li>
<li>Programming Language Paradigm</li>
<li>Imperative Programming</li>
<li>Functional Programming</li>
<li>Structured Programming</li>
<li>Object-Orientation</li>
</ul>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="the-growth-of-computing">The Growth of Computing</h1>

<p>By this point, you should be familiar enough with the history of computers to be aware of the evolution from the massive room-filling vacuum tube implementations of ENIAC, UNIVAC, and other first-generation computers to transistor-based mainframes like the PDP-1, and the eventual introduction of the microcomputer (desktop computers that are the basis of the modern PC) in the late 1970&rsquo;s.  Along with a declining size, each generation of these machines also cost less:</p>
<table>
 <tr>
    <th>Machine</th>
    <th>Release Year</th>
    <th>Cost at Release</th>
    <th>Adjusted for Inflation</th>
  </tr>
  <tr>
    <td>ENIAC</td>
    <td>1945</td>
    <td>$400,000</td>
    <td>$5,288,143</td>
  </tr>
  <tr>
    <td>UNIVAC</td>
    <td>1951</td>
    <td>$159,000</td>
    <td>$1,576,527</td>
  </tr>
  <tr>
    <td>PDP-1</td>
    <td>1963</td>
    <td>$120,000</td>
    <td>$1,010,968</td>
  </tr>
  <tr>
    <td>Commodore PET</td>
    <td>1977</td>
    <td>$795</td>
    <td>$5,282</td>
  </tr>
  <tr>
    <td>Apple II (4K RAM model)</td>
    <td>1977</td>
    <td>$1,298</td>
    <td>$8,624</td>
  </tr>
  <tr>
    <td>IBM PC</td>
    <td>1981</td>
    <td>$1,565</td>
    <td>$4,438</td>
  </tr>
  <tr>
    <td>Commodore 64</td>
    <td>1982</td>
    <td>$595</td>
    <td>$1,589</td>
  </tr>
</table>
<p>This increase in affordability was also coupled with an increase in computational power.  Consider the ENIAC, which computed at 100,000 cycles per second.  In contrast, the relatively inexpensive Commodore 64 ran at 1,000,000 cycles per second, while the more pricy IBM PC ran at 4,770,000 cycles per second.</p>
<p>Not surprisingly, governments, corporations, schools, and even individuals purchased computers in larger and larger quantities, and the demand for software to run on these platforms and meet these customers&rsquo; needs likewise grew. Moreover, the sophistication expected from this software also grew.  Edsger Dijkstra described it in these terms:</p>
<blockquote>
The major cause of the software crisis is that the machines have become several orders of magnitude more powerful! To put it quite bluntly: as long as there were no machines, programming was no problem at all; when we had a few weak computers, programming became a mild problem, and now we have gigantic computers, programming has become an equally gigantic problem.
<p><em>Edsger Dijkstra, The Humble Programmer (EWD340), Communications of the ACM</em></p>
</blockquote>
<p>Coupled with this rising demand for programs was a demand for skilled software developers, as reflected in the following table of graduation rates in programming-centric degrees (the dashed line represents the growth of <em>all</em> bachelor degrees, not just computer-related ones):</p>
<p>
<a href="#image-27b61d19473fd872e540fdaeb60d210f" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.1.2.1.png" alt="Annual Computer-Related Bachelor Degrees Awarded in the US" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-27b61d19473fd872e540fdaeb60d210f">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.1.2.1.png" alt="Annual Computer-Related Bachelor Degrees Awarded in the US" class="lightbox-image" loading="lazy">
</a></p>
<p>Unfortunately, this graduation rate often lagged far behind the demand for skilled graduates, and was marked by several periods of intense growth (the period from 1965 to 1985, 1995-2003, and the current surge beginning around 2010).  During these surges, it was not uncommon to see students hired directly into the industry after only a course or two of learning programming (coding boot camps are a modern equivalent of this trend).</p>
<p>All of these trends contributed to what we now call the <em>Software Crisis</em>.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="the-software-crisis">The Software Crisis</h1>

<p>At the 1968 NATO Software Engineering Conference held in Garmisch Germany, the term &ldquo;Software Crisis&rdquo; was coined to describe the current state of the software development industry, where common problems included:</p>
<ul>
<li>Projects that ran over-budget</li>
<li>Projects that ran over-time</li>
<li>Software that made inefficient use of calculations and memory</li>
<li>Software was of low quality</li>
<li>Software that failed to meet the requirements it was developed to meet</li>
<li>Projects that became unmanageable and code difficult to maintain</li>
<li>Software that never finished development</li>
</ul>
<p>The software development industry sought to counter these problems through a variety of efforts:</p>
<ul>
<li>The development of new programming languages with features intended to make it harder for programmers to make errors.</li>
<li>The development of Integrated Development Environments (IDEs) with developer-centric tools to aid in the software development process, including syntax highlighting, interactive debuggers, and profiling tools</li>
<li>The development of code repository tools like SVN and GIT</li>
<li>The development and adoption of code documentation standards</li>
<li>The development and adoption of program modeling languages like UML</li>
<li>The use of automated testing frameworks and tools to verify expected functionality</li>
<li>The adoption of software development practices that adopted ideas from other engineering disciplines</li>
</ul>
<p>This course will seek to instill many of these ideas and approaches into your programming practice through adopting them in our everyday work.  It is important to understand that unless these practices are used, the same problems that defined the software crisis continue to occur!</p>
<p>In fact, some software engineering experts suggest the software crisis isn&rsquo;t over, pointing to recent failures like the <a href="http://calleam.com/WTPF/?page_id=2086" target="_blank">Denver Airport Baggage System</a>
 in 1995, the <a href="http://www-users.math.umn.edu/~arnold//disasters/ariane.html" target="_blank">Ariane 5 Rocket Explosion</a>
 in 1996, the <a href="https://www.dw.com/en/german-government-cancels-toll-contract/a-1116772-0" target="_blank">German Toll Collect</a>
 system cancelled in 2003, the rocky <a href="https://en.wikipedia.org/wiki/HealthCare.gov#Issues_during_launch" target="_blank">healthcare.gov launch</a>
 in 2013, and the massive vulnerabilities known as the <a href="https://meltdownattack.com/" target="_blank">Meltdown and Spectre exploits</a>
 discovered in 2018.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="language-evolution">Language Evolution</h1>

<p>One of the strategies that computer scientists employed to counter the software crisis was the development of new programming languages.  These new languages would often 1) adopt new techniques intended to make errors harder to make while programming, and 2) remove problematic features that had existed in earlier languages.</p>
<h2 id="a-fortran-example">A Fortran Example</h2>
<p>Let&rsquo;s take a look at a working (and in current use) program built using Fortran, one of the most popular programming languages at the onset of the software crisis.  This software is the Environmental Policy Integrated Climate (EPIC) Model, created by researchers at Texas A&amp;M:</p>
<blockquote>
Environmental Policy Integrated Climate (EPIC) model is a cropping systems model that was developed to estimate soil productivity as affected by erosion as part of the Soil and Water Resources Conservation Act analysis for 1980, which revealed a significant need for improving technology for evaluating the impacts of soil erosion on soil productivity.  EPIC simulates approximately eighty crops with one crop growth model using unique parameter values for each crop.  It predicts effects of management decisions on soil, water, nutrient and pesticide movements, and their combined impact on soil loss, water quality, and crop yields for areas with homogeneous soils and management. 
<a href="https://epicapex.tamu.edu/epic/">EPIC Homepage</a>
</blockquote>
<p>You can download the raw source code <a href="https://epicapex.tamu.edu/software/" target="_blank">here</a>
 (click &ldquo;EPIC v.1102&rdquo; under &ldquo;Source Code&rdquo;). Open and unzip the source code, and open a file at random using your favorite code editor.  See if you can determine what it does, and how it fits into the overall application.</p>
<p>Try this with a few other files.  What do you think of the organization?  Would you be comfortable adding a new feature to this program?</p>
<h2 id="new-language-features">New Language Features</h2>
<p>You probably found the Fortran code in the example difficult to wrap your mind around - and that&rsquo;s not surprising, as more recent languages have moved away from many of the practices employed in Fortran.  Additionally, our computing environment has dramatically changed since this time.</p>
<h3 id="symbol-character-limits">Symbol Character Limits</h3>
<p>One clear example is symbol names for variables and procedures (functions) - notice that in the Fortran code they are typically short and cryptic: <code>RT</code>, <code>HU</code>, <code>IEVI</code>, <code>HUSE</code>, and <code>NFALL</code>, for example.  You&rsquo;ve been told since your first class that variable and function names should express clearly what the variable represents or a function does.  Would <code>rainFall</code>, <code>dailyHeatUnits</code>, <code>cropLeafAreaIndexDevelopment</code>, <code>CalculateWaterAndNutrientUse()</code>, <code>CalculateConversionOfStandingDeadCropResidueToFlatResidue()</code> be easier to decipher? (Hint: the documentation contains some of the variable notations in a list starting on page 70, and some in-code documentation of global variables occurs in <em>MAIN_1102.f90</em>.).</p>
<p>Believe it or not, there was an actual <em>reason</em> for short names in these early programs.  A six character name would fit into a 36-bit register, allowing for fast dictionary lookups - accordingly, early version of FORTRAN enforced a limit of six characters for variable names. However, it is easy to replace a symbol name with an automatically generated symbol during compilation, allowing for <em>both</em> fast lookup and human readability at a cost of some extra computation during compilation.  This step is built into the compilation process of most current programming languages, allowing for arbitrary-length symbol names with no runtime performance penalty.</p>
<!-- TODO: Type Checking, Linting -->
<h2 id="paradigm-shifts">Paradigm Shifts</h2>
<p>In addition to these less drastic changes, some evolutionary language changes had sweeping effects, changing the way we approach and think about how programs should be written and executed. These &ldquo;big ideas&rdquo; of how programming languages should work are often called <em>paradigms</em>.  In the early days of computing, we had two common ones: <em>imperative</em> and <em>functional</em>.</p>
<p>At its core, imperative programming simply means the idea of writing a program as a sequence of commands, i.e. this Python script uses a sequence of commands to write to a file:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#34;example.txt&#34;</span>)
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;Hello from a file!&#34;</span>)
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>close()</span></span></code></pre></div><p>An imperative program would start executing the first line of code, and then continue executing line-by-line until the end of the file or a command to stop execution was reached. In addition to moving one line through the program code, imperative programs could jump to a specific spot in the code and continue execution from there, using a <code>GOTO</code> statement.  We&rsquo;ll revisit that aspect shorty.</p>
<p>In contrast, functional programming consisted primarily of functions. One function was designated as the &lsquo;main&rsquo; function that would start the execution of the program. It would then call one or more functions, which would in turn call more functions. Thus, the entire program consisted of function definitions. Consider this Python program:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">concatenateList</span>(str, list):
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span>(len(list) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> str
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">elif</span>(len(list) <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>    head <span style="color:#f92672">=</span> list<span style="color:#f92672">.</span>pop(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> concatenateList(str <span style="color:#f92672">+</span> head, list)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    head <span style="color:#f92672">=</span> list<span style="color:#f92672">.</span>pop(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> concatenateList(str <span style="color:#f92672">+</span> head <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;, &#34;</span>, list)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">printToFile</span>(filename, body):
</span></span><span style="display:flex;"><span>  f <span style="color:#f92672">=</span> open(filename)
</span></span><span style="display:flex;"><span>  f<span style="color:#f92672">.</span>write(body)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">printListToFile</span>(filename, list):
</span></span><span style="display:flex;"><span>  body <span style="color:#f92672">=</span> concatenateList(<span style="color:#e6db74">&#34;&#34;</span>, list)
</span></span><span style="display:flex;"><span>  printToFile(filename, body)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>  printListToFile(<span style="color:#e6db74">&#34;list.txt&#34;</span>, [<span style="color:#e6db74">&#34;Dog&#34;</span>, <span style="color:#e6db74">&#34;Cat&#34;</span>, <span style="color:#e6db74">&#34;Mouse&#34;</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>main()</span></span></code></pre></div><p>You probably see elements of your favorite higher-order programming language in both of these descriptions.  That&rsquo;s not surprising as modern languages often draw from multiple programming paradigms (after all, both the above examples were written in Python). This, too, is part of language evolution - language developers borrow good ideas as they find them.</p>
<p>But as languages continued to evolve and language creators sought ways to make programming easier, more reliable, and more secure to address the software crisis, new ideas emerged that were large enough to be considered new paradigms. Two of the most impactful of these new paradigms these are <em>structured programming</em> and <em>object orientation</em>.  We&rsquo;ll talk about each next.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="structured-programming">Structured Programming</h1>

<p>Another common change to programming languages was the removal of the <code>GOTO</code> statement, which allowed the program execution to jump to an arbitrary point in the code (much like a <a href="https://en.wikipedia.org/wiki/Choose_Your_Own_Adventure" target="_blank">choose-your-own adventure</a>
 book will direct you to jump to a page). The GOTO came to be considered too primitive, and too easy for a programmer to misuse <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>.</p>
<p>While the <code>GOTO</code> statement is absent from most modern programming languages the actual <em>functionality</em> remains, abstracted into control-flow structures like conditionals, loops, and switch statements.  This is the basis of <a href="https://en.wikipedia.org/wiki/Structured_programming" target="_blank">structured programming</a>
, a paradigm adopted by all modern higher-order programming languages.</p>
<p>Each of these control-flow structures can be represented by careful use of <code>GOTO</code> statements (and, in fact the resulting assembly code from compiling these languages does just that). The benefit of using structured programming is it promotes &ldquo;reliability, correctness, and organizational clarity&rdquo; by clearly defining the circumstances and effects of code jumps <sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>.</p>
<p>You probably aren&rsquo;t very familiar with GOTO statements because the structured programming paradigm has become so dominant.  Before we move on, let&rsquo;s see how some familiar structured programming patterns were originally implemented using GOTOs:</p>
<h3 id="conditional-if-statement">Conditional (if statement)</h3>
<p>In C#, you are probably used to writing if statements with a true branch:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> x = <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(x &lt; <span style="color:#ae81ff">5</span>) 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  x = x * <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>Console.WriteLine(<span style="color:#e6db74">&#34;The value is:&#34;</span> + x);</span></span></code></pre></div><p>With GOTOs, it would look something like:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> x = <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(x &lt; <span style="color:#ae81ff">5</span>) <span style="color:#66d9ef">goto</span> TrueBranch;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>AfterElse:
</span></span><span style="display:flex;"><span>  Console.WriteLine(<span style="color:#e6db74">&#34;The value is:&#34;</span> + x);
</span></span><span style="display:flex;"><span>  Environment.Exit(<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>TrueBranch:
</span></span><span style="display:flex;"><span>  x = x * <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">goto</span> AfterElse</span></span></code></pre></div><h3 id="conditional-if-else-statement">Conditional (if-else statement)</h3>
<p>Similarly, a C# if statement with an else branch:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> x = <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(x &lt; <span style="color:#ae81ff">5</span>) 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  x = x * <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span> 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  x = <span style="color:#ae81ff">7</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>Console.WriteLine(<span style="color:#e6db74">&#34;The value is:&#34;</span> + x);</span></span></code></pre></div><p>And using GOTOs:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> x = <span style="color:#ae81ff">4</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(x &lt; <span style="color:#ae81ff">5</span>) <span style="color:#66d9ef">goto</span> TrueBranch;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">goto</span> FalseBranch;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>AfterElse:
</span></span><span style="display:flex;"><span>  Console.WriteLine(<span style="color:#e6db74">&#34;The value is:&#34;</span> + x);
</span></span><span style="display:flex;"><span>  Environment.Exit(<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>TrueBranch:
</span></span><span style="display:flex;"><span>  x = x * <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">goto</span> AfterElse;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>FalseBranch: 
</span></span><span style="display:flex;"><span>  x = <span style="color:#ae81ff">7</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">goto</span> AfterElse;</span></span></code></pre></div><p>Note that with the goto, we must tell the program to stop running explicitly with <code>Environment.Exit(0)</code> or it will continue on to execute the labeled code (we could also place the TrueBranch and FalseBranch <em>before</em> the main program, and use a goto to jump to the main program).</p>
<h3 id="while-loop">While Loop</h3>
<p>Loops were also originally constructed entirely from GOTOs, so the familiar while loop:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> times = <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span>(times &gt; <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  Console.WriteLine(<span style="color:#e6db74">&#34;Counting Down: &#34;</span> + times);
</span></span><span style="display:flex;"><span>  times = times - <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Can be written:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> times = <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>Test:
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span>(times &gt; <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">goto</span> Loop;
</span></span><span style="display:flex;"><span>  Environment.Exit(<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Loop: 
</span></span><span style="display:flex;"><span>  Console.WriteLine(<span style="color:#e6db74">&#34;Counting Down: &#34;</span> + times);
</span></span><span style="display:flex;"><span>  times = times - <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">goto</span> Test;</span></span></code></pre></div><p>The <code>do while</code> and <code>for</code> loops are implemented similarly. As you can probably imagine, as more control flow is added to a program, using GOTOs and corresponding labels to jump to becomes very hard to follow.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>Interestingly, the <a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/statements/jump-statements#the-goto-statement" target="_blank">C# language does have a goto statement</a>
 (Java does not). Likely this is because C# was designed to compile to intermediate language like Visual Basic, which is an evolution of BASIC which was old enough to have a goto.</p>
<p>Accordingly, the above examples with the <code>goto</code> statements are valid C# code. You can even compile and run them. However, you should avoid using <code>goto</code> statements in your code.</p>
</div>
</div>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Dijkstra, Edgar (1968). <a href="https://homepages.cwi.nl/~storm/teaching/reader/Dijkstra68.pdf" target="_blank">&ldquo;Go To Statement Considered Harmful&rdquo;</a>
&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>Wirth, Nicklaus (1974). <a href="https://oberoncore.ru/_media/library/wirth_on_the_composition_of_well-structured_programs.pdf" target="_blank">&ldquo;On the Composition of Well-Structured Programs&rdquo;</a>
&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="object-orientation">Object-Orientation</h1>

<p>The object-orientation paradigm was similarly developed to make programming large projects easier and less error-prone.</p>
<p>The term &ldquo;Object Orientation&rdquo; was coined by Alan Kay while he was a graduate student in the late 60&rsquo;s. Alan Kay, Dan Ingalls, Adele Goldberg, and others created the first object-oriented language, <a href="https://en.wikipedia.org/wiki/Smalltalk" target="_blank">Smalltalk</a>
, which became a very influential language from which many ideas were borrowed.  To Alan, the essential core of object-orientation was three properties a language could possess: <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<ul>
<li>Encapsulation &amp; Information Hiding</li>
<li>Message passing</li>
<li>Dynamic binding</li>
</ul>
<p>Let&rsquo;s break down each of these ideas, and see how they helped address some of the problems we&rsquo;ve identified in this chapter.</p>
<p><strong>Encapsulation</strong> refers to breaking programs into smaller units that are easier to read and reason about. In an object-oriented language these units are <em>classes and objects</em>, and the data contained in these units is protected from being changed by code outside the unit through <em>information hiding</em>.</p>
<p><strong>Message Passing</strong> allows us to send well-defined messages between objects. This gives us a well-defined and <em>controlled</em> method for accessing and potentially changing the data contained in an encapsulated unit. In an object oriented language, calling a method on an object is a form of message passing, as are events.</p>
<p><strong>Dynamic Binding</strong> means we can have more than one possible way to handle messages and the appropriate one can be determined at run-time.  This is the basis for <em>polymorphism</em>, an important idea in many object-oriented languages.</p>
<p>Remember these terms and pay attention to how they are implemented in the languages you are learning.  They can help you understand the ideas that inspired the features of these languages.</p>
<p>We&rsquo;ll take a deeper look at each of these in the next few chapters. But before we do, you might want to see how language popularity has fared since the onset of the software crisis, and how new languages have appeared and grown in popularity in this animated chart from <em>Data is Beautiful</em>:</p>
<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/Og847HVwRSI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>Interestingly, the four top languages in 2019 (Python, JavaScript, Java, and C#) all adopt the object-oriented paradigm - though the exact details of how they implement it vary dramatically.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Eric Elliot, &ldquo;The Forgotten History of Object-Oriented Programming,&rdquo; <em>Medium</em>, Oct. 31, 2018.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="summary">Summary</h1>

<p>In this chapter, we&rsquo;ve discussed the environment in which object-orientation emerged.  Early computers were limited in their computational power, and languages and programming techniques had to work around these limitations. Similarly, these computers were very expensive, so their purchasers were very concerned about getting the largest possible return on their investment.  In the words of Niklaus Wirth:</p>
<blockquote>
Tricks were necessary at this time, simply because machines were built with limitations imposed by a technology in its early development stage, and because even problems that would be termed "simple" nowadays could not be handled in a straightforward way.  It was the programmers' very task to push computers to their limits by whatever means available.
</blockquote>
<p>As computers became more powerful and less expensive, the demand for programs (and therefore programmers) grew faster than universities could train new programmers.  Unskilled programmers, unwieldy programming languages, and programming approaches developed to address the problems of older technology led to what became known as the &ldquo;software crisis&rdquo; where many projects failed or floundered.</p>
<p>This led to the development of new programming techniques, languages, and paradigms to make the process of programming easier and less error-prone. Among the many new programming paradigms was <em>structured programming paradigm</em>, which introduced control-flow structures into programming languages to help programmers reason about the order of program execution in a clear and consistent manner.</p>
<p>Also developed during this time was the <em>object-oriented paradigm</em>, which brings together four big ideas: <em>encapsulation &amp; information hiding</em>, <em>message passing</em>, and <em>dynamic binding</em>.  We will be studying this paradigm, its ideas, and implementation in the C# language throughout this course.</p>

            <footer class="footline">

            </footer>
          </article>

          </section>
    
    
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 1</div>
<h1 id="classes-and-objects">Classes and Objects</h1>

<p>Getting Object Oriented</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Classes and Objects</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="introduction">Introduction</h1>

<p>A signature aspect of object-oriented languages is (as you might expect from the name), the existence of <em>objects</em> within the language.  In this chapter, we take a deep look at objects, exploring why they were created, what they are at both a theoretical and practical level, and how they are used.</p>
<h2 id="key-terms">Key Terms</h2>
<p>Some key terms to learn in this chapter are:</p>
<ul>
<li>
<p>Encapsulation</p>
</li>
<li>
<p>Information Hiding</p>
</li>
<li>
<p>Message Passing</p>
</li>
<li>
<p>State</p>
</li>
<li>
<p>Class</p>
</li>
<li>
<p>Object</p>
</li>
<li>
<p>Field</p>
</li>
<li>
<p>Method</p>
</li>
<li>
<p>Constructor</p>
</li>
<li>
<p>Parameterless Constructor</p>
</li>
<li>
<p>Property</p>
</li>
<li>
<p>Public</p>
</li>
<li>
<p>Private</p>
</li>
<li>
<p>Static</p>
</li>
</ul>
<p>To begin, weâ€™ll examine the term <em>encapsulation</em>.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="encapsulation">Encapsulation</h1>

<p>The first criteria that Alan Kay set for an object-oriented language was <em>encapsulation</em>.  In computer science, the term encapsulation refers to organizing code into units.  This provides a mechanism for organizing complex software</p>
<p>A second related idea is <em>information hiding</em>, which provides mechanisms for controlling access to encapsulated data and how it can be changed.</p>
<p>Think back to the FORTRAN EPIC model we <a href="https://ksu-cs-textbooks.github.io/cis400/1-object-orientation/00-introduction/04-language-evolution/">introduced earlier</a>
. All of the variables in that program were declared <em>globally</em>, and there were <em>thousands</em>.  How easy was it to find where a variable was declared?  Initialized?  Used?  Are you sure you found <em>all</em> the spots it was used?</p>
<p>Also, how easy was it to determine what <em>part</em> of the system a particular block of code belonged to?  If I told you the program involved modeling hydrology (how water moves through the soils), weather, erosion, plant growth, plant residue decomposition, soil chemistry, planting, harvesting, and chemical applications, would you be able to find the code for each of those processes?</p>
<p>Remember from our discussion on <a href="https://ksu-cs-textbooks.github.io/cis400/1-object-orientation/00-introduction/02-the-growth-of-computing/">the growth of computing</a>
 the idea that as computers grew more powerful, we wanted to use them in more powerful ways?  The EPIC project grew from that desire - what if we could model <em>all the aspects influencing how well a crop grows</em>?  Then we could use that model to help us make better decisions in agriculture.  Or, what if we could model all the processes involved in weather?  If we could do so, we could help save lives by predicting dangerous storms!  A century ago, you knew a tornado was coming when you heard its roaring winds approaching your home.  Now we have warnings that conditions are favorable to produce one hours in advance.  This is all thanks to using computers to model some very complex systems.</p>
<p>But how do we go about writing those complex systems?  I don&rsquo;t know about you, but I wouldn&rsquo;t want to write a model the way the EPIC programmers did.  And neither did most software developers at the time - so computer scientists set out to define better ways to write programs.  David Parnas formalized some of the best ideas emerging from those efforts in his 1972 paper &ldquo;On the Criteria To Be Used in Decomposing Systems into Modules&rdquo;. <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<blockquote>
A <i>data structure</i>, its internal linkings, <i>accessing procedures and modifying procedures</i> are part of a single module.  
</blockquote>
<p>Here he suggests organizing code into <em>modules</em> that group related variables and the procedures that operate upon them.  For the EPIC module, this might mean all the code related to weather modeling would be moved into its own module.  That meant that if we needed to understand how weather was being modeled, we <em>only</em> had to look at the weather module.</p>
<blockquote>
They are not shared by many modules as is conventionally done. 
</blockquote>
<p>Here he is laying the foundations for the concept we now call <a href="https://en.wikipedia.org/wiki/Scope_%28computer_science%29" target="_blank">scope</a>
 - the idea of where a specific symbol (a variable or function name) is accessible within a program&rsquo;s code.  By limiting access to variables to the scope of a particular module, only code in that module can change the value.  That way, we can&rsquo;t accidentally change a variable declared in the weather module from the soil chemistry module (which would be a very hard error to find, as if the weather module doesn&rsquo;t seem to be working, that&rsquo;s what we would probably focus on trying to fix).</p>
<p>Programmers of the time referred to this practice as <a href="https://en.wikipedia.org/wiki/Information_hiding" target="_blank">information hiding</a>
, as we &lsquo;hid&rsquo; parts of the program from other parts of the program. Parnas and his peers pushed for not just hiding the data, but <em>also</em> how the data was manipulated.  By hiding these implementation details, they could prevent programmers who were used to the globally accessible variables of early programming languages from looking into our code and using a variable that we might change in the future.</p>
<blockquote>
<i>The sequence of instructions necessary to call a given routine and the routine itself are part of the same module.</i>
</blockquote>
<p>As the actual implementation of the code is hidden from other parts of the program, a mechanism for sharing controlled access to some part of that module in order to use it needed to be made.  An interface, if you will, that describes how the other parts of the program might trigger some behavior or access some value.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>D. L. Parnas, &ldquo;<a href="https://dl-acm-org.er.lib.k-state.edu/doi/10.1145/361598.361623" target="_blank">On the criteria to be used in decomposing systems into modules</a>
&rdquo; <em>Communications of the ACM</em>, Dec. 1972.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="c-encapsulation-examples">C# Encapsulation Examples</h1>

<p>Let&rsquo;s start by focusing on encapsulation&rsquo;s benefits to organizing our code by exploring some examples of encapsulation you may already be familiar with.</p>
<h2 id="namespaces">Namespaces</h2>
<p>The C# libraries are organized into discrete units called <strong><em>namespaces</em></strong>.  The primary purpose of this is to separate code units that potentially use the same name, which causes <em>name collisions</em> where the interpreter isnâ€™t sure which of the possibilities you mean in your program.  This means you can use the same name to refer to two different things in your program, provided they are in different namespaces.</p>
<p>For example, there are two definitions for a Point Struct in the .NET core libraries: <a href="https://docs.microsoft.com/en-us/dotnet/api/system.drawing.point" target="_blank">System.Drawing.Point</a>
 and <a href="https://docs.microsoft.com/en-us/dotnet/api/system.windows.point" target="_blank">System.Windows.Point</a>
.  The two have a very different internal structures (the former uses integers and the latter doubles), and we would not want to mix them up.  If we needed to create an instance of both in our program, we would use their fully-quantified name to help the interpreter know which we mean:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>System.Drawing.Point pointA = <span style="color:#66d9ef">new</span> System.Drawing.Point(<span style="color:#ae81ff">500</span>, <span style="color:#ae81ff">500</span>);
</span></span><span style="display:flex;"><span>System.Windows.Point pointB = <span style="color:#66d9ef">new</span> System.Windows.Point(<span style="color:#ae81ff">300.0</span>, <span style="color:#ae81ff">200.0</span>);</span></span></code></pre></div><p>The <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/using-directive" target="_blank">using directive</a>
 allows you reference the type without quantification, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">using</span> System.Drawing;
</span></span><span style="display:flex;"><span>Point pointC = <span style="color:#66d9ef">new</span> Point(<span style="color:#ae81ff">400</span>, <span style="color:#ae81ff">400</span>);</span></span></code></pre></div><p>You can also create an <em>alias</em> with the using directive, providing an alternative (and usually abbreviated) name for the type:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">using</span> WinPoint = System.Windows.Point;
</span></span><span style="display:flex;"><span>WinPoint pointD = <span style="color:#66d9ef">new</span> WinPoint(<span style="color:#ae81ff">100.0</span>, <span style="color:#ae81ff">100.0</span>);</span></span></code></pre></div><p>We can also declare our own namespaces, allowing us to use namespaces to organize our own code just as Microsoft has done with its .NET libraries.</p>
<p>Encapsulating code within a namespace helps ensure that the types defined within are only accessible with a fully qualified name, or when the using directive is employed.  In either case, the intended type is clear, and knowing the namespace can help other programmers find the typeâ€™s definition.</p>
<h2 id="structs">Structs</h2>
<p>In the discussion of namespaces, we used a <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/struct" target="_blank">struct</a>
.  A C# struct is what computer scientists refer to as a <em><a href="https://en.wikipedia.org/wiki/Composite_data_type" target="_blank">compound type</a>
</em>, a type <em>composed</em> from other types.  This too, is a form of encapsulation, as it allows us to collect several values into a single data structure.  Consider the concept of a vector from mathematics - if we wanted to store three-dimensional vectors in a program, we could do so in several ways.  Perhaps the easiest would be as an array:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">double</span>[] vectorA = {<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>};</span></span></code></pre></div><p>However, other than the variable name, there is no indication to other programmers that this is intended to be a three-element vector.  And, if we were to accept it in a function, say a dot product:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> DotProduct(<span style="color:#66d9ef">double</span>[] a, <span style="color:#66d9ef">double</span>[] b) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(a.Length &lt; <span style="color:#ae81ff">3</span> || b.Length &lt; <span style="color:#ae81ff">3</span>) <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> ArgumentException();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> a[<span style="color:#ae81ff">0</span>] * b[<span style="color:#ae81ff">0</span>] + a[<span style="color:#ae81ff">1</span>] * b[<span style="color:#ae81ff">1</span>] + a[<span style="color:#ae81ff">2</span>] * b[<span style="color:#ae81ff">2</span>];
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>We would need to check that both arrays were of length threeâ€¦  A struct provides a much cleaner option, by allowing us to define a type that is composed of exactly three doubles:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A 3-element vector </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Vector3</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> x;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> y;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> z;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Vector3(<span style="color:#66d9ef">double</span> x, <span style="color:#66d9ef">double</span> y, <span style="color:#66d9ef">double</span> z) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.x = x;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.y = y;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.z = z;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Then, our DotProduct can take two arguments of the Vector3 struct:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> DotProduct(Vector3 a, Vector3 b) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> a.x * b.x + a.y * b.y + a.z * b.z;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>There is no longer any concern about having the wrong number of elements in our vectors - it will always be three.  We also get the benefit of having unique names for these <em>fields</em> (in this case, x, y, and z).</p>
<p>Thus, a struct allows us to create <em>structure</em> to represent multiple values in one variable, encapsulating the related values into a single data structure.  Variables, and compound data types, represent the <em>state</em> of a program.  Weâ€™ll examine this concept in detail next.</p>
<h2 id="modules">Modules</h2>
<p>You might think that the kind of modules that Parnas was describing don&rsquo;t exist in C#, but they actually do - we just don&rsquo;t call them &lsquo;modules&rsquo;.  Consider how you would raise a number by a power, say 10 to the 8th power:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Math.Pow(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">8</span>);</span></span></code></pre></div><p>The <code>Math</code> class in this example is actually used <em>just like a module!</em>  We can&rsquo;t see the underlying implementation of the <code>Pow()</code> method, it provides to us a well-defined interface (i.e. you call it with the symbol <code>Pow</code> and two doubles for parameters), and this method and other related math functions (<code>Sin()</code>, <code>Abs()</code>, <code>Floor()</code>, etc.) are encapsulated within the <code>Math</code> class.</p>
<p>We can define our own module-like classes by using the <code>static</code> keyword, i.e. we could group our vector math functions into a static <code>VectorMath</code> class:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A library of vector math functions</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">VectorMath</span>() {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Computes the dot product of two vectors </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">double</span> DotProduct(Vector3 a, Vector3 b) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> a.x * b.x + a.y * b.y + a.z * b.z;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Computes the magnitude of a vector</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">double</span> Magnitude(Vector3 a) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> Math.Sqrt(Math.Pow(a.x, <span style="color:#ae81ff">2</span>) + Math.Pow(a.y, <span style="color:#ae81ff">2</span>) + Math.Pow(a.z, <span style="color:#ae81ff">2</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  
  
<div class="box notices cstyle note">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-circle"></i> Note</div>
  <div class="box-content">

<p>To duplicate the module behavior with C#, we must declare both the class and its methods <code>static</code>.</p>
</div>
</div>
<h2 id="classes">Classes</h2>
<p>But what most distinguishes C# is that it is an <em>object-oriented</em> language, and as such, it&rsquo;s primary form of encapsulation is <em>classes</em> and <em>objects</em>.  The key idea behind encapsulation in an object-oriented language is that we encapsulate both <em>state</em> and <em>behavior</em> in the class definition.  Let&rsquo;s explore that idea more deeply in the next section.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="state-and-behavior">State and Behavior</h1>

<p>The data stored in a program at any given moment (in the form of variables, objects, etc.) is the <em>state</em> of the program.  Consider a variable:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a = <span style="color:#ae81ff">5</span>;</span></span></code></pre></div><p>The state of the variable <strong>a</strong> after this line is <strong>5</strong>.  If we then run:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>a = a * <span style="color:#ae81ff">3</span>;</span></span></code></pre></div><p>The state is now <strong>15</strong>. Consider the Vector3 struct we defined in the last section:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Vector3</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> x;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> y;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> z;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// constructor</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Vector3(<span style="color:#66d9ef">double</span> x, <span style="color:#66d9ef">double</span> y, <span style="color:#66d9ef">double</span> z) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.x = x;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.y = y;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.z = z;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>If we create an instance of that struct in the variable <code>b</code>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Vector3 b = <span style="color:#66d9ef">new</span> Vector3(<span style="color:#ae81ff">1.2</span>, <span style="color:#ae81ff">3.7</span>, <span style="color:#ae81ff">5.6</span>);</span></span></code></pre></div><p>The state of our variable <code>b</code> is 
<span class="math align-center">$\{1.2, 3.7, 5.6\}$</span>.  If we change one of <code>b</code>â€™s fields:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>b.x = <span style="color:#ae81ff">6.0</span>;</span></span></code></pre></div><p>The state of our variable <code>b</code> is now 
<span class="math align-center">$\{6.0, 3.7, 5.6\}$</span>.</p>
<p>We can also think about the state of the <em>program</em>, which would be something like: 
<span class="math align-center">$\{a: 5, b: \{x: 6.0, y: 3.7, z: 5.6\}\}$</span>, or a state vector like: 
<span class="math align-center">$|5, 6.0, 3.7, 5.6|$</span>.  We can therefore think of a program as a <em>state machine</em>. We can in fact, draw our entire program as a state table listing all possible legal states (combinations of variable values) and the transitions between those states. Techniques like this can be used to reason about our programs and even prove them correct!</p>
<p>This way of reasoning about programs is the heart of <a href="https://en.wikipedia.org/wiki/Automata_theory" target="_blank">Automata Theory</a>
, a subject you may choose to learn more about if you pursue graduate studies in computer science.</p>
<p>What causes our program to transition between states?  If we look at our earlier examples, it is clear that <em>assignment</em> is a strong culprit.  Expressions clearly have a role to play, as do control-flow structures decide which transformations take place.  In fact, we can say that our program code is what drives state changes - the <em>behavior</em> of the program.</p>
<p>Thus, programs are composed of both state (the values stored in memory at a particular moment in time) and <em>behavior</em> (the instructions to change that state).</p>
<p>Now, can you imagine trying to draw the state table for a large program?  Something on the order of EPIC?</p>
<p>On the other hand, with encapsulation we can reason about state and behavior on a much smaller scale.  Consider this function working with our <code>Vector3</code> struct:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// Returns the the supplied vector scaled by the provided scalar</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Vector3 Scale(Vector3 vec, <span style="color:#66d9ef">double</span> scale) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> x = vec.x * scale;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> y = vec.y * scale;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> z = vec.z * scale;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Vector3(x, y, z);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>If this method was invoked with a vector 
<span class="math align-center">$\langle4.0, 1.0, 3.4\rangle$</span> and a scalar 
<span class="math align-center">$2.0$</span>
our state table would look something like:</p>
<table>
  <tr>
    <th>step</th>
    <th>vec.x</th>
    <th>vec.y</th>
    <th>vec.z</th>
    <th>scale</th>
    <th>x</th>
    <th>y</th>
    <th>z</th>
    <th>return.x</th>
    <th>return.y</th>
    <th>return.z</th>
  <tr>
  <tr>
    <td>0</td>
    <td>4.0</td>
    <td>1.0</td>
    <td>3.4</td>
    <td>2.0</td>
    <td>0.0</td>
    <td>0.0</td>
    <td>0.0</td>
    <td>0.0</td>
    <td>0.0</td>
    <td>0.0</td>
  </tr>
  <tr>
    <td>1</td>
    <td>4.0</td>
    <td>1.0</td>
    <td>3.4</td>
    <td>2.0</td>
    <td>8.0</td>
    <td>0.0</td>
    <td>0.0</td>
    <td>0.0</td>
    <td>0.0</td>
    <td>0.0</td>
  </tr>
  <tr>
    <td>2</td>
    <td>4.0</td>
    <td>1.0</td>
    <td>3.4</td>
    <td>2.0</td>
    <td>8.0</td>
    <td>2.0</td>
    <td>0.0</td>
    <td>0.0</td>
    <td>0.0</td>
    <td>0.0</td>
  </tr>
  <tr>
    <td>3</td>
    <td>4.0</td>
    <td>1.0</td>
    <td>3.4</td>
    <td>2.0</td>
    <td>8.0</td>
    <td>2.0</td>
    <td>6.8</td>
    <td>0.0</td>
    <td>0.0</td>
    <td>0.0</td>
  </tr>
  <tr>
    <td>4</td>
    <td>4.0</td>
    <td>1.0</td>
    <td>3.4</td>
    <td>2.0</td>
    <td>8.0</td>
    <td>2.0</td>
    <td>6.8</td>
    <td>8.0</td>
    <td>2.0</td>
    <td>6.8</td>
  </tr>
</table>
<p>Because the parameters <code>vec</code> and <code>scale</code>, as well as the variables <code>x</code>, <code>y</code>, <code>z</code>, and the unnamed <code>Vector3</code> we return are all defined only within the scope of the method, we can reason about them and the associated state changes <em>independently</em> of the rest of the program. Essentially, we have encapsulated a portion of the program <em>state</em> in our <code>Vector3</code> struct, and encapsulated a portion of the program behavior in the static <code>Vector3</code> library.  This greatly simplifies both writing and debugging programs.</p>
<p>However, we really will only use the <code>Vector3</code> library in conjunction with <code>Vector3</code> structures, so it makes a certain amount of sense to define them in the same place.  This is where <em>classes</em> and <em>objects</em> come into the picture, which we&rsquo;ll discuss next.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="classes-and-objects">Classes and Objects</h1>

<p>The module-based encapsulation suggested by Parnas and his contemporaries grouped state and behavior together into smaller, self-contained units.  Alan Kay and his co-developers took this concept a step farther.  Alan Kay was heavily influenced by ideas from biology, and saw this encapsulation in similar terms to <em>cells</em>.</p>
<p>
<a href="#image-3c8c51a3574ad7951b8e50dab1f07a0a" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.1.5.1.png" alt="Typical Animal Cell" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-3c8c51a3574ad7951b8e50dab1f07a0a">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.1.5.1.png" alt="Typical Animal Cell" class="lightbox-image" loading="lazy">
</a></p>
<p>Biological cells are also encapsulated - the complex structures of the cell and the functions they perform are all within a cell wall.  This wall is only bridged in carefully-controlled ways, i.e. cellular pumps that move resources into the cell and waste out. While single-celled organisms do exist, far more complex forms of life are made possible by many similar cells working together.</p>
<p>This idea became embodied in object-orientation in the form of <em>classes</em> and <em>objects</em>.  An object is like a specific cell.  You can create many, very similar objects that all function identically, but each have their own individual and different <em>state</em>.  The <em>class</em> is therefore a definition of that type of object&rsquo;s structure and behavior.  It defines the shape of the object&rsquo;s state, and how that state can change.  But each individual <em>instance</em> of the class (an object) has its own current state.</p>
<p>Let&rsquo;s re-write our <code>Vector3</code> struct as a class using this concept:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;A class representing a 3-element vector&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Vector3</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;The X component of the vector&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> X;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;The Y component of the vector&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> Y;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;The Z component of the vector&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> Z;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;Constructs a new vector&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;x&#34;&gt;The value of the vector&#39;s x component&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;y&#34;&gt;The value of the vector&#39;s y component&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;z&#34;&gt;The value of the vector&#39;s z component&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Vector3(<span style="color:#66d9ef">double</span> x, <span style="color:#66d9ef">double</span> y, <span style="color:#66d9ef">double</span> z) {
</span></span><span style="display:flex;"><span>        X = x;
</span></span><span style="display:flex;"><span>        Y = y;
</span></span><span style="display:flex;"><span>        Z = z;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;Computes the dot product of this and &lt;paramref name=&#34;other&#34;/&gt; vector&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;other&#34;&gt;The other vector to compute with&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;returns&gt;The dot product&lt;/returns&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> DotProduct(Vector3 other) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> X * other.X + Y * other.Y + Z * other.Z;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;Scales this vector by &lt;paramref name=&#34;scalar&#34;/&gt;&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;paramref name=&#34;scalar&#34;&gt;The value to scale by&lt;/paramref&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Scale(<span style="color:#66d9ef">double</span> scalar) {
</span></span><span style="display:flex;"><span>        X *= scalar;
</span></span><span style="display:flex;"><span>        Y *= scalar;
</span></span><span style="display:flex;"><span>        Z *= scalar;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Here we have defined:</p>
<ol>
<li>The <em>structure</em> of the object state - three doubles, <code>X</code>, <code>Y</code>, and <code>Z</code></li>
<li>How the object is constructed - the <code>Vector3()</code> constructor that takes a value for the object&rsquo;s initial state</li>
<li>Instructions for how that object state can be changed, i.e. our <code>Scale()</code> method</li>
</ol>
<p>We can create as many objects from this class definition as we might want:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Vector3 one = <span style="color:#66d9ef">new</span> Vector3(<span style="color:#ae81ff">1.0</span>, <span style="color:#ae81ff">1.0</span>, <span style="color:#ae81ff">1.0</span>);
</span></span><span style="display:flex;"><span>Vector3 up = <span style="color:#66d9ef">new</span> Vector3(<span style="color:#ae81ff">0.0</span>, <span style="color:#ae81ff">1.0</span>, <span style="color:#ae81ff">0.0</span>);
</span></span><span style="display:flex;"><span>Vector3 a = <span style="color:#66d9ef">new</span> Vector3(<span style="color:#ae81ff">5.4</span>, -<span style="color:#ae81ff">21.4</span>, <span style="color:#ae81ff">3.11</span>);</span></span></code></pre></div><p>Conceptually, what we are doing is not that different from using a compound data type like a struct and a module of functions that work upon that struct.  But practically, it means <em>all the code for working with Vectors appears in one place</em>.  This arguably makes it much easier to find all the pertinent parts of working with vectors, and makes the resulting code better organized and easier to maintain and add features to.</p>
<p>Classes also provide additional benefits over structs in the form of <em>polymorphism</em>, which we&rsquo;ll discuss in <a href="https://ksu-cs-textbooks.github.io/cis400/1-object-orientation/02-polymorphism/">Chapter 2</a>
.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="information-hiding">Information Hiding</h1>

<p>Now let&rsquo;s return to the concept of <a href="https://en.wikipedia.org/wiki/Information_hiding" target="_blank">information hiding</a>
, and how it applies in object-oriented languages.</p>
<p>Unanticipated changes in state are a major source of errors in programs. Again, think back to the EPIC source code we <a href="https://ksu-cs-textbooks.github.io/cis400/1-object-orientation/00-introduction/04-language-evolution/">looked at earlier</a>
. It may have seemed unusual now, but it used a common pattern from the early days of programming, where <em>all</em> the variables the program used were declared in one spot, and were <em>global</em> in scope (i.e. any part of the program could reassign any of those variables).</p>
<p>If we consider the program as a state machine, that means that any part of the program code could change any part of the program state.  Provided those changes were intended, everything works fine. But if the <em>wrong</em> part of the state was changed problems would ensue.</p>
<p>For example, if you were to make a typo in the part of the program dealing with water run-off in a field which ends up assigning a new value to a variable that was supposed to be used for crop growth, you&rsquo;ve just introduced a very subtle and difficult-to-find error.  When the crop growth modeling functionality fails to work properly, we&rsquo;ll probably spend serious time and effort looking for a problem in the crop growth portion of the code&hellip; but the problem doesn&rsquo;t lie there at all!</p>
<h3 id="access-modifiers">Access Modifiers</h3>
<p>There are several techniques involved in data hiding in an object-oriented language.  One of these is <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/access-modifiers" target="_blank">access modifiers</a>
, which determine what parts of the program code can access a particular class, field, property, or method.  Consider a class representing a student:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">string</span> first;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">string</span> last;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">uint</span> wid;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Student(<span style="color:#66d9ef">string</span> first, <span style="color:#66d9ef">string</span> last, <span style="color:#66d9ef">uint</span> wid) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.first = first;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.last = last;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.wid = wid;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>By using the access modifier <code>private</code>, we have indicated that our fields <code>first</code>, <code>last</code>, and <code>wid</code> cannot be accessed (seen or assigned to) outside of the code that makes up the <code>Student</code> class.  If we were to create a specific student:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Student willie = <span style="color:#66d9ef">new</span> Student(<span style="color:#e6db74">&#34;Willie&#34;</span>, <span style="color:#e6db74">&#34;Wildcat&#34;</span>, <span style="color:#ae81ff">888888888</span>);</span></span></code></pre></div><p>We would not be able to change his name, i.e. <code>willie.first = &quot;Bob&quot;</code> would fail, because the field <code>first</code> is private.  In fact, we cannot even see his name, so <code>Console.WriteLine(willie.first);</code> would also fail.</p>
<p>If we want to allow a field or method to be accessible <em>outside</em> of the object, we must declare it <code>public</code>.  While we <em>can</em> declare fields public, this violates the core principles of encapsulation, as any outside code can modify our object&rsquo;s state in uncontrolled ways.</p>
<h3 id="accessor-methods">Accessor Methods</h3>
<p>Instead, in a true object-oriented approach we would write public  <strong><em>accessor methods</em></strong>, a.k.a. <em>getters</em> and <em>setters</em> (so called because they <em>get</em> or <em>set</em> the value of a field).  These methods allow us to see and change field values <em>in a controlled way</em>.  Adding accessors to our Student class might look like:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;A class representing a K-State student&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">string</span> _first;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">string</span> _last;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">uint</span> _wid;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;Constructs a new student object&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;first&#34;&gt;The new student&#39;s first name&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;last&#34;&gt;The new student&#39;s last name&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param wid=&#34;wid&#34;&gt;The new student&#39;s Wildcat ID number&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Student(<span style="color:#66d9ef">string</span> first, <span style="color:#66d9ef">string</span> last, <span style="color:#66d9ef">uint</span> wid)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        _first = first;
</span></span><span style="display:flex;"><span>        _last = last;
</span></span><span style="display:flex;"><span>        _wid = wid;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;Gets the first name of the student&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;returns&gt;The student&#39;s first name&lt;/returns&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> GetFirst()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> _first;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;Sets the first name of the student&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> SetFirst(<span style="color:#66d9ef">string</span> <span style="color:#66d9ef">value</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">value</span>.Length &gt; <span style="color:#ae81ff">0</span>) _first = <span style="color:#66d9ef">value</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;Gets the last name of the student&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;returns&gt;The student&#39;s last name&lt;/returns&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> GetLast()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> _last;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;Sets the last name of the student&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;value&#34;&gt;The new name&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;remarks&gt;The &lt;paramref name=&#34;value&#34;/&gt; must be a non-empty string&lt;/remarks&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> SetLast(<span style="color:#66d9ef">string</span> <span style="color:#66d9ef">value</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">value</span>.Length &gt; <span style="color:#ae81ff">0</span>) _last = <span style="color:#66d9ef">value</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;Gets the student&#39;s Wildcat ID Number&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;returns&gt;The student&#39;s Wildcat ID Number&lt;/returns&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">uint</span> GetWid()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> _wid;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;Gets the full name of the student&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;returns&gt;The first and last name of the student as a string&lt;/returns&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> GetFullName()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">$&#34;{_first} {_last}&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Notice how the <code>SetFirst()</code> and <code>SetLast()</code> method check that the provided name has at least one character?  We can use setters to make sure that we never allow the object state to be set to something that makes no sense.</p>
<p>Also, notice that the <code>wid</code> field only has a getter.  This effectively means once a studentâ€™s Wid is set by the constructor, it cannot be changed.  This allows us to share data without allowing it to be changed outside of the class.</p>
<p>Finally, the <code>GetFullName()</code> is also a getter method, but it does not have its own private backing field. Instead it <em>derives</em> its value from the class state. We sometimes call this a derived getter for that reason.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="c-properties">C# Properties</h1>

<p>While accessor methods provide a powerful control mechanism in object-oriented languages, they also require a lot of typing the same code syntax over and over (we often call this <a href="https://en.wikipedia.org/wiki/Boilerplate_text" target="_blank">boilerplate</a>
).  Many languages therefore introduce a mechanism for quickly defining basic accessors.  In C#, we have <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/properties" target="_blank">Properties</a>
.  Letâ€™s rewrite our Student class with Properties:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">string</span> _first;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;The student&#39;s first name&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> First {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">get</span> { <span style="color:#66d9ef">return</span> _first; }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">set</span> { <span style="color:#66d9ef">if</span>(<span style="color:#66d9ef">value</span>.Length &gt; <span style="color:#ae81ff">0</span>) _first = <span style="color:#66d9ef">value</span>;}
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">string</span> _last;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;The student&#39;s last name&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Last {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">get</span> { <span style="color:#66d9ef">return</span> _last; }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">set</span> { <span style="color:#66d9ef">if</span>(<span style="color:#66d9ef">value</span>.Length &gt; <span style="color:#ae81ff">0</span>) _last = <span style="color:#66d9ef">value</span>; }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">uint</span> _wid;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;The student&#39;s Wildcat ID number&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">uint</span> Wid {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">get</span> { <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>._wid; }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;The student&#39;s full name&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> FullName 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">get</span> 
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">$&#34;{First} {Last}&#34;</span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;The student&#39;s nickname&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Nickname { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;Constructs a new student object&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;first&#34;&gt;The new student&#39;s first name&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;last&#34;&gt;The new student&#39;s last name&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;nick&#34;&gt;The new student&#39;s nickname&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param wid=&#34;wid&#34;&gt;The new student&#39;s Wildcat ID number&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Student(<span style="color:#66d9ef">string</span> first, <span style="color:#66d9ef">string</span> last, <span style="color:#66d9ef">string</span> nick, <span style="color:#66d9ef">uint</span> wid) {
</span></span><span style="display:flex;"><span>        _first = first;
</span></span><span style="display:flex;"><span>        _last = last;
</span></span><span style="display:flex;"><span>        Nickname = nick;
</span></span><span style="display:flex;"><span>        _wid = wid;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>If you compare this example to the previous one, you will note that the code contained in bodies of the <code>get</code> and <code>set</code> are identical to the corresponding getter and setter methods. Essentially, C# properties are shorthand for writing out the accessor methods.  In fact, when you compile a C# program it transforms the <code>get</code> and <code>set</code> back into methods, i.e. the <code>get</code> in first is used to generate a method named <code>get_First()</code>.</p>
<p>While properties <em>are</em> methods, the syntax for working with them in code is identical to that of fields, i.e. if we were to create and then print a <code>Student</code>&rsquo;s identifying information, we&rsquo;d do something like:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Student willie = <span style="color:#66d9ef">new</span> Student(<span style="color:#e6db74">&#34;Willie&#34;</span>, <span style="color:#e6db74">&#34;Wildcat&#34;</span>, <span style="color:#e6db74">&#34;WillieCat&#34;</span>, <span style="color:#ae81ff">99999999</span>);
</span></span><span style="display:flex;"><span>Console.Write(<span style="color:#e6db74">&#34;Hello, &#34;</span>)
</span></span><span style="display:flex;"><span>Console.WriteLine(willie.FullName);
</span></span><span style="display:flex;"><span>Console.Write(<span style="color:#e6db74">&#34;Your WID is:&#34;</span>);
</span></span><span style="display:flex;"><span>Console.WriteLine(willie.Wid);</span></span></code></pre></div><p>Note too that we can declare properties with only a <code>get</code> or a <code>set</code> body, and that properties can be derived from other state rather than having a private backing field.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<h4 id="properties-are-_methods_">Properties are <em>Methods</em></h4>
<p>While C# properties are used like fields, i.e. <code>Console.WriteLine(willie.Wid)</code> or <code>willie.First = &quot;William&quot;</code>, they are actually <em>methods</em>.  As such, they <em>do not add structure to hold state</em>, hence the need for a <em>backing variable</em>.</p>
<p>The <code>Nickname</code> property in the example above is special syntax for an <em>implicit</em> backing field - the C# compiler creates the necessary space to hold the value.  But we can <em>only</em> access the value stored through that property.  If you need direct access to it, you <em>must</em> create a backing variable.</p>
<p>However, we don&rsquo;t always need a backing variable for a Property getter if the value of a property can be calculated from the current state of the class, e.g., consider our <code>FullName</code> property in our <code>Student</code> class:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> FullName 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">get</span> 
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#e6db74">$&#34;{First} {Last}&#34;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><p>Here we&rsquo;re effectively generating the value of the <code>FullName</code> property from the <code>First</code> and <code>Last</code> properties every time the <code>FullName</code> property is requested.  This does cause a bit more computation, but we also know that it will always reflect the current state of the first and last names.</p>
</div>
</div>
<h2 id="auto-property-syntax">Auto-Property Syntax</h2>
<p>Not all properties need to do extra logic in the <code>get</code> or <code>set</code> body.  Consider our <code>Vector3</code> class we discussed earlier. We used public fields to represent the <code>X</code>, <code>Y</code>, and <code>Z</code> components, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> X = <span style="color:#ae81ff">0</span>;</span></span></code></pre></div><p>If we wanted to switch to using properties, the <code>X</code> property would end up like this:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">double</span> _x = <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> X 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">get</span> 
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> _x;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">set</span> 
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    _x = <span style="color:#66d9ef">value</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Which seems like a lot more work for the same effect. To counter this perception and encourage programmers to use properties even in cases like this, C# also supports <em>auto-property</em> syntax. An auto-property is written like:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> X {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;} = <span style="color:#ae81ff">0</span>;</span></span></code></pre></div><p>Note the addition of the <code>{get; set;}</code> - this is what tells the compiler we want a property and not a field.  When compiled, this code is transformed into a full getter and setter whose bodies match the basic <code>get</code> and <code>set</code> in the example above. The compiler even creates a private backing field (but we cannot access it in our code, because it is only created at compile time).  Any time you don&rsquo;t need to do any additional logic in a get or set, you can use this syntax.</p>
<p>Note that in the example above, we set a default value of <code>0</code>.  You can omit setting a default value.  You can also define a get-only autoproperty that always returns the default value (remember, you cannot access the compiler-generated backing field, so it can never be changed):</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> Pi {<span style="color:#66d9ef">get</span>;} = <span style="color:#ae81ff">3.14</span>;</span></span></code></pre></div><p>In practice, this is effectively a constant field, so consider carefully if it is more appropriate to use that instead:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">const</span> PI = <span style="color:#ae81ff">3.14</span>;</span></span></code></pre></div><p>While it is possible to create a set-only auto-property, you will not be able access its value, so it is of limited use.</p>
<h2 id="expression-bodied-members">Expression-Bodied Members</h2>
<p>Later versions of C# introduced a concise way of writing functions common to functional languages known as lambda syntax, which C# calls <a href="https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/expression-bodied-members" target="_blank">Expression-Bodied Members</a>
.</p>
<p>Properties can be written using this concise syntax.  For example, our <code>FullName</code> get-only derived property in the <code>Student</code> written as an expression-bodied read-only property would be:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> FullName =&gt; <span style="color:#e6db74">$&#34;{FirstName} {LastName}&#34;</span></span></span></code></pre></div><p>Note the use of the arrow formed by an equals and greater than symbol <code>=&gt;</code>.  Properties with both a getter and setter can also be written as expression-bodied properties.  For example, our <code>FirstName</code> property could be rewritten:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> FirstName 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">get</span> =&gt; _first;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">set</span> =&gt; <span style="color:#66d9ef">if</span>(<span style="color:#66d9ef">value</span>.Length &gt; <span style="color:#ae81ff">0</span>) _first = <span style="color:#66d9ef">value</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>This syntax works well if your property bodies are a single expression.  However, if you need multiple lines, you should use the regular property syntax instead (you can also mix and match, i.e. use an expression-bodied <code>get</code> with a regular <code>set</code>).</p>
<h2 id="different-access-levels">Different Access Levels</h2>
<p>It is possible to declare your property as <code>public</code> and give a different access level to one of the accessors, i.e. if we wanted to add a GPA property to our student:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> GPA { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">set</span>; } = <span style="color:#ae81ff">4.0</span>;</span></span></code></pre></div><p>In this case, we can access the value of the GPA outside of the student class, but we can only set it from code inside the class. This approach works with all ways of defining a property.</p>
<h2 id="init-property-accessor">Init Property Accessor</h2>
<p>C# 9.0 introduced a third accessor, <code>init</code>.  This also sets the value of the property, but can <em>only</em> be used when the class is being initialized, and it can only be used once. This allows us to have some properties that are <em>immutable</em> (unable to be changed).</p>
<p>Our student example treats the <code>Wid</code> as immutable, but we can use the <code>init</code> keyword with an auto-property for a more concise representation:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">uint</span> Wid {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">init</span>;}</span></span></code></pre></div><p>And in the constructor, replace setting the backing field (<code>_wid = wid</code>) with setting the property (<code>Wid = wid</code>). This approach is similar to the public property/private setter, but won&rsquo;t allow the property to ever change once declared.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="programs-in-memory">Programs in Memory</h1>


<a href="https://www.youtube.com/watch?v=2g3TC5mdYLI">YouTube Video</a>


  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>The above video and below textbook content cover the same ideas (but are not identical). Feel free to pick one or the other.</p>
</div>
</div>
<p>Before we move on to our next concept, it is helpful to explore how programs use memory. Remember that modern computers are <a href="https://en.wikipedia.org/wiki/Stored-program_computer" target="_blank">stored program computers</a>
, which means the <em>program</em> as well as the <em>data</em> are stored in the computer&rsquo;s memory. A Universal Turing Machine, the standard example of stored program computer, reads the program from the same paper tape that it reads its inputs to and writes its output to. In contrast, to load a program in the ENIAC, the first electronic computer in the United States, programmers had to physically rewire the computer (it was later modified to be a stored-program computer).</p>
<p>When a program is run, the operating system allocates part of the computer&rsquo;s memory (RAM) for the program to use. This memory is divided into three parts - the <em>static</em> memory, the <em>stack</em>, and the <em>heap</em>.</p>
<p>
<a href="#image-d965d437fd177f8b6d9676a0ae54eda1" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.1.8.1.png" alt="A diagram of the memory allocated to a program" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-d965d437fd177f8b6d9676a0ae54eda1">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.1.8.1.png" alt="A diagram of the memory allocated to a program" class="lightbox-image" loading="lazy">
</a></p>
<p>The program code itself is copied into the <em>static</em> section of that memory, along with any literals (<code>1</code>, <code>&quot;Foo&quot;</code>). Additionally, the space to hold any variables that are declared <code>static</code> is allocated here.  The reason this memory space is called static is that it is allocated when the program begins, and remains allocated for as long as the program is running. It does not grow or shrink (though the value of <code>static</code> variables may change).</p>
<p>The <em>stack</em> is where the space for scoped variables is allocated.  We often call it the stack because functionally it is used like the stack data structure. The space for global variables is allocated first, at the &ldquo;bottom&rdquo; of the stack. Then, every time the program enters a new scope (i.e. a new function, a new loop body, etc.) the variables declared there are allocated on the stack.  When the program exits that scope (i.e. the function returns, the loop ends), the memory that had been reserved for those values is released (like the stack pop operation).</p>
<p>Thus, the stack grows and shrinks over the life of the program. The base of the stack is against the static memory section, and it grows towards the heap.  If it grows too much, it runs out of space.  This is the root cause of the nefarious <strong>stack overflow</strong> exception. The stack has run out of memory, most often because an infinite recursion or infinite loop.</p>
<p>Finally, the <em>heap</em> is where dynamically allocated memory comes from - memory the programmer specifically reserved for a purpose.  In C programming, you use the <code>calloc()</code>, <code>malloc()</code>, or <code>realloc()</code> to allocate space manually.  In Object-Oriented languages, the data for individual <em>objects</em> are stored here.  Calling a constructor with the <code>new</code> keyword allocates memory on the heap, the constructor then initializes that memory, and then the address of that memory is returned.  We&rsquo;ll explore this process in more depth shortly.</p>
<p>This is also where the difference between a <em>value</em> type and a <em>reference</em> type comes into play.  Value types include numeric objects like integers, floating point numbers, and also booleans.  Reference types include strings and classes.  When you create a variable that represents a value type, the memory to hold its value is created in the stack.  When you create a variable to hold a reference type, it also has memory in the stack - but this memory holds a pointer to where the object&rsquo;s actual data is allocated in the heap.  Hence the term <em>reference type</em>, as the variable doesn&rsquo;t hold the object&rsquo;s data directly - instead it holds a reference to where that object exists in the heap!</p>
<p>This is also where <code>null</code> comes from - a value of <code>null</code> means that a reference variable is not pointing at anything.</p>
<p>The objects in the heap are not limited to a scope like the variables stored in the stack. Some may exist for the entire running time of the program.  Others may be released almost immediately. Accordingly, as this memory is released, it leaves &ldquo;holes&rdquo; that can be re-used for other objects (provided they fit). Many modern programming languages use a garbage collector to monitor how fragmented the heap is becoming, and will occasionally reorganize the data in the heap to make more contiguous space available.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="objects-in-memory">Objects in Memory</h1>

<p>We often talk about the <strong><em>class</em></strong> as a <em>blueprint</em> for an <strong><em>object</em></strong>.  This is because classes define what properties and methods an object should have, in the form of the class definition.  An object is created from this blueprint by invoking the class&rsquo; <strong>constructor</strong>. Consider this class representing a planet:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A class representing a planet</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Planet</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// The planet&#39;s mass in Earth Mass units (~5.9722 x 10^24kg)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">double</span> mass;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> Mass 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">get</span> { <span style="color:#66d9ef">return</span> mass; }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// The planet&#39;s radius in Earth Radius units (~6.738 x 10^6m)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">double</span> radius;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> Radius 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">get</span> { <span style="color:#66d9ef">return</span> radius; }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Constructs a new planet</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;mass&#34;&gt;The planet&#39;s mass&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;radius&#34;&gt;The planet&#39;s radius&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Planet(<span style="color:#66d9ef">double</span> mass, <span style="color:#66d9ef">double</span> radius) 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.mass = mass;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.radius = radius;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>It describes a planet as having a mass and a radius. But a class does more than just labeling the properties and fields and providing methods to mutate the state they contain.  It also specifies how <em>memory needs to be allocated</em> to hold those values as the program runs. In memory, we would need to hold <em>both</em> the mass and radius values.  These are stored side-by-side, as a series of bits that are on or off.  You probably remember from CIS 115 that a <code>double</code> is stored as a <strong>sign bit</strong>, <strong>mantissa</strong> and <strong>exponent</strong>.  This is also the case here - a C# <code>double</code> requires 64 bits to hold these three parts, and we can represent it with a memory diagram:</p>
<p>
<a href="#image-7b9936c1b45bbb78ff45fcb503825e54" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.1.7.1.png" alt="The Planet memory diagram" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-7b9936c1b45bbb78ff45fcb503825e54">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.1.7.1.png" alt="The Planet memory diagram" class="lightbox-image" loading="lazy">
</a></p>
<p>We can create a specific planet by invoking its constructor, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">new</span> Planet(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>);</span></span></code></pre></div><p>This <em>allocates</em> (sets aside) the memory to hold the planet, and populates the mass and radius with the supplied values.  We can represent this with a memory diagram:</p>
<p>
<a href="#image-ea90e2c9bfecf00a7224ef1d9fc7e604" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.1.7.2.png" alt="The constructed planet&amp;rsquo;s memory diagram" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-ea90e2c9bfecf00a7224ef1d9fc7e604">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.1.7.2.png" alt="The constructed planet&amp;rsquo;s memory diagram" class="lightbox-image" loading="lazy">
</a></p>
<p>With memory diagrams, we typically write the values of variables in their human-readable form.  Technically the values we are storing are in binary, and would each be <code>0000000000010000000000000000000000000000000000000000000000000001</code>, so our overall object would be the bits: <code>00000000000100000000000000000000000000000000000000000000000000010000000000010000000000000000000000000000000000000000000000000001</code>.</p>
<p>And this is <em>exactly</em> how it is stored in memory!  The nice boxes we drew in our memory diagram are a tool for us to reason about the memory, <strong>not</strong> something that actually exists in memory.  Instead, the compiler determines the starting point for each <code>double</code> by looking at the structure defined in our <code>class</code>, i.e. the first field defined is <code>mass</code>, so it will be the first 64 bits of the object in memory.  The second field is <code>radius</code>, so it starts 65 bits into the object and consists of the next (and final) 64 bits.</p>
<p>If we assign the created <code>Planet</code> object to a variable, we allocate memory for that variable:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Planet earth = <span style="color:#66d9ef">new</span> Planet(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>);</span></span></code></pre></div><p>Unlike our <code>double</code> and other primitive values, this allocated memory holds a <em>reference</em> (a starting address of the memory where the object was allocated).  We indicate this with a box and arrow connecting the variable and object in our memory diagram:</p>
<p>
<a href="#image-b805f5602f316910cf0590bdb281d5ba" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.1.7.3.png" alt="The memory diagram for the earth variable" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-b805f5602f316910cf0590bdb281d5ba">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.1.7.3.png" alt="The memory diagram for the earth variable" class="lightbox-image" loading="lazy">
</a></p>
<p>A reference is either 32 bits (on a computer with a 32-bit CPU) or 64 bits (on a computer with a 64-bit CPU), and essentially is an offset from the memory address $0$ indicating where the object will be located in memory (in the computer&rsquo;s RAM).  You&rsquo;ll see this in far more detail in <strong>CIS 450 - Computer Architecture and Operations</strong>, but the important idea for now is the variable stores <em>where the object is located in memory</em> <strong>not</strong> <em>the object&rsquo;s data itself</em>.  This is also why if we define a class variable but don&rsquo;t assign it an object, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Planet mars;</span></span></code></pre></div><p>
<a href="#image-835f69809b028d64fece15cef7691852" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.1.7.4.png" alt="The memory diagram for the mars variable" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-835f69809b028d64fece15cef7691852">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.1.7.4.png" alt="The memory diagram for the mars variable" class="lightbox-image" loading="lazy">
</a></p>
<p>The value of this variable will be <code>null</code>.  It&rsquo;s because it doesn&rsquo;t point anywhere!</p>
<p>Returning to our Earth example, <code>earth</code> is an <em>instance</em> of the class <code>Planet</code>.  We can create other instances, i.e.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Planet mars = <span style="color:#66d9ef">new</span> Planet(<span style="color:#ae81ff">0.107</span>, <span style="color:#ae81ff">0.53</span>);</span></span></code></pre></div><p>
<a href="#image-8727af118523dee700315a2345f0d157" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.1.7.5.png" alt="The memory diagram for the initialized mars variable" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-8727af118523dee700315a2345f0d157">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.1.7.5.png" alt="The memory diagram for the initialized mars variable" class="lightbox-image" loading="lazy">
</a></p>
<p>We can even create a <strong>Planet</strong> instance to represent one of the exoplanets discovered by <a href="https://www.nasa.gov/tess-transiting-exoplanet-survey-satellite" title="Testing Exoplanet Survey Satellite" target="_blank">NASAâ€™s TESS</a>
:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Planet hd21749b = <span style="color:#66d9ef">new</span> Planet(<span style="color:#ae81ff">23.20</span>, <span style="color:#ae81ff">2.836</span>);</span></span></code></pre></div><p>
<a href="#image-2f40b997de64598c8747d2f9fe17788a" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.1.7.6.png" alt="The memory diagram for three planets" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-2f40b997de64598c8747d2f9fe17788a">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.1.7.6.png" alt="The memory diagram for three planets" class="lightbox-image" loading="lazy">
</a></p>
<p>Letâ€™s think more deeply about the idea of a class as a blueprint.  A blueprint for what, exactly?  For one thing, it serves to describe the <em>state</em> of the object, and helps us label that state.  If we were to check our variable <strong>marsâ€™</strong> radius, we do so based on the property <strong>Radius</strong> defined in our class:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>mars.Radius</span></span></code></pre></div><p>This would follow the <code>mars</code> reference to the <code>Planet</code> object it represents, and access the second group of 64 bits stored there, interpreting them as a <code>double</code> (basically it adds 64 to the <code>reference</code> address and then reads the next 64 bits)</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>Incidentally, this is why we start counting at 0 in computer science.  The <code>mass</code> bits start at the start of our <code>Planet</code> object, referenced by <code>mars</code> i.e. if <code>mars</code> holds the reference address $5234$, then the bits of <code>mass</code> <em>also</em> begin at $5234$, or $5234+0$.  And the <code>radius</code> bits start at $5234 + 64$.</p>
</div>
</div>
<p>State and memory are clearly related - the current state is what data is stored in memory.  It is possible to take that memoryâ€™s current state, write it to persistent storage (like the hard drive), and then read it back out at a later point in time and restore the program to exactly the state we left it with.  This is actually what Windows does when you put it into hibernation mode.</p>
<p>The process of writing out the state is known as <em>serialization</em>, and itâ€™s a topic weâ€™ll revisit later.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<h4 id="the-static-modifier-and-memory">The Static Modifier and Memory</h4>
<p>You might have wondered how the <code>static</code> modifier plays into objects.  Essentially, the <code>static</code> keyword indicates the field or method it modifies <em>exists in only one memory location</em>.  I.e. a static field references the <em>same</em> memory location for all objects that possess it.  Hence, if we had a simple class like:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Simple</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> A;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> B;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Simple(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.A = a;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.B = b;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>And created a couple of instances:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Simple first = <span style="color:#66d9ef">new</span> Simple(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">12</span>);
</span></span><span style="display:flex;"><span>Simple second = <span style="color:#66d9ef">new</span> Simple(<span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">5</span>);</span></span></code></pre></div><p>The value of <code>first.A</code> would be 8 - because <code>first.A</code> and <code>second.A</code> reference the <em>same</em> memory location, and <code>second.A</code> was set <em>after</em> <code>first.A</code>.  If we changed it again:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>first.A = <span style="color:#ae81ff">3</span>;</span></span></code></pre></div><p>Then both <code>first.A</code> and <code>second.A</code> would have the value 3, as they share the same memory.  <code>first.B</code> would still be 12, and <code>second.B</code> would be 5.</p>
<p>Another way to think about <code>static</code> is that it means the field or method we are modifying belongs to the <em>class</em> and not the individual <em>object</em>.  Hence, each object <em>shares</em> a <code>static</code> variable, because it belongs to their class.  Used on a method, <code>static</code> indicates that the method belongs to the class definition, not the object instance.  Hence, we must invoke it <em>from the class</em>, not an object instance: i.e. <code>Math.Pow()</code>, not <code>Math m = new Math(); m.Pow();</code>.</p>
<p>Finally, when used with a class, <code>static</code> indicates we can&rsquo;t create objects from the class - the class definition exists on its own.  Hence, the <code>Math m = new Math();</code>  is actually an error, as the <code>Math</code> class is declared static.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="c-object-initialization">C# Object Initialization</h1>

<p>With our broader understanding of objects in memory, let&rsquo;s re-examine something you&rsquo;ve been working with already, how the values in that memory are <em>initialized</em> (set to their initial values).  In C#, there are four primary ways a value is initialized:</p>
<ol>
<li>By zeroing the memory</li>
<li>By setting a default value</li>
<li>By the constructor</li>
<li>With Initialization syntax</li>
</ol>
<p>This also happens to be the order in which these operations occur - i.e. the default value can be overridden by code in the constructor. Only after all of these steps are completed is the initialized object returned from the constructor.</p>
<h2 id="zeroing-the-memory">Zeroing the Memory</h2>
<p>This step is actually done for you - it is a feature of the C# language.  Remember, allocated memory is simply a series of bits. Those bits have likely been used previously to represent something else, so they will already be set to 0s or 1s.  Once you treat it as a variable, it will have a specific meaning.  Consider this statement:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>int foo;</code></pre></div><p>That statement allocates the space to hold the value of <code>foo</code>.  But what is that value?  In many older languages, it would be whatever is specified by how the bits were set previously - i.e. it could be any integer within the available range.  And each time you ran the program, it would probably be a <em>different</em> value!  This is why it is always a good idea to <em>assign</em> a value to a variable immediately after you declare it.</p>
<p>The creators of C# wanted to avoid this potential problem, so in C# any memory that is allocated by a variable declaration is also <em>zeroed</em> (all bits are set to 0).  Exactly what this means depends on the variable&rsquo;s type. Essentially, for numerics (integers, floating points, etc) the value would be <code>0</code>, for booleans it would be <code>false</code>.  And for reference types, the value would be <code>null</code>.</p>
<h2 id="default-values">Default Values</h2>
<p>A second way a field&rsquo;s value can be set is by assigning a default value after it is declared.  Thus, if we have a private backing <code>_count</code> in our <code>CardDeck</code> class, we could set it to have a default value of 52:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CardDeck</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> _count = <span style="color:#ae81ff">52</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> Count 
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">get</span> 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> _count;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">set</span> 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      _count = <span style="color:#66d9ef">value</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>This ensures that <code>_count</code> starts with a value of 52, instead of 0.</p>
<p>We can also set a default value when using auto-property syntax:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CardDeck</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> Count {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;} = <span style="color:#ae81ff">52</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>It is important to understand that the default value is assigned <em>as the memory is allocated</em>, which means the object doesn&rsquo;t exist yet.  Basically, we cannot use methods, fields, or properties of the class to set a default value.  For example:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CardDeck</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> Count {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;} = <span style="color:#ae81ff">52</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> PricePerCard {<span style="color:#66d9ef">get</span>;} = <span style="color:#ae81ff">5</span>m / Count; 
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Won&rsquo;t compile, because we don&rsquo;t have access to the <code>Count</code> property when setting the default for <code>PricePerCard</code>.</p>
</div>
</div>
<h2 id="constructors">Constructors</h2>
<p>This brings us to the constructor, the standard way for an object-oriented program to initialize the state of the object as it is created. In C#, the constructor always has the same name as the class it constructs and has no return type.  For example, if we defined a class <code>Square</code>, we might type:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Square</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">float</span> length;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Square(<span style="color:#66d9ef">float</span> length) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.length = length;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">float</span> Area() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> length * length;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Note that unlike the regular method, <code>Area()</code>, our constructor <code>Square()</code> does not have a return type.  In the constructor, we set the <code>length</code> field of the newly constructed object to the value supplied as the parameter <code>length</code>.  Note too that we use the <code>this</code> keyword to distinguish between the <em>field</em> <code>length</code> and the <em>parameter</em> <code>length</code>.  Since both have the same name, the C# compiler assumes we mean the parameter, unless we use <code>this.length</code> to indicate the field that belongs to <code>this</code> - i.e. this object.</p>
<h3 id="parameterless-constructors">Parameterless Constructors</h3>
<p>A parameterless constructor is one that does not have any parameters.  For example:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Ball</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> x;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> y;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Ball() {
</span></span><span style="display:flex;"><span>        x = <span style="color:#ae81ff">50</span>;
</span></span><span style="display:flex;"><span>        y = <span style="color:#ae81ff">10</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Notice how no parameters are defined for <code>Ball()</code> - the parentheses are empty.</p>
<p>If we don&rsquo;t provide a constructor for a class the C# compiler automatically creates a <em>parameterless</em> constructor for us, i.e. the class <code>Bat</code>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Bat</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">bool</span> wood = <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Can be created by invoking <code>new Bat()</code>, even though we did not define a constructor for the class.  If we define <em>any</em> constructors, parameterless or otherwise, then the C# compiler will not create an automatic parameterless constructor.</p>
<h2 id="initializer-syntax">Initializer Syntax</h2>
<p>Finally, C# introduces some special syntax for setting initial values after the constructor code has run, but before initialization is completed - <a href="https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/object-and-collection-initializers" target="_blank">Object initializers</a>
.  For example, if we have a class representing a rectangle:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Rectangle</span> 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> Width {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> Height {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>We could initialize it with:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Rectangle r = <span style="color:#66d9ef">new</span> Rectangle() {
</span></span><span style="display:flex;"><span>  Width = <span style="color:#ae81ff">20</span>,
</span></span><span style="display:flex;"><span>  Height = <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>};</span></span></code></pre></div><p>The resulting rectangle would have its width and height set to 20 and 10 respectively <em>before</em> it was assigned to the variable <code>r</code>.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>In addition to the <code>get</code> and <code>set</code> accessor, C# has an <code>init</code> operator that works like the <code>set</code> operator but can <em>only</em> be used during object initialization.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="message-passing">Message Passing</h1>

<p>The second criteria Alan Kay set for object-oriented languages was <a href="https://en.wikipedia.org/wiki/Message_passing" target="_blank">message passing</a>
.  Message passing is a way to request that a unit of code engage in a behavior, i.e. changing its state, or sharing some aspect of its state.</p>
<p>Consider the real-world analogue of a letter sent via the postal service.  Such a message consists of: an address the message needs to be sent to, a return address, the message itself (the letter), and any data that needs to accompany the letter (the enclosures).  A specific letter might be a wedding invitation.  The message includes the details of the wedding (the host, the location, the time), an enclosure might be a refrigerator magnet with these details duplicated.  The recipient should (per custom) send a response to the host addressed to the return address letting them know if they will be attending.</p>
<p>In an object-oriented language, message passing primarily takes the form of methods. Let&rsquo;s revisit our example <code>Vector3</code> class:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Vector3</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> X {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> Y {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> Z {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt; </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Creates a new Vector3 object</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Vector3(<span style="color:#66d9ef">double</span> x, <span style="color:#66d9ef">double</span> y, <span style="color:#66d9ef">double</span> z) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.X = x;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.Y = y;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.Z = z;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Computes the dot product of this vector and another one </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;other&#34;&gt;The other vector&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> DotProduct(Vector3 other) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.X * other.X + <span style="color:#66d9ef">this</span>.Y * other.Y + <span style="color:#66d9ef">this</span>.Z * other.Z;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>And let&rsquo;s use its <code>DotProduct()</code> method:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Vector3 a = <span style="color:#66d9ef">new</span> Vector3(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>);
</span></span><span style="display:flex;"><span>Vector3 b = <span style="color:#66d9ef">new</span> Vector3(<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">double</span> c = a.DotProduct(b);</span></span></code></pre></div><p>Consider the invocation of <code>a.DotProduct(b)</code> above.  The method name, <code>DotProduct</code> provides the details of what the message is intended to accomplish (the letter).  Invoking it on a specific variable, i.e. <code>a</code>, tells us who the message is being sent to (the recipient address).  The return type indicates what we need to send back to the recipient (the invoking code), and the parameters provide any data needed by the class to address the task (the enclosures).</p>
<p>Letâ€™s define a new method for our Vector3 class that emphasizes the role message passing plays in mutating object state:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Vector3</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> X {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> Y {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> Z {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt; </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Creates a new Vector3 object</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Vector3(<span style="color:#66d9ef">double</span> x, <span style="color:#66d9ef">double</span> y, <span style="color:#66d9ef">double</span> z) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.X = x;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.Y = y;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.Z = z;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Normalize() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">var</span> magnitude = Math.Sqrt(Math.pow(<span style="color:#66d9ef">this</span>.X, <span style="color:#ae81ff">2</span>) + Math.Pow(<span style="color:#66d9ef">this</span>.Y, <span style="color:#ae81ff">2</span>) + Math.Pow(<span style="color:#66d9ef">this</span>.Z, <span style="color:#ae81ff">2</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.X /= magnitude;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.Y /= magnitude;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.Z /= magnitude;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>We can now invoke the <code>Normalize()</code> method on a Vector3 to mutate its state, shortening the magnitude of the vector to length 1.</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Vector3 f = <span style="color:#66d9ef">new</span> Vector3(<span style="color:#ae81ff">9.0</span>, <span style="color:#ae81ff">3.0</span>, <span style="color:#ae81ff">2.0</span>);
</span></span><span style="display:flex;"><span>f.Normalize();</span></span></code></pre></div><p>Note how here, <code>f</code> is the object receiving the message <code>Normalize</code>.  There is no additional data needed, so there are no parameters being passed in.  Our earlier <code>DotProduct()</code> method took a second vector as its argument, and used that vector&rsquo;s values to mutate its state.</p>
<p>Message passing therefore acts like those special molecular pumps and other gate mechanisms of a cell that control what crosses the cell wall.  The methods defined on a class determine how outside code can interact with the object. An extra benefit of this approach is that a method becomes an abstraction for the behavior of the code, and the associated state changes it embodies.  As a programmer using the method, we don&rsquo;t need to know the exact implementation of that behavior - just what data we need to provide, and what it should return or how it will alter the program state.  This makes it far easier to reason about our program, and also means we can change the internal details of a class (perhaps to make it run faster) without impacting the other aspects of the program.</p>
<p>This is also the reason we want to use getters and setters (or properties in C#) instead of public fields in an object-oriented language.  Getters, setters, and C# properties are all methods, and therefore are a form of message passing, and they ensure that outside code is not modifying the state of the object (rather, the outside code is requesting the object to change its state).  It is a fine distinction, but one that can be very important.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>You probably have noticed that in many programming languages we speak of <em>functions</em>, but in C# and other object-oriented languages, we&rsquo;ll often speak of <em>methods</em>.  You might be wondering just what is the difference?</p>
<p>Both are forms of message passing, and share many of the same characteristics.  Broadly speaking though, <em>methods</em> are <em>functions</em> defined as part of an object.  Therefore, their bodies can access the state of the object.  In fact, that&rsquo;s what the <code>this</code> keyword in C# means - it refers to <em>this object</em>, i.e. the instance of the class that the method is currently executing for.  For non-object-oriented languages, there is no concept of <code>this</code> (or <code>self</code> as it appears in some other languages).</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="summary">Summary</h1>

<p>In this chapter, we looked at how Object-Orientation adopted the concept of encapsulation to combine related state and behavior within a single unit of code, known as a class.  We also discussed the three key features found in the implementation of classes and objects in Object-Oriented languages:</p>
<ol>
<li>Encapsulation of state and behavior within an object, defined by its class</li>
<li>Information hiding applied to variables defined within that class to prevent unwanted mutations of object state</li>
<li>Message passing to allow controlled mutations of object state in well-defined ways</li>
</ol>
<p>We explored how objects are instances of a class created through invoking a constructor method, and how each object has its own independent state but shares behavior definitions with other objects constructed from the same class.  We discussed several different ways of looking at and reasoning about objects - as a state machine, and as structured data stored in memory. We saw how the constructor creates the memory to hold the object state and initializes its values.  We saw how access modifiers and accessor methods can be used to limit and control access to the internal state of an object through message passing.</p>
<p>Finally, we explored how all of these concepts are implemented in the C# language.</p>

            <footer class="footline">

            </footer>
          </article>

          </section>
    
    
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 2</div>
<h1 id="polymorphism">Polymorphism</h1>

<p>It&rsquo;s a shapeshifter!</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Polymorphism</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="introduction">Introduction</h1>

<p>The term <em>polymorphism</em> means <em>many forms.</em>  In computer science, it refers to the ability of a single symbol (i.e. a function or class name) to represent multiple <em>types</em>.  Some form of polymorphism can be found in nearly all programming languages.</p>
<p>While encapsulation of state and behavior into objects is the most central theoretical idea of object-oriented languages, polymorphism - specifically in the form of <em>inheritance</em> is a close second.  In this chapter weâ€™ll look at how polymorphism is commonly implemented in object-oriented languages.</p>
<h2 id="key-terms">Key Terms</h2>
<p>Some key terms to learn in this chapter are:</p>
<ul>
<li>Polymorphism</li>
<li>Type</li>
<li>Type Checking</li>
<li>Casting</li>
<li>Implicit Casting</li>
<li>Explicit Casting</li>
<li>Interface</li>
<li>Inheritance</li>
<li>Superclass</li>
<li>Subclass</li>
<li>Abstract Classes</li>
</ul>
<p>C# Keywords:</p>
<ul>
<li><code>Interface</code></li>
<li><code>protected</code></li>
<li><code>abstract</code></li>
<li><code>virtual</code></li>
<li><code>override</code></li>
<li><code>sealed</code></li>
<li><code>as</code></li>
<li><code>is</code></li>
<li><code>dynamic</code></li>
</ul>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="types">Types</h1>

<p>Before we can discuss polymorphism in detail, we must first understand the concept of <em>types</em>.  In computer science, a <em>type</em> is a way of categorizing a variable by its storage strategy, i.e., how it is represented in the computer&rsquo;s memory.</p>
<p>You&rsquo;ve already used types extensively in your programming up to this point.  Consider the declaration:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> number = <span style="color:#ae81ff">5</span>;</span></span></code></pre></div><p>The variable <strong>number</strong> is declared to have the type <strong>int</strong>.  This lets the .NET interpreter know that the value of number will be stored using a specific scheme.  This scheme will use 32 bits and contain the number in <a href="https://en.wikipedia.org/wiki/Two%27s_complement" target="_blank">Two&rsquo;s complement binary form</a>.  This form, and the number of bytes, allows us to represent numbers in the range -2,147,483,648 to 2,147,483,647.  If we need to store larger values, we might instead use a <em>long</em> which uses 64 bits of storage.  Or, if we only need positive numbers, we might instead use a <em>uint</em>, which uses 32 bits and stores the number in regular <a href="https://en.wikipedia.org/wiki/Binary_number" target="_blank">base 2 (binary) form</a>
.</p>
<p>This is why languages like C# provide multiple <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/integral-numeric-types" target="_blank">integral</a>
 and <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/floating-point-numeric-types" target="_blank">float</a>
 types.  Each provides a different representation, representing a tradeoff between memory required to store the variable and the range or precision that variable can represent.</p>
<p>In addition to integral and float types, most programming languages include types for booleans, characters, arrays, and often strings.  C# is no exception - you can read about its built-in value types <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/value-types" target="_blank">in the documentation</a>
.</p>
<h2 id="user-defined-types">User-Defined Types</h2>
<p>In addition to built-in types, most programming languages support <em>user-defined types</em>, that is, new types defined by the programmer.  For example, if we were to define a C# enum:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">enum</span> Grade {
</span></span><span style="display:flex;"><span>  A,
</span></span><span style="display:flex;"><span>  B,
</span></span><span style="display:flex;"><span>  C,
</span></span><span style="display:flex;"><span>  D,
</span></span><span style="display:flex;"><span>  F
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Defines the type <em>Grade</em>.  We can then create variables with that type:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Grade courseGrade = Grade.A;</span></span></code></pre></div><p>Similarly, <em>structs</em> provide a way of creating user-defined compound data types.</p>
<h2 id="classes-are-types">Classes are Types</h2>
<p>In an object-oriented programming language, a Class also <em>defines a new type</em>.  As we discussed in the previous chapter, the Class defines the structure for the <em>state</em> (what is represented) and <em>memory</em> (how it is represented) for objects implementing that type.  Consider the C# class Student:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// backing variables</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">float</span> creditPoints = <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">uint</span> creditHours = <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// Gets and sets first name.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> First { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// Gets and sets last name.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Last { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// Gets the student&#39;s GPA</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">float</span> GPA {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">get</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> creditPoints / creditHours;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// Adds a final grade for a course to the</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// student&#39;s GPA.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;param name=&#34;grade&#34;&gt;The student&#39;s final letter grade in the course&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;param name=&#34;hours&#34;&gt;The course&#39;s credit hours&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> AddCourseGrade(Grade grade, <span style="color:#66d9ef">uint</span> hours) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.creditHours += hours;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">switch</span>(grade) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">case</span> Grade.A:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.creditPoints += <span style="color:#ae81ff">4.0</span> * hours;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">case</span> Grade.B:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.creditPoints += <span style="color:#ae81ff">3.0</span> * hours;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">case</span> Grade.C:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.creditPoints += <span style="color:#ae81ff">2.0</span> * hours;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">case</span> Grade.D:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.creditPoints += <span style="color:#ae81ff">1.0</span> * hours;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">case</span> Grade.F:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.creditPoints += <span style="color:#ae81ff">0.0</span> * hours;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>If we want to create a new student, we would create an instance of the class <strong>Student</strong> which is an object of <em>type</em> <strong>Student</strong>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Student willie = <span style="color:#66d9ef">new</span> Student(<span style="color:#e6db74">&#34;Willie&#34;</span>, <span style="color:#e6db74">&#34;Wildcat&#34;</span>);</span></span></code></pre></div><p>Hence, the <em>type</em> of an object is <em>the class it is an instance of</em>.  This is a staple across all object-oriented languages.</p>
<h2 id="static-vs-dynamic-typed-languages">Static vs. Dynamic Typed Languages</h2>
<p>A final note on types.  You may hear languages being referred to as <em>statically</em> or <em>dynamically</em> typed.  A <em>statically</em> typed language is one where the type is set by the code itself, either <em>explicitly</em>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> foo = <span style="color:#ae81ff">5</span>;</span></span></code></pre></div><p>or <em>implicitly</em> (where the compiler determines the type based on the assigned value):</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> bar = <span style="color:#ae81ff">6</span>;</span></span></code></pre></div><p>In a statically typed language, a variable <em>cannot</em> be assigned a value of a different type, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>foo = <span style="color:#ae81ff">8.3</span>;</span></span></code></pre></div><p>Will fail with an error, as a float is a different type than an int.  Similarly, because <em>bar</em> has an implied type of int, this code will fail:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>bar = <span style="color:#ae81ff">4.3</span>;</span></span></code></pre></div><p>However, we can <em>cast</em> the value to a new type (changing how it is represented), i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>foo = (<span style="color:#66d9ef">int</span>)<span style="color:#ae81ff">8.9</span>;</span></span></code></pre></div><p>For this to work, the language must know how to perform the cast. The cast may also lose some information - in the above example, the resulting value of <strong>foo</strong> is <em>8</em> (the fractional part is discarded).</p>
<p>In contrast, in a <em>dynamically</em> typed language the type of the variable changes when a value of a different type is assigned to it.  For example, in JavaScript, this expression is legal:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;foo&#34;</span>;</span></span></code></pre></div><p>and the type of <strong>a</strong> changes from int (at the first assignment) to string (at the second assignment).</p>
<p>C#, Java, C, C++, and Kotlin are all <em>statically typed languages</em>, while Python, JavaScript, and Ruby are <em>dynamically typed languages</em>.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="interfaces">Interfaces</h1>

<p>If we think back to the concept of <em>message passing</em> in object-oriented languages, it can be useful to think of the collection of public methods available in a class as an <em>interface</em>, i.e., a list of messages you can dispatch to an object created from that class.  When you were first learning a language (and probably even now), you find yourself referring to these kinds of lists, either in the language documentation, or via Intellisense in Visual Studio.</p>
<p>
<a href="#image-f45fbe90422e9ee4de539827336ed891" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.1.3.1.png" alt="The Java API" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-f45fbe90422e9ee4de539827336ed891">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.1.3.1.png" alt="The Java API" class="lightbox-image" loading="lazy">
</a></p>
<p>
<a href="#image-6b2d161a01fae8644e20c6a5dd3d7f06" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.1.3.2.png" alt="Visual Studio Intellisense" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-6b2d161a01fae8644e20c6a5dd3d7f06">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.1.3.2.png" alt="Visual Studio Intellisense" class="lightbox-image" loading="lazy">
</a></p>
<p>Essentially, programmers use these &lsquo;interfaces&rsquo; to determine what methods can be invoked on an object.  In other words, which <em>messages</em> can be <em>passed</em> to the object.  This &lsquo;interface&rsquo; (note the lowercase i) is determined by the class definition, specifically what methods it contains.</p>
<p>In dynamically typed programming languages, like Python, JavaScript, and Ruby, if two classes accept the same message, you can treat them interchangeably, i.e. the <code>Kangaroo</code> class and <code>Car</code> class both define a <code>jump()</code> method, you could populate a list with both, and call the <code>jump()</code> method on each:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">jumpables</span> <span style="color:#f92672">=</span> [<span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Kangaroo</span>(), <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Car</span>(), <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Kangaroo</span>()];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">jumpables</span>.<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">jumpables</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">jump</span>();
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>This is sometimes called <a href="https://en.wikipedia.org/wiki/Duck_typing" target="_blank">duck typing</a>
, from the sense that &ldquo;if it walks like a duck, and quacks like a duck, it might as well be a duck.&rdquo;</p>
<p>However, for statically typed languages we must explicitly indicate that two types both possess the same message definition, by making the interface <em>explicit</em>.  We do this by declaring an <code>interface</code>.  I.e., the interface for classes that possess a parameter-less jump method might be:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// An interface indicating an object&#39;s ability to jump</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">IJumpable</span> {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// A method that causes the object to jump</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> Jump();
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>In C#, it is common practice to preface interface names with the character <code>I</code>. The <code>interface</code> declaration defines an &lsquo;interface&rsquo; - the shape of the messages that can be passed to an object implementing the interface - in the form of a method signature.  Note that this signature <em>does not include a body</em>, but instead ends in a semicolon (<code>;</code>).  An interface simply indicates the message to be sent, <em>not the behavior it will cause!</em>  We can specify as many methods in an <code>interface</code> declaration as we want.</p>
<p>Also note that the method signatures in an <code>interface</code> declaration <em>do not have access modifiers</em>.  This is because the whole purpose of defining an interface is to signify methods <em>that can be used by other code</em>.  In other words, <code>public</code> access is implied by including the method signature in the <code>interface</code> declaration.</p>
<p>This <code>interface</code> can then be implemented by other classes by listing it after the class name, after a colon <code>:</code>.  Any <code>Class</code> declaration implementing the interface <em>must define public methods whose signatures match those were specified by the interface</em>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;A class representing a kangaroo&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Kangaroo</span> : IJumpable 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;Causes the Kangaroo to jump into the air&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Jump() {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// TODO: Implement jumping...</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;A class representing an automobile&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Car</span> : IJumpable 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;Helps a stalled car to start by providing electricity from another car&#39;s battery&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Jump() {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// TODO: Implement jumping a car...</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;Starts the car&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Start() {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// TODO: Implement starting a car...</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>We can then treat these two disparate classes as though they shared the same type, defined by the <code>IJumpable</code> interface:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>List&lt;IJumpable&gt; jumpables = <span style="color:#66d9ef">new</span> List&lt;IJumpable&gt;() {<span style="color:#66d9ef">new</span> Kangaroo(), <span style="color:#66d9ef">new</span> Car(), <span style="color:#66d9ef">new</span> Kangaroo()};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i = <span style="color:#ae81ff">0</span>; i &lt; jumpables.Count; i++)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    jumpables[i].Jump();
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Note that while we are treating the Kangaroo and Car instances <em>as</em> <code>IJumpable</code> instances, we can <em>only</em> invoke the methods defined in the <code>IJumpable</code> interface, even if these objects have other methods. Essentially, the interface represents a new <em>type</em> that can be shared amongst disparate objects in a statically-typed language. The interface definition serves to assure the static type checker that the objects implementing it can be treated as this new type - i.e. the <code>Interface</code> provides a mechanism for implementing polymorphism.</p>
<p>We often describe the relationship between the interface and the class that implements it as a <em>is-a</em> relationship, i.e. a Kangaroo <em>is an</em> IJumpable (i.e. a Kangaroo is a thing that can jump).  We further distinguish this from a related polymorphic mechanism, inheritance, by the strength of the relationship.  We consider the relationship between interfaces and classes implementing them to be <strong>weak is-a</strong> connections.  For example, other than the shared interface, a Kangaroo and a Car don&rsquo;t have much to do with one another.</p>
<p>A C# class can implement as many interfaces as we want, they just need to be separated by commas, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Frog</span> : IJumpable, ICroakable, ICatchFlies
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// TODO: Implement frog class...</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="object-inheritance">Object Inheritance</h1>

<p>In an object-oriented language, inheritance is a mechanism for deriving part of a class definition from another existing class definition.  This allows the programmer to &ldquo;share&rdquo; code between classes, reducing the amount of code that must be written.</p>
<p>Consider a <strong>Student</strong> class:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A class representing a student</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// private backing variables</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">double</span> hours;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">double</span> points;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// Gets the students&#39; GPA</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> GPA {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">get</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> points / hours;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// Gets or sets the first name</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> First { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// Gets or sets the last name</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Last { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// Constructs a new instance of Student</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;param name=&#34;first&#34;&gt;The student&#39;s first name &lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;param name=&#34;last&#34;&gt;The student&#39;s last name&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> Student(<span style="color:#66d9ef">string</span> first, <span style="color:#66d9ef">string</span> last) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.First = first;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.Last = last;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// Adds a new course grade to the student&#39;s record.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;param name=&#34;creditHours&#34;&gt;The number of credit hours in the course &lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;param name=&#34;finalGrade&#34;&gt;The final grade earned in the course&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">///</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> AddCourseGrade(<span style="color:#66d9ef">uint</span> creditHours, Grade finalGrade) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.hours += creditHours;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">switch</span>(finalGrade) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">case</span> Grade.A:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.points += <span style="color:#ae81ff">4</span> * creditHours;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">case</span> Grade.B:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.points += <span style="color:#ae81ff">3</span> * creditHours;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">case</span> Grade.C:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.points += <span style="color:#ae81ff">2</span> * creditHours;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">case</span> Grade.D:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.points += <span style="color:#ae81ff">1</span> * creditHours;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>This would work well for representing a student.  But what if we are representing multiple <em>kinds</em> of students, like undergraduate and graduate students?  We&rsquo;d need separate classes for each, but both would still have names and calculate their GPA the same way.  So it would be handy if we could say &ldquo;an undergraduate is a student, and has all the properties and methods a student has&rdquo; and &ldquo;a graduate student is a student, and has all the properties and methods a student has.&rdquo;  This is exactly what inheritance does for us, and we often describe it as a <em>is a</em> relationship.  We distinguish this from the interface mechanism we looked at earlier by saying it is a <strong>strong is a</strong> relationship, as an <code>Undergraduate</code> student is, for all purposes, <em>also</em> a <code>Student</code>.</p>
<p>Let&rsquo;s define an undergraduate student class:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A class representing an undergraduate student</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">UndergraduateStudent</span> : Student {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// Constructs a new instance of UndergraduateStudent</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;param name=&#34;first&#34;&gt;The student&#39;s first name &lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;param name=&#34;last&#34;&gt;The student&#39;s last name&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> UndergraduateStudent(<span style="color:#66d9ef">string</span> first, <span style="color:#66d9ef">string</span> last) : <span style="color:#66d9ef">base</span>(first, last) {
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>In C#, the <code>:</code> indicates inheritance - so <code>public class UndergraduateStudent : Student</code> indicates that <code>UndergraduateStudent</code> inherits from (is a) <code>Student</code>.  Thus, it has properties <code>First</code>, <code>Last</code>, and <code>GPA</code> that are inherited from <code>Student</code>.  Similarly, it inherits the <code>AddCourseGrade()</code> method.</p>
<p>In fact, the only method we need to define in our <code>UndergraduateStudent</code> class is the constructor - and we only need to define this because the base class has a defined constructor taking two parameters, <code>first</code> and <code>last</code> names.  This <code>Student</code> constructor must be invoked by the <code>UndergraduateStudent</code> constructor - that&rsquo;s what the <code>:base(first, last)</code> portion does - it invokes the <code>Student</code> constructor with the <code>first</code> and <code>last</code> parameters passed into the <code>UndergraduateStudent</code> constructor.</p>
<h2 id="inheritance-state-and-behavior">Inheritance, State, and Behavior</h2>
<p>Let&rsquo;s define a <code>GraduateStudent</code> class as well.  This will look much like an <code>UndergraduateStudent</code>, but all graduates have a bachelor&rsquo;s degree:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A class representing a graduate student</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">GraduateStudent</span> : Student {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// Gets the student&#39;s bachelor degree</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> BachelorDegree {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">set</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// Constructs a new instance of GraduateStudent</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;param name=&#34;first&#34;&gt;The student&#39;s first name &lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;param name=&#34;last&#34;&gt;The student&#39;s last name&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;param name=&#34;degree&#34;&gt;The student&#39;s bachelor degree&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> GraduateStudent(<span style="color:#66d9ef">string</span> first, <span style="color:#66d9ef">string</span> last, <span style="color:#66d9ef">string</span> degree) : <span style="color:#66d9ef">base</span>(first, last) {
</span></span><span style="display:flex;"><span>    BachelorDegree = degree;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Here we add a property for <code>BachelorDegree</code>.  Since it&rsquo;s setter is marked as <code>private</code>, it can only be written to by the class, as is done in the constructor.  To the outside world, it is treated as read-only.</p>
<p>Thus, the <code>GraduateStudent</code> has all the state and behavior encapsulated in <code>Student</code>, <em>plus</em> the additional state of the bachelor&rsquo;s degree title.</p>
<h2 id="the-protected-keyword">The <code>protected</code> Keyword</h2>
<p>What you might not expect is that any fields declared <code>private</code> in the base class are inaccessible in the derived class.  Thus, the private fields <code>points</code> and <code>hours</code> cannot be used in a method defined in <code>GraduateStudent</code>.  This is again part of the <em>encapsulation</em> and <em>data hiding</em> ideals - we&rsquo;ve encapsulated and hidden those variables within the base class, and any code outside that assembly, even in a derived class, is not allowed to mess with it.</p>
<p>However, we often will want to allow access to such variables in a derived class.  C# uses the access modifier <code>protected</code> to allow for this access in derived classes, but not the wider world.</p>
<h2 id="inheritance-and-memory">Inheritance and Memory</h2>
<p>What happens when we construct an instance of <code>GraduateStudent</code>?  First, we invoke the constructor of the <code>GraduateStudent</code> class:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>GraduateStudent bobby = <span style="color:#66d9ef">new</span> GraduateStudent(<span style="color:#e6db74">&#34;Bobby&#34;</span>, <span style="color:#e6db74">&#34;TwoSocks&#34;</span>, <span style="color:#e6db74">&#34;Economics&#34;</span>);</span></span></code></pre></div><p>This constructor then invokes the constructor of the base class, <code>Student</code>, with the arguments <code>&quot;Bobby&quot;</code> and <code>&quot;TwoSocks&quot;</code>.  Thus, we allocate space to hold the state of a student, and populate it with the values set by the constructor.  Finally, execution returns to the derived class of <code>GraduateStudent</code>, which allocates the additional memory for the reference to the <code>BachelorDegree</code> property.  Thus, the memory space of the <code>GraduateStudent</code> <em>contains</em> an instance of the <code>Student</code>, somewhat like nesting dolls.</p>
<p>Because of this, we can treat a <code>GraduateStudent</code> object as a <code>Student</code> object.  For example, we can store it in a list of type <code>Student</code>, along with <code>UndergraduateStudent</code> objects:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>List&lt;Student&gt; students = <span style="color:#66d9ef">new</span> List&lt;Student&gt;();
</span></span><span style="display:flex;"><span>students.Add(bobby);
</span></span><span style="display:flex;"><span>students.Add(<span style="color:#66d9ef">new</span> UndergraduateStudent(<span style="color:#e6db74">&#34;Mary&#34;</span>, <span style="color:#e6db74">&#34;Contrary&#34;</span>));</span></span></code></pre></div><p>Because of their relationship through inheritance, both <code>GraduateStudent</code> class instances and <code>UndergraduateStudent</code> class instances are considered to be of type <code>Student</code>, as well as their supertypes.</p>
<h2 id="nested-inheritance">Nested Inheritance</h2>
<p>We can go as deep as we like with inheritance - each base type can be a superclass of another base type, and has all the state and behavior of all the inherited base classes.</p>
<p>This said, having too many levels of inheritance can make it difficult to reason about an object.  In practice, a good guideline is to limit nested inheritance to two or three levels of depth.</p>
<h2 id="abstract-classes">Abstract Classes</h2>
<p>If we have a base class that only exists to inherit from (like our <code>Student</code> class in the example), we can mark it as <em>abstract</em> with the <code>abstract</code> keyword.  An abstract class <em>cannot be instantiated</em> (that is, we cannot create an instance of it using the <code>new</code> keyword).  It can still define fields and methods, but you can&rsquo;t construct it.  If we were to re-write our <code>Student</code> class as an abstract class:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A class representing a student</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Student</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// private backing variables</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">double</span> hours;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">double</span> points;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// Gets the students&#39; GPA</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> GPA {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">get</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> points / hours;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// Gets or sets the first name</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> First { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// Gets or sets the last name</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Last { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// Constructs a new instance of Student</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;param name=&#34;first&#34;&gt;The student&#39;s first name &lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;param name=&#34;last&#34;&gt;The student&#39;s last name&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> Student(<span style="color:#66d9ef">string</span> first, <span style="color:#66d9ef">string</span> last) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.First = first;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.Last = last;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// Adds a new course grade to the student&#39;s record.</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;param name=&#34;creditHours&#34;&gt;The number of credit hours in the course &lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;param name=&#34;finalGrade&#34;&gt;The final grade earned in the course&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">///</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> AddCourseGrade(<span style="color:#66d9ef">uint</span> creditHours, Grade finalGrade) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.hours += creditHours;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">switch</span>(finalGrade) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">case</span> Grade.A:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.points += <span style="color:#ae81ff">4</span> * creditHours;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">case</span> Grade.B:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.points += <span style="color:#ae81ff">3</span> * creditHours;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">case</span> Grade.C:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.points += <span style="color:#ae81ff">2</span> * creditHours;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">case</span> Grade.D:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.points += <span style="color:#ae81ff">1</span> * creditHours;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Now with <code>Student</code> as an abstract class, attempting to create a <code>Student</code> instance i.e. <code>Student mark = new Student(&quot;Mark&quot;, &quot;Guy&quot;)</code> would fail with an exception.  However, we can still create instances of the derived classes <code>GraduateStudent</code> and <code>UndergraduateStudent</code>, and treat them as <code>Student</code> instances. It is best practice to make a class abstract if it serves only as a base class for derived classes and will never be created directly.</p>
<h2 id="sealed-classes">Sealed Classes</h2>
<p>Conversely, C# also offers the <code>sealed</code> keyword, which can be used to indicate that a class should <em>not</em> be inheritable.  For example:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A class that cannot be inherited from</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">sealed</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DoNotDerive</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Derived classes can <em>also</em> be sealed.  I.e., we could seal our <code>UndergraduateStudent</code> class to prevent further derivation:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A sealed version  of the class representing an undergraduate student</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">sealed</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">UndergraduateStudent</span> : Student {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// Constructs a new instance of UndergraduateStudent</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;param name=&#34;first&#34;&gt;The student&#39;s first name &lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">/// &lt;param name=&#34;last&#34;&gt;The student&#39;s last name&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> UndergraduateStudent(<span style="color:#66d9ef">string</span> first, <span style="color:#66d9ef">string</span> last) : <span style="color:#66d9ef">base</span>(first, last) {
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Many of the library classes provided with the C# installation are sealed.  This helps prevent developers from making changes to well-known classes that would make their code harder to maintain.  It is good practice to seal classes that you expect will never be inherited from.</p>
<h2 id="interfaces-and-inheritance">Interfaces and Inheritance</h2>
<p>A class can use both inheritance and interfaces.  In C#, a class can only inherit <em>one</em> base class, and it should always be the first after the colon (<code>:</code>).  Following that we can have as many interfaces as we want, all separated from each other and the base class by commas (<code>,</code>):</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">UndergraduateStudent</span> : Student, ITeachable, IEmailable 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// TODO: Implement student class </span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="casting">Casting</h1>

<p>You have probably used casting to convert numeric values from one type to another, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> a = <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">double</span> b = a;</span></span></code></pre></div><p>And</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> c = (<span style="color:#66d9ef">int</span>)b;</span></span></code></pre></div><p>What you are actually doing when you cast is <em>transforming a value from one type to another</em>.  In the first case, you are taking the value of <code>a</code> (5), and converting it to the equivalent double (5.0).  If you consider the internal representation of an integer (a 2&rsquo;s complement binary number) to a double (an <a href="https://en.wikipedia.org/wiki/IEEE_754" target="_blank">IEEE 754 standard</a>
 representation), we are actually applying a conversion algorithm to the binary representations.</p>
<p>We call the first operation an <em>implicit cast</em>, as we don&rsquo;t expressly tell the compiler to perform the cast. In contrast, the second assignment is an <em>explicit cast</em>, as we signify the cast by wrapping the <em>type</em> we are casting to in parenthesis before the variable we are casting.  We <em>have</em> to perform an explicit cast in the second case, as the conversion has the possibility of losing some precision (i.e. if we cast 7.2 to an integer, it would be truncated to 7).  In any case where the conversion may lose precision or possibly throw an error, an <em>explicit</em> cast is required.</p>
<h2 id="custom-casting-conversions">Custom Casting Conversions</h2>
<p>We can actually <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/user-defined-conversion-operators" target="_blank">extend the C# language to add additional conversions</a>
 to provide additional casting operations.  Consider if we had <code>Rectangle</code> and <code>Square</code> structs:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;A struct representing a rectangle&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Rectangle</span> {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;The length of the short side of the rectangle&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> ShortSideLength;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;The length of the long side of the rectangle&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> LongSideLength;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;Constructs a new rectangle&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;shortSideLength&#34;&gt;The length of the shorter sides of the rectangle&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;longSideLength&#34;&gt;The length of the longer sides of the rectangle&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Rectangle(<span style="color:#66d9ef">int</span> shortSideLength, <span style="color:#66d9ef">int</span> longSideLength){
</span></span><span style="display:flex;"><span>        ShortSideLength = shortSideLength;
</span></span><span style="display:flex;"><span>        LongSideLength = longSideLength;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;A struct representing a square&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Square</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt; The length of the square&#39;s sides&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> SideLength;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;Constructs a new square&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;sideLength&#34;&gt;The length of the square&#39;s sides&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Square(<span style="color:#66d9ef">int</span> sideLength){
</span></span><span style="display:flex;"><span>        SideLength = sideLength;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Since we know that a square is a special case of a rectangle (where all sides are the same length), we might define an implicit casting operator to convert it into a <code>Rectangle</code> (this would be placed inside the <code>Square</code> struct definition):</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;Casts the &lt;paramref name=&#34;square&#34;/&gt; into a Rectangle&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;square&#34;&gt;The square to cast&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">implicit</span> <span style="color:#66d9ef">operator</span> Rectangle(Square square) 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Rectangle(square.SideLength, square.SideLength);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><p>Similarly, we might create a cast operator to convert a rectangle to a square.  But as this can <em>only</em> happen when the sides of the rectangle are all the same size, it would need to be an <em>explicit</em> cast operator , and throw an exception when that condition is not met (this method is placed in the <code>Rectangle</code> struct definition):</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;Casts the &lt;paramref name=&#34;rectangle&#34;/&gt; into a Square&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;rectangle&#34;&gt;The rectangle to cast&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;exception cref=&#34;System.InvalidCastOperation&#34;&gt;The rectangle sides must be equal to cast to a square&lt;/exception&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">explicit</span> <span style="color:#66d9ef">operator</span> Square(Rectangle rectangle){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(rectangle.LongSideLength != rectangle.ShortSideLength) <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> InvalidCastException(<span style="color:#e6db74">&#34;The sides of a square must be of equal lengths&#34;</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Square(rectangle.LongSideLength);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h2 id="casting-and-inheritance">Casting and Inheritance</h2>
<p>Casting becomes a bit more involved when we consider inheritance.  As you saw in the previous discussion of inheritance, we can treat derived classes <em>as the base class</em>, i.e. the code:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Student sam = <span style="color:#66d9ef">new</span> UndergraduateStudent(<span style="color:#e6db74">&#34;Sam&#34;</span>, <span style="color:#e6db74">&#34;Malone&#34;</span>);</span></span></code></pre></div><p>Is actually <em>implicitly casting</em> the undergraduate student &ldquo;Sam Malone&rdquo; into a student class.  Because an <code>UndergraduateStudent</code> is a <code>Student</code>, this cast can be <em>implicit</em>.  Moreover, we don&rsquo;t need to define a casting operator - we can always implicitly cast a class to one of its ancestor classes, it&rsquo;s built into the inheritance mechanism of C#.</p>
<p>Going the other way requires an <em>explicit cast</em> as there is a chance that the <code>Student</code> we are casting <em>isn&rsquo;t</em> an undergraduate, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>UndergraduateStudent u = (UndergraduateStudent)sam;</span></span></code></pre></div><p>If we tried to cast <code>sam</code> into a graduate student:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>GraduateStudent g = (GraduateStudent)sam;</span></span></code></pre></div><p>The program would throw an <code>InvalidCastException</code> when run.</p>
<h2 id="casting-and-interfaces">Casting and Interfaces</h2>
<p>Casting interacts similarly with interfaces.  A class can be implicitly cast to an interface it implements:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>IJumpable roo = <span style="color:#66d9ef">new</span> Kangaroo();</span></span></code></pre></div><p>But must be <em>explicitly</em> cast to convert it back into the class that implemented it:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Kangaroo k = (Kangaroo)roo;</span></span></code></pre></div><p>And if that cast is illegal, we&rsquo;ll throw an <code>InvalidCastException</code>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Car c = (Car)roo;</span></span></code></pre></div><h2 id="the-as-operator">The <code>as</code> Operator</h2>
<p>When we are casting reference and nullable types, we have an additional casting option - the <code>as</code> casting operator.</p>
<p>The <code>as</code> operator performs the cast, or evaluates to <code>null</code> if the cast fails (instead of throwing an <code>InvalidCastException</code>), i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>UndergraduateStudent u = sam <span style="color:#66d9ef">as</span> UndergraduateStudent; <span style="color:#75715e">// evaluates to an UndergraduateStudent </span>
</span></span><span style="display:flex;"><span>GraduateStudent g = sam <span style="color:#66d9ef">as</span> GraduateStudent; <span style="color:#75715e">// evaluates to null</span>
</span></span><span style="display:flex;"><span>Kangaroo k = roo <span style="color:#66d9ef">as</span> Kangaroo; <span style="color:#75715e">// evaluates to a Kangaroo </span>
</span></span><span style="display:flex;"><span>Car c = roo <span style="color:#66d9ef">as</span> Kangaroo; <span style="color:#75715e">// evaluates to null</span></span></span></code></pre></div><h2 id="the-is-operator">The <code>is</code> Operator</h2>
<p>Rather than performing a cast and catching the exception (or performing a null check when using the <code>as</code> operator), it is often useful to know if a cast is possible.  This can be checked for with the <code>is</code> operator.  It evaluates to a boolean, <code>true</code> if the cast is possible, <code>false</code> if not:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>sam <span style="color:#66d9ef">is</span> UndergraduateStudent; <span style="color:#75715e">// evaluates to true</span>
</span></span><span style="display:flex;"><span>sam <span style="color:#66d9ef">is</span> GraduateStudent; <span style="color:#75715e">// evaluates to false</span>
</span></span><span style="display:flex;"><span>roo <span style="color:#66d9ef">is</span> Kangaroo; <span style="color:#75715e">// evaluates to true</span>
</span></span><span style="display:flex;"><span>roo <span style="color:#66d9ef">is</span> Car; <span style="color:#75715e">// evaluates to false</span></span></span></code></pre></div>
  
  
<div class="box notices cstyle warning">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div>
  <div class="box-content">

<p>The <code>is</code> operator does not work with user-defined casting operators, i.e. when used with the Rectangle/Square cast we defined above:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Square s = <span style="color:#66d9ef">new</span> Square(<span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> test = s <span style="color:#66d9ef">is</span> Rectangle;</span></span></code></pre></div><p>The value of <code>test</code> will be <code>false</code>, even though we have a user-defined implicit cast that works.</p>
</div>
</div>
<p>The <code>is</code> operator is commonly used to determine if a cast will succeed before performing it, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(sam <span style="color:#66d9ef">is</span> UndergraduateStudent) 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    Undergraduate samAsUGrad = sam <span style="color:#66d9ef">as</span> UndergraduateStudent;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// TODO: Do something undergraduate-ey with samAsUGrad</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>This pattern was so commonly employed, it led to the addition of the <a href="https://docs.microsoft.com/en-us/dotnet/csharp/pattern-matching#the-is-type-pattern-expression" target="_blank">is type pattern matching expression</a>
 in C# version 7.0:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(sam <span style="color:#66d9ef">is</span> UndergraduateStudent samAsUGrad) 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// TODO: Do something undergraduate-y with samAsUGrad</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>If the cast is possible, it is performed and the result assigned to the provided variable name (in this case, <code>samAsUGrad</code>).  This is another example of <a href="https://en.wikipedia.org/wiki/Syntactic_sugar" target="_blank">syntactic sugar</a>
.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="message-dispatching">Message Dispatching</h1>

<p>The term <em>dispatch</em> refers to how a language decides which polymorphic operation (a method or function) a message should trigger.</p>
<p>Consider polymorphic functions in C# (aka <em>Method Overloading</em>, where multiple methods use the same name but have different parameters) like this one for calculating the rounded sum of an array of numbers:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> RoundedSum(<span style="color:#66d9ef">int</span>[] a) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> sum = <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">foreach</span>(<span style="color:#66d9ef">int</span> i <span style="color:#66d9ef">in</span> a) {
</span></span><span style="display:flex;"><span>    sum += i;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> sum;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> RoundedSum(<span style="color:#66d9ef">float</span>[] a) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">double</span> sum = <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">foreach</span>(<span style="color:#66d9ef">int</span> i <span style="color:#66d9ef">in</span> a) {
</span></span><span style="display:flex;"><span>        sum += i;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> (<span style="color:#66d9ef">int</span>)Math.Round(sum);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>How does the interpreter know which version to invoke at runtime?  It should not be a surprise that it is determined by the arguments - if an integer array is passed, the first is invoked, if a float array is passed, the second.</p>
<h2 id="object-oriented-polymorphism">Object-Oriented Polymorphism</h2>
<p>However, inheritance can cause some challenges in selecting the appropriate polymorphic form.  Consider the following fruit implementations that feature a <strong>Blend()</strong> method:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A base class representing fruit</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Fruit</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Blends the fruit</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;returns&gt;The result of blending&lt;/returns&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Blend() {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;A pulpy mess, I guess&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A class representing a banana</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Banana</span> : Fruit
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Blends the banana</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;returns&gt;The result of blending the banana&lt;/returns&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Blend()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;yellow mush&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A class representing a Strawberry</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Strawberry</span> : Fruit
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Blends the strawberry</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;returns&gt;The result of blending a strawberry&lt;/returns&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Blend()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Gooey Red Sweetness&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Let&rsquo;s add fruit instances to a list, and invoke their <code>Blend()</code> methods:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>List&lt;Fruit&gt; toBlend = <span style="color:#66d9ef">new</span> List&lt;Fruit&gt;();
</span></span><span style="display:flex;"><span>toBlend.Add(<span style="color:#66d9ef">new</span> Banana());
</span></span><span style="display:flex;"><span>toBlend.Add(<span style="color:#66d9ef">new</span> Strawberry());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">foreach</span>(Fruit item <span style="color:#66d9ef">in</span> toBlend) {
</span></span><span style="display:flex;"><span>  Console.WriteLine(item.Blend());
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>You might expect this code to produce the lines:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>yellow mush
Gooey Red Sweetness</code></pre></div><p>As these are the return values for the <code>Blend()</code> methods for the <code>Banana</code> and <code>Strawberry</code> classes, respectively.  However, we will get:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>A pulpy mess, I guess?
A pulpy mess, I guess?</code></pre></div><p>Which is the return value for the <code>Fruit</code> base class <code>Blend()</code> implementation.  The line <code>forEach(Fruit item in toBlend)</code> explicitly tells the interpreter to treat the <code>item</code> as a <code>Fruit</code> instance, so of the two available methods (the base or super class implementation), the <code>Fruit</code> base class one is selected.</p>
<p>C# 4.0 introduced a new keyword, <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/types/using-type-dynamic" target="_blank">dynamic</a>
 to allow variables like <code>item</code> to be dynamically typed at runtime.  Hence, changing the loop to this:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>forEach(<span style="color:#66d9ef">dynamic</span> item <span style="color:#66d9ef">in</span> toBlend) {
</span></span><span style="display:flex;"><span>  Console.WriteLine(item.Blend());
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Will give us the first set of results we discussed.</p>
<h2 id="method-overriding">Method Overriding</h2>
<p>Of course, part of the issue in the above example is that we actually have <em>two</em> implementations for <code>Blend()</code> available to each fruit.  If we wanted all bananas to use the <code>Banana</code> class&rsquo;s <code>Blend()</code> method, even when the banana was being treated as a <code>Fruit</code>, we need to <em>override</em> the base method instead of creating a new one that hides it (in fact, in Visual Studio we should get a warning that our new method hides the base implementation, and be prompted to add the <code>new</code> keyword if that was our intent).</p>
<p>To override a base class method, we first must mark it as <code>abstract</code> or <code>virtual</code>.  The first keyword, <code>abstract</code>, indicates that the method <em>does not have an implementation</em> (a body).  The second, <code>virtual</code>, indicates that the base class <em>does</em> provide an implementation.  We should use <code>abstract</code> when each derived class will define its own implementation, and <code>virtual</code> when some derived classes will want to use a common base implementation.  Then, we must mark the method in the derived class with the <code>override</code> keyword.</p>
<p>Considering our <code>Fruit</code> class, since we&rsquo;re providing a unique implementation of <code>Blend()</code> in each derived class, the <code>abstract</code> keyword is more appropriate:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A base class representing fruit</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Fruit</span> : IBlendable
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Blends the fruit</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;returns&gt;The result of blending&lt;/returns&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">string</span> Blend();
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>As you can see above, the <code>Blend()</code> method does not have a body, only the method signature.</p>
<p>Also, note that if we use an abstract method in a class, the class itself must <em>also</em> be declared abstract.  The reason should be clear - an abstract method cannot be called, so we should not create an object that only has the abstract method.  The virtual keyword can be used in both abstract and regular classes.</p>
<p>Now we can override the <code>Blend()</code> method in Banana class:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A class representing a banana</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Banana</span> : Fruit
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Blends the banana</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;returns&gt;The result of blending the banana&lt;/returns&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">string</span> Blend()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;yellow mush&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Now, even if we go back to our non-dynamic loop that treats our fruit as <code>Fruit</code> instances, we&rsquo;ll get the result of the <code>Banana</code> class&rsquo;s <code>Blend()</code> method.</p>
<p>We can override any method marked <code>abstract</code>, <code>virtual</code>, or <code>override</code> (this last will only occur in a derived class whose base class is also derived, as it is overriding an already-overridden method).</p>
<h2 id="sealed-methods">Sealed Methods</h2>
<p>We can also apply the <code>sealed</code> keyword to overridden methods, which prevents them from being overridden further.  Let&rsquo;s apply this to the Strawberry class:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A class representing a Strawberry</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Strawberry</span> : Fruit
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Blends the strawberry</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;returns&gt;The result of blending a strawberry&lt;/returns&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">sealed</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">string</span> Blend()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;Gooey Red Sweetness&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Now, any class inheriting from Strawberry will not be allowed to override the Blend() method.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="c-collections">C# Collections</h1>

<p>Collections in C# are a great example of polymorphism in action.  Many collections utilize <a href="https://ksu-cs-textbooks.github.io/cis400/1-object-orientation/02-polymorphism/07-csharp-collections/../../06-advanced-csharp/05-generics">generics</a>
 to allow the collection to hold an arbitrary type.  For example, the <code>List&lt;T&gt;</code> can be used to hold strings, integers, or even specific objects:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>List&lt;<span style="color:#66d9ef">string</span>&gt; strings = <span style="color:#66d9ef">new</span> List&lt;<span style="color:#66d9ef">string</span>&gt;();
</span></span><span style="display:flex;"><span>List&lt;<span style="color:#66d9ef">int</span>&gt; ints = <span style="color:#66d9ef">new</span> List&lt;<span style="color:#66d9ef">int</span>&gt;();
</span></span><span style="display:flex;"><span>List&lt;Person&gt; persons = <span style="color:#66d9ef">new</span> List&lt;Person&gt;();</span></span></code></pre></div><p>We can also use an interface as the type, as we did with the <code>IJumpable</code> interface as we discussed in the <a href="https://ksu-cs-textbooks.github.io/cis400/1-object-orientation/02-polymorphism/07-csharp-collections/../../06-advanced-csharp/05-generics">generics section</a>
, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>List&lt;IJumpable&gt; jumpables = <span style="color:#66d9ef">new</span> List&lt;IJumpable&gt;();
</span></span><span style="display:flex;"><span>jumpables.Add(<span style="color:#66d9ef">new</span> Kangaroo());
</span></span><span style="display:flex;"><span>jumpables.Add(<span style="color:#66d9ef">new</span> Car());
</span></span><span style="display:flex;"><span>jumpables.Add(<span style="color:#66d9ef">new</span> Kangaroo());</span></span></code></pre></div><h2 id="collection-interfaces">Collection Interfaces</h2>
<p>The C# language and system libraries also define a number of interfaces that apply to custom collections. Implementing these interfaces allows different kinds of data structures to be utilized in a standardized way.</p>
<h3 id="the-ienumerablelttgt-interface">The IEnumerable&lt;T&gt; Interface</h3>
<p>The first of these is the <code>IEnumerable&lt;T&gt;</code> interface, which requires the collection to implement one method:</p>
<ul>
<li><code>public IEnumerator&lt;T&gt; GetEnumerator()</code></li>
</ul>
<p>Implementing this interface allows the collection to be used in a <code>foreach</code> loop.</p>
<h3 id="the-icollectionlttgt-interface">The ICollection&lt;T&gt; Interface</h3>
<p>C# Collections also typically implement the <code>ICollection&lt;T&gt;</code> interface, which <em>extends</em> the <code>IEnumerable&lt;T&gt;</code> interface and adds additional methods:</p>
<ul>
<li><code>public void Add&lt;T&gt;(T item)</code> adds <code>item</code> to the collection</li>
<li><code>public void Clear()</code> empties the collection</li>
<li><code>public bool Contains(T item)</code> returns <code>true</code> if <code>item</code> is in the collection, <code>false</code> if not.</li>
<li><code>public void CopyTo(T[] array, int arrayIndex)</code> copies the collection contents into <code>array</code>, starting at <code>arrayIndex</code>.</li>
<li><code>public bool Remove(T item)</code> removes <code>item</code> from the collection, returning <code>true</code> if item was removed, <code>false</code> otherwise</li>
</ul>
<p>Additionally, the collection must implement the following properties:</p>
<ul>
<li><code>int Count</code> the number of items in the collection</li>
<li><code>bool IsReadOnly</code> the collection is read-only (can&rsquo;t be added to or removed from)</li>
</ul>
<h3 id="the-ilistlttgt-interface">The IList&lt;T&gt; Interface</h3>
<p>Finally, collections that have an implied order and are intended to be accessed by a specific index should probably implement the <code>IList&lt;T&gt;</code> interface, which extends <code>ICollection&lt;T&gt;</code> and <code>IEnumerable&lt;T&gt;</code>. This interface adds these additional methods:</p>
<ul>
<li><code>public int IndexOf(T item)</code> returns the index of <code>item</code> in the list, or -1 if not found</li>
<li><code>public void Insert(int index, T item)</code> Inserts <code>item</code> into the list at position <code>index</code></li>
<li><code>public void RemoveAt(int index)</code> Removes the item from the list at position <code>index</code></li>
</ul>
<p>The interface also adds the property:</p>
<ul>
<li><code>Item[int index]</code> which gets or sets the item at <code>index</code>.</li>
</ul>
<h2 id="collection-implementation-strategies">Collection Implementation Strategies</h2>
<p>When writing a C# collection, there are three general strategies you can follow to ensure you implement the corresponding interfaces:</p>
<ol>
<li>Write the entire class by scratch</li>
<li>Implement the interface methods as a <em>pass-through</em> to a system library collection</li>
<li>Inherit from a system library collection</li>
</ol>
<p>Writing collections from scratch was the strategy you utilized in CIS 300 - Data Structures and Algorithms.  While this strategy gives you the most control, it is also the most time-consuming.</p>
<p>The pass-through strategy involves creating a system library collection, such as a <code>List&lt;T&gt;</code>, as a private field in your collection class.  Then, when you implement the necessary interface methods, you simply <em>pass through</em> the call to the private collection. I.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">PassThroughList</span>&lt;T&gt; : IList&lt;T&gt;
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">private</span> List&lt;T&gt; _list = <span style="color:#66d9ef">new</span> List&lt;T&gt;;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> IEnumerator&lt;T&gt; GetEnumerator() 
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> _list.GetEnumerator();
</span></span><span style="display:flex;"><span>  } 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// TODO: Implement remaining methods and properties...</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Using this approach, you can add whatever additional logic your collection needs into your pass-through methods without needing to re-implement the basic collection functionality.</p>
<p>Using inheritance gives your derived class all of the methods of the base class, so if you extend a class that already implements the collection interfaces, you&rsquo;ve already got all the methods!</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">InheritedList</span>&lt;T&gt; : List&lt;T&gt;
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// All IList&lt;T&gt;, ICollection&lt;T&gt;, and IEnumerable&lt;T&gt; methods </span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// from List&lt;T&gt; are already defined on InheritedList&lt;T&gt;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>However, most system collection class methods are not declared as <code>virtual</code>, so you cannot override them to add custom functionality.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="summary">Summary</h1>

<p>In this chapter, we explored the concept of types and discussed how variables are specific types that can be explicitly or implicitly declared.  We saw how in a statically-typed language (like C#), variables are not allowed to change types (though they can do so in a dynamically-typed language).  We also discussed how casting can convert a value stored in a variable into a different type.  Implicit casts can happen automatically, but explicit casts must be indicated by the programmer using a cast operator, as the cast could result in loss of precision or the throwing of an exception.</p>
<p>We explored how class declarations and interface declarations create new types.  We saw how polymorphic mechanisms like interface implementation and inheritance allow objects to be treated as (and cast to) different types.  We also introduced the <code>as</code> and <code>is</code> casting operators, which can be used to cast or test the ability to cast, respectively.  We saw that if the <code>as</code> cast operator fails, it evaluates to null instead of throwing an exception.  We also saw the <code>is</code> type pattern expression, which simplifies a casting test and casting operation into a single expression.</p>
<p>Next, we looked at how C# collections leverage the use of interfaces, inheritance, and generic types to quickly and easily make custom collection objects that interact with the C# language in well-defined ways.</p>
<p>Finally, we explored how messages are dispatched when polymorphism is involved. We saw that the method invoked depends on what Type we are currently treating the object as.  We saw how the C# modifiers <code>protected</code>, <code>abstract</code>, <code>virtual</code>, <code>override</code>, and <code>sealed</code> interacted with this message dispatch process.  We also saw how the <code>dynamic</code> type could delay determining an object&rsquo;s type until runtime.</p>

            <footer class="footline">

            </footer>
          </article>

          </section>
    
    
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 3</div>
<h1 id="documentation">Documentation</h1>

<p>Coding for Humans</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Documentation</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="introduction">Introduction</h1>

<p>As part of the strategy for tackling the challenges of the software crisis, good programming practice came to include <em>writing clear documentation</em> to support both the end-users who will utilize your programs, as well as other programmers (and yourself) in understanding what that code is doing so that it is easy to maintain and improve.</p>
<h2 id="key-terms">Key Terms</h2>
<p>Some key terms to learn in this chapter are:</p>
<ul>
<li>User documentation</li>
<li>Developer documentation</li>
<li>Markdown</li>
<li>XML</li>
<li>Autodoc tools</li>
<li>Intellisense</li>
</ul>
<h2 id="key-skills">Key Skills</h2>
<p>The key skill to learn in this chapter is how to use C# XML code comments to document the C# code you write.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="documentation">Documentation</h1>

<p>Documentation refers to the written materials that accompany program code.  Documentation plays multiple, and often critical roles.  Broadly speaking, we split documentation into two categories based on the intended audience:</p>
<ul>
<li><em>User Documentation</em> is meant for the end-users of the software</li>
<li><em>Developer Documentation</em> is meant for the developers of the software</li>
</ul>
<p>As you might expect, the goals for these two styles of documentation are very different.  User documentation instructs the user on how to use the software.  Developer documentation helps orient the developer so that they can effectively create, maintain, and expand the software.</p>
<p>Historically, documentation was printed separately from the software.  This was largely due to the limited memory available on most systems.  For example, the EPIC software we discussed had two publications associated with it: a <a href="http://agrilife.org/epicapex/files/2015/10/EPIC.0810-User-Manual-Sept-15.pdf" target="_blank">User Manual</a>
, which explains how to use it, and <a href="http://agrilife.org/epicapex/files/2015/05/EpicModelDocumentation.pdf" target="_blank">Model Documentation</a>
 which presents the mathematic models that programmers adapted to create the software. There are a few very obvious downsides to printed manuals: they take substantial resources to produce and update, and they are easily misplaced.</p>
<h2 id="user-documentation">User Documentation</h2>
<p>As memory became more accessible, it became commonplace to provide digital documentation to the users.  For example, with Unix (and Linux) systems, it became commonplace to distribute <em>digital</em> documentation alongside the software it documented.  This documentation came to be known as <a href="https://en.wikipedia.org/wiki/Man_page" target="_blank">man pages</a>
 based on the <code>man</code> command (short for manual) that would open the documentation for reading.  For example, to learn more about the linux search tool <code>grep</code>, you would type the command:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>$ man grep </code></pre></div><p>Which would open the documentation distributed with the <code>grep</code> tool.  Man pages are written in a specific format; you can read more about it <a href="https://liw.fi/manpages/" target="_blank">here</a>
.</p>
<p>While a staple of the Unix/Linux filesystem, there was no equivalent to man pages in the DOS ecosystem (the foundations of Windows) until Powershell was introduced, which has the <code>Get-Help</code> tool.  You can read more about it <a href="https://docs.microsoft.com/en-us/powershell/scripting/learn/ps101/02-help-system?view=powershell-7" target="_blank">here</a>
.</p>
<p>However, once software began to be written with graphical user interfaces (GUIs), it became commonplace to incorporate the user documentation directly into the GUI, usually under a &ldquo;Help&rdquo; menu.  This served a similar purpose to man pages of ensuring user documentation was always available with the software.  Of course, one of the core goals of software design is to make the software so intuitive that users don&rsquo;t need to reference the documentation. It is equally clear that developers often fall short of that mark, as there is a thriving market for books to teach certain software.</p>
<p>
<a href="#image-d6402fad16fe3c22833eea65a9c3deec" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.2.1.png" alt="Example Software Books" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-d6402fad16fe3c22833eea65a9c3deec">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/2.2.1.png" alt="Example Software Books" class="lightbox-image" loading="lazy">
</a></p>
<p>Not to mention the thousands of YouTube channels devoted to teaching specific programs!</p>
<h2 id="developer-documentation">Developer Documentation</h2>
<p>Developer documentation underwent a similar transformation. Early developer documentation was often printed and placed in a three-ring binder, as Neal Stephenson describes in his novel <em>Snow Crash</em>: <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<blockquote>
Fisheye has taken what appears to be an instruction manual from the heavy black suitcase. It is a miniature three-ring binder with pages of laser-printed text. The binder is just a cheap unmarked one bought from a stationery store. In these respects, it is perfectly familiar to Him: it bears the earmarks of a high-tech product that is still under development. All technical devices require documentation of a sort, but this stuff can only be written by the techies who are doing the actual product development, and they absolutely hate it, always put the dox question off to the very last minute. Then they type up some material on a word processor, run it off on the laser printer, send the departmental secretary out for a cheap binder, and that's that.
</blockquote>
<p>Shortly after the time this novel was written, the internet became available to the general public, and the tools it spawned would change how software was documented forever.  Increasingly, web-based tools are used to create and distribute developer documentation.  Wikis, bug trackers, and autodocumentation tools quickly replaced the use of lengthy, and infrequently updated word processor files.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Neal Stephenson, &ldquo;Snow Crash.&rdquo; Bantam Books, 1992.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="documentation-formats">Documentation Formats</h1>

<p>Developer documentation often faces a challenge not present in other kinds of documents - the need to be able to display snippets of code.  Ideally, we want code to be formatted in a way that preserves indentation.  We also don&rsquo;t want code snippets to be subject to spelling- and grammar-checks, especially auto-correct versions of these algorithms, as they will alter the snippets.  Ideally, we might also apply syntax highlighting to these snippets. Accordingly, a number of textual formats have been developed to support writing text with embedded program code, and these are regularly used to present developer documentation.  Let&rsquo;s take a look at several of the most common.</p>
<h2 id="html">HTML</h2>
<p>Since its inception, HTML has been uniquely suited for developer documentation.  It requires nothing more than a browser to view - a tool that nearly every computer is equipped with (in fact, most have two or three installed).  And the <code>&lt;code&gt;</code> element provides a way of styling code snippets to appear differently from the embedded text, and <code>&lt;pre&gt;</code> can be used to preserve the snippet&rsquo;s formatting.  Thus:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">p</span>&gt;This algorithm reverses the contents of the array, &lt;<span style="color:#f92672">code</span>&gt;nums&lt;/<span style="color:#f92672">code</span>&gt;&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">pre</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">code</span>&gt;
</span></span><span style="display:flex;"><span>for(int i = 0; i &lt; <span style="color:#f92672">nums.Length</span><span style="color:#960050;background-color:#1e0010">/</span><span style="color:#a6e22e">2</span><span style="color:#960050;background-color:#1e0010">;</span> <span style="color:#a6e22e">i</span><span style="color:#960050;background-color:#1e0010">++)</span> <span style="color:#960050;background-color:#1e0010">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">int</span> <span style="color:#a6e22e">tmp </span><span style="color:#f92672">=</span> <span style="color:#e6db74">nums[i];</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">nums</span><span style="color:#960050;background-color:#1e0010">[</span><span style="color:#a6e22e">i</span><span style="color:#960050;background-color:#1e0010">]</span> <span style="color:#960050;background-color:#1e0010">=</span> <span style="color:#a6e22e">nums</span><span style="color:#960050;background-color:#1e0010">[</span><span style="color:#a6e22e">nums</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">Length</span> <span style="color:#a6e22e">-</span> <span style="color:#a6e22e">1</span> <span style="color:#a6e22e">-</span> <span style="color:#a6e22e">i</span><span style="color:#960050;background-color:#1e0010">];</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">nums</span><span style="color:#960050;background-color:#1e0010">[</span><span style="color:#a6e22e">nums</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">Length</span> <span style="color:#a6e22e">-</span> <span style="color:#a6e22e">1</span> <span style="color:#a6e22e">-</span> <span style="color:#a6e22e">i</span><span style="color:#960050;background-color:#1e0010">]</span> <span style="color:#960050;background-color:#1e0010">=</span> <span style="color:#a6e22e">tmp</span><span style="color:#960050;background-color:#1e0010">;</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">}</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">&lt;/</span><span style="color:#a6e22e">code</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">pre</span>&gt;</span></span></code></pre></div><p>Will render in a browser as:</p>
<div style="border: 1px solid gray; padding: 1rem">
<p>This algorithm reverses the contents of the array, <code>nums</code></p>
<pre>
<code>
for(int i = 0; i < nums.Length/2; i++) {
    int tmp = nums[i];
    nums[i] = nums[nums.Length - 1 - i];
    nums[nums.Length - 1 - i] = tmp;
}
</code>
</pre>
</div>
<p>JavaScript and CSS libraries like <a href="https://highlightjs.org/" target="_blank">highlight.js</a>
, <a href="https://prismjs.com/" target="_blank">prism</a>
, and others can provide syntax highlighting functionality without much extra work.</p>
<p>Of course, one of the strongest benefits of HTML is the ability to create <em>hyperlinks</em> between pages.  This can be invaluable in documenting software, where the documentation about a particular method could include links to documentation about the classes being supplied as parameters, or being returned from the method.  This allows developers to quickly navigate and find the information they need as they work with your code.</p>
<h2 id="markdown">Markdown</h2>
<p>However, there is a significant amount of <a href="https://en.wikipedia.org/wiki/Boilerplate_code" target="_blank">boilerplate</a>
 involved in writing a webpage (i.e. each page needs a minimum of elements not specific to the documentation to set up the structure of the page).  The extensive use of HTML elements also makes it more time-consuming to write and harder for people to read in its raw form. <a href="https://www.markdownguide.org/" target="_blank">Markdown</a>
 is a markup language developed to counter these issues.  Markdown is written as plain text, with a few special formatting annotations, which indicate how it should be transformed to HTML.  Some of the most common annotations are:</p>
<ul>
<li>Starting a line with hash (<code>#</code>) indicates it should be a <code>&lt;h1&gt;</code> element, two hashes (<code>##</code>) indicates a <code>&lt;h2&gt;</code>, and so on&hellip;</li>
<li>Wrapping a statement with underscores (<code>_</code>) or asterisks (<code>*</code>) indicates it should be wrapped in a <code>&lt;i&gt;</code> element</li>
<li>Wrapping a statement with double underscores (<code>__</code>) or double asterisks (<code>**</code>) indicates it should be wrapped in a <code>&lt;b&gt;</code> element</li>
<li>Links can be written as <code>[link text](url)</code>, which is transformed to <code>&lt;a href=&quot;url&quot;&gt;link text&lt;/a&gt;</code></li>
<li>Images can be written as <code>![alt text](url)</code>, which is transformed to <code>&lt;img alt=&quot;alt text&quot; src=&quot;url&quot;/&gt;</code></li>
</ul>
<p>Code snippets are indicated with backtick marks (<code>`</code>).  Inline code is written surrounded with single backtick marks, i.e. <code>`int a = 1`</code> and in the generated HTML is wrapped in a <code>&lt;code&gt;</code> element.  Code blocks are wrapped in <em>triple</em> backtick marks, and in the generated HTML are enclosed in both <code>&lt;pre&gt;</code> and <code>&lt;code&gt;</code> elements.  Thus, to generate the above HTML example, we would use:</p>
<pre><code class="language-md" data-lang="md">
This algorithm reverses the contents of the array, `nums`
```
for(int i = 0; i < nums.Count/2; i++) {
    int tmp = nums[i];
    nums[i] = nums[nums.Count - 1 - i];
    nums[nums.Count - 1 - i] = tmp;
}
```
</code></pre>
<p>Most markdown compilers also support specifying the language (for language-specific syntax highlighting) by following the first three backticks with the language name, i.e.:</p>
<pre><code class="langauge-md" data-lang="md">
```csharp
List<int> = new List<int>;
```
</code></pre>
<p>Nearly every programming language features at least one open-source library for converting Markdown to HTML.  Microsoft even includes a C# one in the <a href="https://docs.microsoft.com/en-us/windows/communitytoolkit/parsers/markdownparser" target="_blank">Windows Community Toolkit</a>
.  In addition to being faster to write than HTML, and avoiding the necessity to write boilerplate code, Markdown offers some security benefits.  Because it generates only a limited set of HTML elements, which specifically excludes some most commonly employed in web-based exploits (like using <code>&lt;script&gt;</code> elements for script injection attacks), it is often safer to allow users to contribute markdown-based content than HTML-based content. <strong>Note: this protection is dependent on the settings provided to your HTML generator - most markdown converters can be configured to allow or escape HTML elements in the markdown text</strong></p>
<p>In fact, this book was written using Markdown, and then converted to HTML using the <a href="https://gohugo.io/" target="_blank">Hugo framework</a>
, a static website generator built using the <a href="https://golang.org/" target="_blank">Go programming language</a>
.</p>
<p>Additionally, chat servers like RocketChat and Discord support using markdown in posts!</p>
<p>GitHub even incorporates a markdown compiler into its repository displays.  If your file ends in a <code>.md</code> extension, GitHub will evaluate it as Markdown and display it as HTML when you navigate your repo.  If your repository contains a README.md file at the top level of your project, it will also be displayed as the front page of your repository. GitHub uses an expanded list of annotations known as <a href="https://github.github.com/gfm/" target="_blank">GitHub-flavored markdown</a>
 that adds support for tables, task item lists, strikethroughs, and others.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>It is best practice to include a README.md file at the top level of a project.  This document provides an overview of the project, as well as helpful instructions on how it is to be used and where to go for more information.  For open-source projects, you should also include a LICENSE file that contains the terms of the license the software is released under.</p>
</div>
</div>
<h2 id="xml">XML</h2>
<p>Extensible Markup Language (XML) is a close relative of HTML - they share the same ancestor, Standard Generalized Markup Language (SGML).  It allows developers to develop their own custom markup languages based on the XML approach, i.e. the use of elements expressed via tags and attributes.  XML-based languages are usually used as a data serialization format.  For example, this snippet represents a serialized fictional student:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;student&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;firstName&gt;</span>Willie<span style="color:#f92672">&lt;/firstName&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;lastName&gt;</span>Wildcat<span style="color:#f92672">&lt;/lastName&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;wid&gt;</span>8888888<span style="color:#f92672">&lt;/wid&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;degreeProgram&gt;</span>BCS<span style="color:#f92672">&lt;/degreeProgram&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/student&gt;</span></span></span></code></pre></div><p>While XML is most known for representing data, it is one of Microsoft&rsquo;s go-to tools.  For example, they have used it as the basis of Extensible Application Markup Language (XAML), which is used in Windows Presentation Foundation as well as cross-platform Xamrin development.  So it shouldn&rsquo;t be a surprise that Microsoft also adopted it for their autodocumentation code commenting strategy.  We&rsquo;ll take a look at this next.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="autodocs">Autodocs</h1>

<p>One of the biggest innovations in documenting software was the development of autodocumentation tools. These were programs that would read source code files, and combine information parsed from the code itself and information contained in code comments to generate documentation in an easy-to-distribute form (often HTML).  One of the earliest examples of this approach came from the programming language Java, whose <a href="https://docs.oracle.com/javase/7/docs/api/" target="_blank">API specification</a>
 was generated from the language source files using <a href="https://en.wikipedia.org/wiki/Javadoc" target="_blank">JavaDoc</a>
.</p>
<p>This approach meant that the language of the documentation was embedded <em>within the source code itself</em>, making it far easier to update the documentation as the source code was refactored.  Then, every time a release of the software was built (in this case, the Java language), the documentation could be regenerated from the updated comments and source code.  This made it far more likely developer documentation would be kept up-to-date.</p>
<p>Microsoft adopted a similar strategy for the .NET languages, known as XML comments.  This approach was based on embedding XML tags into comments above classes, methods, fields, properties, structs, enums, and other code objects.  These comments are set off with a triple forward slash (<code>///</code>) to indicate the intent of being used for autodoc generation.  Comments using double slashes (<code>//</code>) and slash-asterisk notation (<code>/* */</code>) are ignored in this autodoc scheme.</p>
<p>For example, to document an Enum, we would write:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// An enumeration of fruits used in pies </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">enum</span> Fruit {
</span></span><span style="display:flex;"><span>    Cherry,
</span></span><span style="display:flex;"><span>    Apple,
</span></span><span style="display:flex;"><span>    Blueberry,
</span></span><span style="display:flex;"><span>    Peach
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>At a bare minimum, comments should include a <code>&lt;summary&gt;</code> element containing a description of the code structure being described.</p>
<p>Let&rsquo;s turn our attention to documenting a class:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Vector2</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">float</span> X {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">float</span> Y {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Vector2(<span style="color:#66d9ef">float</span> x, <span style="color:#66d9ef">float</span> y) {
</span></span><span style="display:flex;"><span>        X = x;
</span></span><span style="display:flex;"><span>        Y = y;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Scale(<span style="color:#66d9ef">float</span> scalar) {
</span></span><span style="display:flex;"><span>        X *= scalar;
</span></span><span style="display:flex;"><span>        Y *= scalar;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">float</span> DotProduct(Vector2 other) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.X * other.X + <span style="color:#66d9ef">this</span>.Y * other.Y;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">float</span> Normalize() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">float</span> magnitude = Math.Sqrt(Math.Pow(<span style="color:#66d9ef">this</span>.X, <span style="color:#ae81ff">2</span>), Math.Pow(<span style="color:#66d9ef">this</span>.Y, <span style="color:#ae81ff">2</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(magnitude == <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> DivideByZeroException();
</span></span><span style="display:flex;"><span>        X /= magnitude;
</span></span><span style="display:flex;"><span>        Y /= magnitude;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>We would want to add a <code>&lt;summary&gt;</code> element just above the class declaration, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A class representing a two-element vector composed of floats </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span></span></span></code></pre></div><p>Properties should be described using the <code>&lt;summary&gt;</code> element, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// The x component of the vector </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span></span></span></code></pre></div><p>And methods should use <code>&lt;summary&gt;</code>, plus <code>&lt;param&gt;</code> elements to describe parameters.  It has an attribute of <code>name</code> that should be set to match the parameter it describes:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// Constructs a new two-element vector </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;param name=&#34;x&#34;&gt;The X component of the new vector&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;param name=&#34;y&#34;&gt;The Y component of the new vector&lt;/param&gt;</span></span></span></code></pre></div><p>The <code>&lt;paramref&gt;</code> can be used to reference a parameter in the <code>&lt;summary&gt;</code>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// Scales the Vector2 by the provided &lt;paramref name=&#34;scalar&#34;/&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;param name=&#34;scalar&#34;&gt;The value to scale the vector by&lt;/param&gt;</span></span></span></code></pre></div><p>If a method returns a value, this should be indicated with the <code>&lt;returns&gt;</code> element:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// Computes the dot product of this and an &lt;paramref name=&#34;other&#34;&gt; vector</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;param name=&#34;other&#34;&gt;The vector to compute a dot product with&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;returns&gt;The dot product&lt;/returns&gt;</span></span></span></code></pre></div><p>And, if a method might throw an exception, this should be also indicated with the <code>&lt;exception&gt;</code> element, which uses the <code>cref</code> attribute to indicate the specific exception:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// Normalizes the vector</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;remarks&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// This changes the length of the vector to one unit.  The direction remains unchanged </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/remarks&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;exception cref=&#34;System.DivideByZeroException&#34;&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// Thrown when the length of the vector is 0.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/exception&gt;</span></span></span></code></pre></div><p>Note too, the use of the <code>&lt;remarks&gt;</code> element in the above example to add supplemental information.  The <code>&lt;example&gt;</code> element can also be used to provide examples of using the class, method, or other code construct.  There are more elements available, like <code>&lt;see&gt;</code> and <code>&lt;seealso&gt;</code> that generate links to other documentation, <code>&lt;para&gt;</code>, and <code>&lt;list&gt;</code> which are used to format text, and so on.</p>
<p>Of especial interest are the <code>&lt;code&gt;</code> and <code>&lt;c&gt;</code> elements, which format code blocks and inline code, respectively.</p>
<p>See <a href="https://docs.microsoft.com/en-us/dotnet/csharp/codedoc" target="_blank">the official documentation</a>
 for a complete list and discussion.</p>
<p>Thus, our completely documented class would be:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A class representing a two-element vector composed of floats </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Vector2</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// The x component of the vector </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">float</span> X {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// The y component of the vector </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">float</span> Y {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Constructs a new two-element vector </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;x&#34;&gt;The X component of the new vector&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;y&#34;&gt;The Y component of the new vector&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Vector2(<span style="color:#66d9ef">float</span> x, <span style="color:#66d9ef">float</span> y) {
</span></span><span style="display:flex;"><span>        X = x;
</span></span><span style="display:flex;"><span>        Y = y;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Scales the Vector2 by the provided &lt;paramref name=&#34;scalar&#34;/&gt; </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;scalar&#34;&gt;The value to scale the vector by&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Scale(<span style="color:#66d9ef">float</span> scalar) {
</span></span><span style="display:flex;"><span>        X *= scalar;
</span></span><span style="display:flex;"><span>        Y *= scalar;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Computes the dot product of this and an &lt;paramref name=&#34;other&#34;&gt; vector</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;other&#34;&gt;The vector to compute a dot product with&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;returns&gt;The dot product&lt;/returns&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">float</span> DotProduct(Vector2 other) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.X * other.X + <span style="color:#66d9ef">this</span>.Y * other.Y;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Normalizes the vector</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;remarks&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// This changes the length of the vector to one unit.  The direction remains unchanged </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/remarks&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;exception cref=&#34;System.DivideByZeroException&#34;&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Thrown when the length of the vector is 0.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/exception&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">float</span> Normalize() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">float</span> magnitude = Math.Sqrt(Math.Pow(<span style="color:#66d9ef">this</span>.X, <span style="color:#ae81ff">2</span>), Math.Pow(<span style="color:#66d9ef">this</span>.Y, <span style="color:#ae81ff">2</span>));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(magnitude == <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> DivideByZeroException();
</span></span><span style="display:flex;"><span>        X /= magnitude;
</span></span><span style="display:flex;"><span>        Y /= magnitude;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>With the exception of the <code>&lt;remarks&gt;</code>, the XML documentation elements used in the above code should be considered the <em>minimum</em> for best practices.  That is, every <code>Class</code>, <code>Struct</code>, and <code>Enum</code> should have a <code>&lt;summary&gt;</code>. Every property should have a <code>&lt;summary&gt;</code>. And every method should have a <code>&lt;summary&gt;</code>, a <code>&lt;param&gt;</code> for every parameter, a <code>&lt;returns&gt;</code> if it returns a value (this can be omitted for <code>void</code>) and an <code>&lt;exception&gt;</code> for every exception it might throw.</p>
<p>There are multiple autodoc programs that generate documentation from XML comments embedded in C# code, including open-source <a href="https://github.com/EWSoftware/SHFB" target="_blank">Sandcastle Help File Builder</a>
 and the simple <a href="https://github.com/jagregory/docu" target="_blank">Docu</a>
, as well as multiple commercial products.</p>
<p>However, the perhaps more important consumer of XML comments is <em>Visual Studio</em>, which uses these comments to power its Intellisense features, displaying text from the comments as tooltips as you edit code.  This intellisense data is automatically built into DLLs built from Visual Studio, making it available in projects that utilize compiled DLLs as well.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="summary">Summary</h1>

<p>In this chapter, we examined the need for software documentation aimed at both end-users and developers (<em>user documentation</em> and <em>developer documentation</em> respectively). We also examined some formats this documentation can be presented in: HTML, Markdown, and XML.  We also discussed <em>autodocumentation</em> tools, which generate developer documentation from specially-formatted comments in our code files.</p>
<p>We examined the C# approach to autodocumentation, using Microsoft&rsquo;s XML code comments formatting strategy.  We explored how this data is used by Visual Studio to power its Intellisense features, and provide useful information to programmers as they work with constructs like classes, properties, and methods. For this reason, as well as the ability to produce HTML-based documentation using an autodocumentation tool, it is best practice to use XML code comments in all your C# programs.</p>

            <footer class="footline">

            </footer>
          </article>

          </section>
    
    
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 4</div>
<h1 id="testing">Testing</h1>

<p>Is it Working Yet?</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Testing</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="introduction">Introduction</h1>

<p>A critical part of the software development process is <em>ensuring the software works!</em>  We mentioned earlier that it is possible to logically prove that software works by constructing a state transition table for the program, but once a program reaches a certain size this strategy becomes less feasible.  Similarly, it is possible to model a program mathematically and construct a theorem that <em>proves</em> it will perform as intended.  But in practice, most software is validated through some form of <em>testing</em>.  This chapter will discuss the process of testing object-oriented systems.</p>
<h2 id="key-terms">Key Terms</h2>
<p>Some key terms to learn in this chapter are:</p>
<ul>
<li>Informal Testing</li>
<li>Formal Testing</li>
<li>Test Plan</li>
<li>Test Framework</li>
<li>Automated Testing</li>
<li>Assertions</li>
<li>Unit tests</li>
<li>Testing Code Coverage</li>
<li>Regression Testing</li>
</ul>
<h2 id="key-skills">Key Skills</h2>
<p>The key skill to learn in this chapter is how to write C# unit test code using <a href="https://xunit.net/" target="_blank">xUnit</a>
 and the Visual Studio <a href="https://docs.microsoft.com/en-us/visualstudio/test/run-unit-tests-with-test-explorer?view=vs-2019" target="_blank">Test Explorer</a>
.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="manual-testing">Manual Testing</h1>

<p>As you&rsquo;ve developed programs, you&rsquo;ve probably run them, supplied input, and observed if what happened was what you wanted. This process is known as <em>informal testing</em>.  It&rsquo;s informal, because you don&rsquo;t have a set procedure you follow, i.e. what specific inputs to use, and what results to expect.  <em>Formal testing</em> adds that structure.  In a formal test, you would have a written procedure to follow, which specifies <em>exactly</em> what inputs to supply, and what results should be expected.  This written procedure is known as a <em>test plan</em>.</p>
<p>Historically, the test plan was often developed at the same time as the design for the software (but before the actual programming).  The programmers would then build the software to match the design, and the completed software and the test plan would be passed onto a testing team that would follow the step-by-step testing procedures laid out in the testing plan.  When a test failed, they would make a detailed record of the failure, and the software would be sent back to the programmers to fix.</p>
<p>This model of software development has often been referred to as the &lsquo;waterfall model&rsquo; as each task depends on the one before it:</p>
<p>
<a href="#image-c7b830097f6e4513fbd10b73bc6d1f12" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.4.2.1.png" alt="The Waterfall Model of Software Development" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-c7b830097f6e4513fbd10b73bc6d1f12">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.4.2.1.png" alt="The Waterfall Model of Software Development" class="lightbox-image" loading="lazy">
</a></p>
<p>Unfortunately, as this model is often implemented, the programmers responsible for writing the software are reassigned to other projects as the software moves into the testing phase.  Rather than employ valuable programmers as testers, most companies will hire less expensive workers to carry out the testing.  So either a skeleton crew of programmers is left to fix any errors that are found during the tests, or these are passed back to programmers already deeply involved in a new project.</p>
<p>The costs involved in fixing software errors also grow larger the longer the error exists in the software. The table below comes from a NASA report of software error costs throughout the project life cycle: <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<p>
<a href="#image-d86da4a7c56558da64bf56d2d7d49975" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.4.2.2.png" alt="Comparison of System Cost Factors Excluding Operations" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-d86da4a7c56558da64bf56d2d7d49975">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.4.2.2.png" alt="Comparison of System Cost Factors Excluding Operations" class="lightbox-image" loading="lazy">
</a></p>
<p>It is clear from the graph and the paper that the cost to fix a software error grows exponentially if the fix is delayed.  You probably have instances in your own experience that also speak to this - have you ever had a bug in a program you didn&rsquo;t realize was there until your project was nearly complete?  How hard was it to fix, compared to an error you found and fixed right away?</p>
<p>It was realizations like these, along with growing computing power that led to the development of <em>automated testing</em>, which we&rsquo;ll discuss next.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Jonette M. Stecklein, Jim Dabney, Brandon Dick, Bill Haskins, Randy Lovell, and Gregory Maroney. <a href="https://ntrs.nasa.gov/citations/20100036670" target="_blank">&ldquo;Error Cost Escalation Through the Project Life Cycle&rdquo;</a>
, NASA, June 19, 2014.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="automated-testing">Automated Testing</h1>

<p>Automated testing is the practice of using a program to test another program.  Much as a compiler is a program that translates a program from a higher-order language into a lower-level form, a test program executes a test plan against the program being tested.  And much like you must supply the program to be compiled, for automated testing you must supply the tests that need to be executed. In many ways the process of writing automated tests is like writing a manual test plan - you are writing instructions of what to try, and what the results should be.  The difference is with a manual test plan, you are writing these instructions for a human.  With an automated test plan, you are writing them for a program.</p>
<p>Automated tests are typically categorized as <em>unit</em>, <em>integration</em>, and <em>system</em> tests:</p>
<ul>
<li><strong>Unit tests</strong> focus on a single unit of code, and test it in isolation from other parts of the code.  In object-oriented programs where code is grouped into objects, these are the units that are tested.  Thus, for each class you would have a corresponding file of unit tests.</li>
<li><strong>Integration</strong> tests focus on the interaction of units working together, and with infrastructure external to the program (i.e. databases, other programs, etc).</li>
<li><strong>System</strong> tests look at the entire program&rsquo;s behavior.</li>
</ul>
<p>The complexity of writing tests scales with each of these categories.  Emphasis is usually put on writing unit tests, especially as the classes they test are written.  By testing these classes early, errors can be located and fixed quickly.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="writing-tests">Writing Tests</h1>

<p>Writing tests is in many ways just as challenging and creative an endeavor as writing programs.  Tests usually consist of invoking some portion of program code, and then using <em>assertions</em> to determine that the actual results match the expected results.  The results of these assertions are typically reported on a per-test basis, which makes it easy to see where your program is not behaving as expected.</p>
<p>Consider a class that is a software control system for a kitchen stove.  It might have properties for four burners, which correspond to what heat output they are currently set to.  Let&rsquo;s assume this is as an integer between 0 (off) and 5 (high).  When we first construct this class, we&rsquo;d probably expect them all to be off!  A test to verify that expectation would be:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StoveTests</span> {
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">
</span></span></span><span style="display:flex;"><span><span style="color:#a6e22e">    [Fact]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> BurnersShouldBeOffAtInitialization() {
</span></span><span style="display:flex;"><span>        Stove stove = <span style="color:#66d9ef">new</span> Stove();
</span></span><span style="display:flex;"><span>        Assert.Equal(<span style="color:#ae81ff">0</span>, stove.BurnerOne);
</span></span><span style="display:flex;"><span>        Assert.Equal(<span style="color:#ae81ff">0</span>, stove.BurnerTwo);
</span></span><span style="display:flex;"><span>        Assert.Equal(<span style="color:#ae81ff">0</span>, stove.BurnerThree);
</span></span><span style="display:flex;"><span>        Assert.Equal(<span style="color:#ae81ff">0</span>, stove.BurnerFour);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Here we&rsquo;ve written the test using the C# <a href="https://xunit.net/" target="_blank">xUnit</a>
 test framework, which is being adopted by Microsoft as their preferred framework, replacing the <a href="https://nunit.org/" target="_blank">nUnit</a>
 test framework (there are many other C# test frameworks, but these two are the most used).</p>
<p>Notice that the test is simply a method, defined in a class.  This is very common for test frameworks, which tend to be written using the same programming language the programs they test are written in (which makes it easier for one programmer to write both the code unit and the code to test it).  Above the class appears an <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/attributes/" target="_blank">attribute</a>
 - <code>[Fact]</code>.  Attributes are a way of supplying metadata within C# code.  This metadata can be used by the compiler and other programs to determine how it works with your code.  In this case, it indicates to the xUnit test runner that this method is a test.</p>
<p>Inside the method, we create an instance of stove, and then use the <code>Assert.Equal&lt;T&gt;(T expected, T actual)</code> method to determine that the actual and expected values match.  If they do, the assertion is marked as passing, and the test runner will display this pass.  If it fails, the test runner will report the failure, along with details to help find and fix the problem (what value was expected, what it actually was, and which test contained the assertion).</p>
<p>The xUnit framework provides for two kinds of tests, <em>Facts</em>, which are written as functions that have no parameters, and <em>Theories</em>, which do have parameters.  The values for these parameters are supplied with another attribute, typically <code>[InlineData]</code>.  For example, we might test that when we set a burner to a setting within the valid 0-5 range, it is set to that value:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#a6e22e">[Theory]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">[InlineData(0)]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">[InlineData(1)]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">[InlineData(2)]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">[InlineData(3)]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">[InlineData(4)]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">[InlineData(5)]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> ShouldBeAbleToSetBurnerOneToValidRange(<span style="color:#66d9ef">int</span> setting) {
</span></span><span style="display:flex;"><span>    Stove stove = <span style="color:#66d9ef">new</span> Stove();
</span></span><span style="display:flex;"><span>    stove.BurnerOne = setting;
</span></span><span style="display:flex;"><span>    Assert.Equal(setting, stove.BurnerOne);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>The values in the parentheses of the <code>InlineData</code> are the values supplied to the parameter list of the theory method.  Thus, this test is actually <em>six</em> tests; each test makes sure that one of the settings is working.  We could have done all six as separate assignments and assertions within a single fact, but using a theory means that if only one of these settings doesn&rsquo;t work, we will see that one test fail while the others pass.  This level of specificity can be very helpful in finding errors.</p>
<p>So far our tests cover the expected behavior of our stove.  But where tests really prove their worth is with the <em>edge cases</em> - those things we as programmers don&rsquo;t anticipate.  For example, what happens if we try setting our range to a setting above 5?  Should it simply clamp at 5?  Should it not change from its current setting?  Or should it shut itself off entirely because its user is clearly a pyromaniac bent on burning down their house? If the specification for our program doesn&rsquo;t say, it is up to us to decide.  Let&rsquo;s say we expect it to be clamped at 5:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#a6e22e">[Theory]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">[InlineData(6)]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">[InlineData(18)]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">[InlineData(1000000)]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> BurnerOneShouldNotExceedASettingOfFive(<span style="color:#66d9ef">int</span> setting) {
</span></span><span style="display:flex;"><span>    Stove stove = <span style="color:#66d9ef">new</span> Stove();
</span></span><span style="display:flex;"><span>    stove.BurnerOne = setting;
</span></span><span style="display:flex;"><span>    Assert.Equal(<span style="color:#ae81ff">5</span>, stove.BurnerOne);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Note that we don&rsquo;t need to exhaustively test all numbers above 5 - it is sufficient to provide a representative sample, ideally the first value past 5 (6), and a few others.  Also, now that we have defined our expected behavior, we should make sure the documentation of our BurnerOne property matches it:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// The setting of burner one </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;value&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// An integer between 0 (off) and 5 (high)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/value&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;remarks&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// If a value higher than 5 is attempted, the burner will be set to 5</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/remarks&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> BurnerOne {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}</span></span></code></pre></div><p>This way, other programmers (and ourselves, if we visit this code years later) will know what the expected behavior is.  We&rsquo;d also want to test the other edge cases: i.e. when the burner is set to a negative number.</p>

  
  
<div class="box notices cstyle warning">
  <div class="box-label"><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div>
  <div class="box-content">

<p>Recognizing and testing for edge cases is a critical aspect of test writing. But it is also a difficult skill to develop, as we have a tendency to focus on expected values and expected use-cases for our software. But most serious errors occur when values outside these expectations are introduced.  Also, remember special values, like <code>double.PositiveInfinity</code>, <code>double.NegativeInfinity</code>, and <code>double.NaN</code>.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="xunit-assertions">xUnit Assertions</h1>

<p>Like most testing frameworks, the xUnit framework provides a host of specialized assertions.</p>
<h2 id="boolean-assertions">Boolean Assertions</h2>
<p>For example, xUnit provides two boolean assertions:</p>
<ul>
<li><code>Assert.True(bool actual)</code>, asserts that the value supplied to the <code>actual</code> parameter is <code>true</code>.</li>
<li><code>Assert.False(bool actual)</code>, asserts that the value supplied to the <code>actual</code> parameter is <code>false</code>.</li>
</ul>
<p>While it may be tempting to use <code>Assert.True()</code> for all tests, i.e. <code>Assert.True(stove.BurnerOne == 0)</code>, it is better practice to use the specialized assertion that best matches the situation, in this case <code>Assert.Equal&lt;T&gt;(T expected, T actual)</code> as a failing test will supply more details.</p>
<h2 id="equality-assertions">Equality Assertions</h2>
<p>The <code>Assert.Equal&lt;T&gt;(T expected, T actual)</code> is the workhorse of the assertion library. Notice it is a template method, so it can be used with any type that is comparable (which is pretty much everything possible in C#).  It also has an override, <code>Assert.Equal&lt;T&gt;(T expected, T actual, int precision)</code> which allows you to specify the precision for floating-point numbers.  Remember that floating point error can cause two calculated values to be slightly different than one another; specifying a precision allows you to say just how close to the expected an actual value needs to be to be considered &rsquo;equal&rsquo; for the purposes of the test.</p>
<p>Like most assertions, it is paired with an opposite, <code>Assert.NotEqual&lt;T&gt;(T expected, T actual)</code>, which also has an override for supplying precision.</p>
<h2 id="numeric-assertions">Numeric Assertions</h2>
<p>With numeric values, it can be handy to determine if the value falls within a range:</p>
<ul>
<li><code>Assert.InRange&lt;T&gt;(T actual, T low, T high)</code> asserts <code>actual</code> falls between <code>low</code> and <code>high</code> (inclusive), and</li>
<li><code>Assert.NotInRange&lt;T&gt;(T actual, T low, T high)</code> asserts <code>actual</code> does not fall between <code>low</code> and <code>high</code> (inclusive)</li>
</ul>
<h2 id="reference-assertions">Reference Assertions</h2>
<p>There are special assertions to deal with null references:</p>
<ul>
<li><code>Assert.Null(object object)</code> asserts the supplied <code>object</code> is null, and</li>
<li><code>Assert.NotNull(object object)</code> asserts the supplied <code>object</code> is <em>not</em> null</li>
</ul>
<p>In addition, two objects may be considered equal, but may or may not be the same object (i.e. not referencing the same memory).  This can be asserted with:</p>
<ul>
<li><code>Assert.Same(object expected, object actual)</code> asserts the <code>expected</code> and <code>actual</code> object references are to the same object, while</li>
<li><code>Assert.NotSame(object expected, object actual)</code> asserts the <code>expected</code> and <code>actual</code> object references are <em>not</em> the same object</li>
</ul>
<h2 id="type-assertions">Type Assertions</h2>
<p>At times, you may want to assure it is possible to cast an object to a specific type.  This can be done with:</p>
<ul>
<li><code>Assert.IsAssignableFrom&lt;T&gt;(object obj)</code>
Where <code>T</code> is the type to cast into.</li>
</ul>
<p>At other times, you may want to assert that the object is <em>exactly</em> the type you expect (.e. <code>T</code> is not an interface or base class of <code>obj</code>).  That can be done with:</p>
<ul>
<li><code>Assert.IsType&lt;T&gt;(object obj)</code></li>
</ul>
<h2 id="collection-assertions">Collection Assertions</h2>
<p>There are a host of assertions for working with collections:</p>
<ul>
<li><code>Assert.Empty(IEnumerable collection)</code> asserts that the collection is empty, while</li>
<li><code>Assert.NotEmpty(IEnumerable collection)</code> asserts that it is <em>not</em> empty</li>
<li><code>Assert.Contains&lt;T&gt;(T expected, IEnumerable&lt;T&gt; collection)</code> asserts that the <code>expected</code> item is found in the <code>collection</code>, while</li>
<li><code>Assert.DoesNotContain&lt;T&gt;(T expected, IEnumerable&lt;T&gt; collection)</code> asserts the <code>expected</code> item is <em>not</em> found in the <code>collection</code></li>
</ul>
<p>In addition to the simple equality check form of <code>Assert.Contains&lt;T&gt;()</code> and <code>Assert.DoesNotContain&lt;T&gt;()</code>, there is a version that takes a filter expression (an expression that evaluates to <code>true</code> or <code>false</code> indicating that an item was found) written as a lambda expression.  For example, to determine if a list of <code>Fruit</code> contains an <code>Orange</code> we could use:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>List&lt;Fruit&gt; fruits = <span style="color:#66d9ef">new</span> List&lt;Fruit&gt;() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> Orange(),
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> Apple(),
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> Grape(),
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> Banana() {Overripe = <span style="color:#66d9ef">true</span>}
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>Assert.Contains(fruits, item =&gt; item <span style="color:#66d9ef">is</span> Orange);</span></span></code></pre></div><p>The expression <code>item is Orange</code> is run on each item in <code>fruits</code> until it evaluates to <code>true</code> or we run out of fruit to check. We can also supply curly braces with a return statement if we need to perform more complex logic:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Assert.Contains(fruits, item =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(item <span style="color:#66d9ef">is</span> Banana banana) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(banana.Overripe) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>});</span></span></code></pre></div><p>Here we only return <code>true</code> for overripe bananas.  Using <code>Assert.Contains()</code> with a filter expression can be useful for checking that expected items are in a collection.  To check that the collection also does not contain unexpected items, we can test the length of the collection against the expected number of values, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Assert.True(fruits.Count == <span style="color:#ae81ff">4</span>, <span style="color:#e6db74">$&#34;Expected 4 items but found {fruits.Count}&#34;</span>);</span></span></code></pre></div><p>Here we use the <code>Assert.True()</code> overload that allows a custom message when the test fails.</p>
<p>Finally, <code>Assert.Collection&lt;T&gt;(IEnumerable&lt;T&gt; collection, Action&lt;T&gt;[] inspectors)</code> can apply specific inspectors against each item in a collection.  Using the same fruits list as above:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Assert.Collection(fruits, 
</span></span><span style="display:flex;"><span>    item =&gt; Assert.IsType&lt;Orange&gt;(item),
</span></span><span style="display:flex;"><span>    item =&gt; Assert.IsType&lt;Apple&gt;(item),
</span></span><span style="display:flex;"><span>    item =&gt; Assert.IsType&lt;Grape&gt;(item),
</span></span><span style="display:flex;"><span>    item =&gt; {
</span></span><span style="display:flex;"><span>        Assert.IsType&lt;Banana&gt;(item);
</span></span><span style="display:flex;"><span>        Assert.True(((Banana)item).Overripe);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>);</span></span></code></pre></div><p>Here we use an <a href="https://docs.microsoft.com/en-us/dotnet/api/system.action-1?view=netcore-3.1" target="_blank">Action<T> delegate</a>
 to map each item in the collection to an assertion.  These actions are written using [lambda expressions], which are conceptually <em>functions</em>.</p>
<p>The number of actions should correspond to the expected size of the collection, and the items supplied to the actions <em>must be in the same order as they appear in the collection</em>.  Thus, the <code>Assert.Collection()</code> is a good choice when the collection is expected to always be in the same order, while the <code>Assert.Contains()</code> approach allows for variation in the ordering.</p>
<h2 id="exception-assertions">Exception Assertions</h2>
<p>Error assertions <em>also</em> use <a href="https://docs.microsoft.com/en-us/dotnet/api/system.action-1?view=netcore-3.1" target="_blank">Action<T> delegate</a>
, in this case to execute code that is expected to throw an exception, i.e. we could test for <code>System.DivideByZeroException</code> with:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#a6e22e">[Fact]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> DivisionByZeroShouldThrowException() {
</span></span><span style="display:flex;"><span>    Assert.Throws(System.DivideByZeroException, () =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">var</span> tmp = <span style="color:#ae81ff">10.0</span>/<span style="color:#ae81ff">0.0</span>;
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Note how we place the code that is expected to throw the exception <em>inside</em> the body of the Action?  This allows the assertion to wrap it in a <code>try/catch</code> internally.  The exception-related assertions are:</p>
<ul>
<li><code>Assert.Throws(System.Exception expectedException, Action testCode)</code> asserts the supplied <code>expectedException</code> is thrown when <code>testCode</code> is executed</li>
<li><code>Assert.Throws&lt;T&gt;(Action testCode) where T : System.Exception</code> the templated version of the above</li>
<li><code>Assert.ThrowsAny&lt;T&gt;(Action testCode) where T: System.Exception</code> asserts that <em>any</em> exception will be thrown by the <code>testCode</code> when executed</li>
</ul>
<p>There are also similar assertions for exceptions being thrown in <em>asynchronous</em> code. These operate nearly identically, except instead of supplying an Action, we supply a <a href="https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task?view=netcore-3.1" target="_blank">Task</a>
:</p>
<ul>
<li><code>Assert.ThrowsAsync&lt;T&gt;(Task testCode) where T : System.Exception</code> asserts the supplied exception type <code>T</code> is thrown when <code>testCode</code> is executed</li>
<li><code>Assert.ThrowsAnyAsync&lt;T&gt;(Task testCode) where T: System.Exception</code> is the asynchronous version of the previous assertion, asserts the supplied exception type <code>T</code> will be thrown some point after <code>testCode</code> is executed.</li>
</ul>
<h2 id="events-assertions">Events Assertions</h2>
<p>Asserting that events will be thrown also involves <a href="https://docs.microsoft.com/en-us/dotnet/api/system.action-1?view=netcore-3.1" target="_blank">Action<T> delegate</a>
, and is a bit more involved as it requires <em>three</em>.  The first delegate is for attaching the assertion-supplied event handler to the listener, the second for detaching it, and the third is for triggering the event with the actual code involved.</p>
<p>For example, assume we have a class, <code>Emailer</code>, with a method <code>SendEmail(string address, string body)</code> that should have an event handler <code>EmailSent</code> whose event args are <code>EmailSentEventArgs</code>.  We could test that this class was actually raising this event with:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#a6e22e">[Fact]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> EmailerShouldRaiseEmailSentWhenSendingEmails()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">string</span> address = <span style="color:#e6db74">&#34;test@test.com&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">string</span> body = <span style="color:#e6db74">&#34;this is a test&#34;</span>;
</span></span><span style="display:flex;"><span>    Emailer emailer = <span style="color:#66d9ef">new</span> Emailer();
</span></span><span style="display:flex;"><span>    Assert.Raises&lt;EmailSentEventArgs&gt;(
</span></span><span style="display:flex;"><span>        listener =&gt; emailer += listener, <span style="color:#75715e">// This action attaches the listener</span>
</span></span><span style="display:flex;"><span>        listener =&gt; emailer -= listener, <span style="color:#75715e">// This action detaches the listener </span>
</span></span><span style="display:flex;"><span>        () =&gt; {
</span></span><span style="display:flex;"><span>            emailer.SendEmail(address, body);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    )
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>The various event assertions are:</p>
<ul>
<li><code>Assert.Raises&lt;T&gt;(Action attach, Action detach, Action testCode)</code></li>
<li><code>Assert.RaisesAny&lt;T&gt;(Action attach, Action detach, Action testCode)</code></li>
</ul>
<p>There are also similar assertions for events being raised by <em>asynchronous</em> code.  These operate nearly identically, except instead of supplying an Action, we supply a <a href="https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task?view=netcore-3.1" target="_blank">Task</a>
:</p>
<ul>
<li><code>Assert.RaisesAsync&lt;T&gt;(Action attach, Action detach, Task testCode)</code></li>
<li><code>Assert.RaisesAnyAsync&lt;T&gt;(Action attach, Action detach, Task testCode)</code></li>
</ul>
<p>For examples of these assertions, see <a href="https://ksu-cs-textbooks.github.io/cis400/2-desktop-development/03-events/10-testing-generic-events/">section 2.3.10</a>
</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>XUnit does not directly support old-style events - those with a named event handler like <code>CollectionChangedEventHandler</code>, only those that use the templated form: <code>EventHandler&lt;CustomEventArgs&gt;</code> (with the exception of the <code>PropertyChanged</code> event, discussed below).  For strategies to handle the older-style events, see <a href="https://ksu-cs-textbooks.github.io/cis400/2-desktop-development/03-events/11-testing-custom-events/" target="_blank">section 2.3.11</a>
</p>
</div>
</div>
<h2 id="property-change-assertions">Property Change Assertions</h2>
<p>Because C# has deeply integrated the idea of &lsquo;Property Change&rsquo; notifications as part of its GUI frameworks (which we&rsquo;ll cover in a later chapter), it makes sense to have a special assertion to deal with this notification.  Hence, the <code>Assert.PropertyChanged(INotifyPropertyChanged @object, string propertyName, Action testCode)</code>.  Using it is simple - supply the object that implements the <code>INotifyPropertyChanged</code> interface as the first argument, the name of the property that will be changing as the second, and the Action delegate that will trigger the change as the third.</p>
<p>For example, if we had a <code>Profile</code> object with a <code>StatusMessage</code> property that we knew should trigger a notification when it changes, we could write our test as:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#a6e22e">[Fact]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> ProfileShouldNotifyOfStatusMessageChanges() {
</span></span><span style="display:flex;"><span>    Profile testProfile = <span style="color:#66d9ef">new</span> Profile();
</span></span><span style="display:flex;"><span>    Assert.PropertyChanged(testProfile, <span style="color:#e6db74">&#34;StatusMessage&#34;</span>, () =&gt; testProfile.StatusMessage = <span style="color:#e6db74">&#34;Hard at work&#34;</span>);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>There is also a similar assertion for testing if a property is changed in <em>asynchronous</em> code. This operates nearly identically, except instead of supplying an Action, we supply a <a href="https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task?view=netcore-3.1" target="_blank">Task</a>
:</p>
<ul>
<li><code>Assert.PropertyChangedAsync(INotifyPropertyChanged @object, string propertyName, Task testCode)</code></li>
</ul>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="mock-objects">Mock Objects</h1>

<p>One of the most important ideas behind unit testing is the idea that you are testing an object <em>in isolation</em> from other objects (This is in direct contrast to <em>integration testing</em>, where you are interested in how objects are working together).</p>
<p>But how do we test a class that has a strong dependency on another class? Let&rsquo;s consider the case of an Automated Teller Machine (ATM). If we designed its control system using an object-oriented language, one natural architecture would be to have classes representing the cash dispenser, card reader, keyboard, display, and user&rsquo;s bank accounts. Then we might coordinate each of these into a central object, representing the entire ATM.</p>
<p>Unit testing most of these classes would be straightforward, but how do we unit test the ATM class?  It would have dependencies on each of the other classes.  If we used normal instances of those, we&rsquo;d have no idea if the test was failing due to the ATM class or its dependency. This is where <em>mock objects</em> come into play.</p>
<p>We start by replacing each of the dependencies with an interface using the same method signatures, and we pass the dependencies through the ATM constructor.  We make sure our existing classes implement the interface, and pass them into the ATM when we create it.  Thus, this step doesn&rsquo;t change much about how our program operates - we&rsquo;re still using the same classes to do the same things.</p>
<p>But in our unit tests for the <code>ATM</code> class, we can create new classes that implement the interfaces and pass them into the ATM instance we are testing.  These are our <em>mock</em> classes, because they &ldquo;fill in&rdquo; for the real classes.  Typically, a mock class is much simpler than a real class, and exposes information we might need in our test.  For example, our Display class might include a <code>DisplayText</code> method, so have it implement an <code>IDisplay</code> interface that lists <code>DisplayText</code>. Then our <code>MockDisplay</code> class might look like:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MockDisplay</span> :IDisplay
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> LastTextDisplayed {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> DisplayText(<span style="color:#66d9ef">string</span> text) 
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    LastTextDisplayed = text;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Note that our mock class implements the required method, <code>DisplayText</code>, but in a very different way than a real display would - it just holds onto the string and makes it accessible with a public property. That way, we could check its value in a test:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#a6e22e">[fact]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> ShouldDisplayGreetingOnStartup()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  MockDisplay md = <span style="color:#66d9ef">new</span> MockDisplay();
</span></span><span style="display:flex;"><span>  MockKeyboard mk = <span style="color:#66d9ef">new</span> MockKeyboard();
</span></span><span style="display:flex;"><span>  MockCardReader mcr= <span style="color:#66d9ef">new</span> MockCardReader();
</span></span><span style="display:flex;"><span>  MockCashDispenser mcd = <span style="color:#66d9ef">new</span> MockCashDispenser();
</span></span><span style="display:flex;"><span>  Atm atm = <span style="color:#66d9ef">new</span> Atm(md, mk, mcr, mcd);
</span></span><span style="display:flex;"><span>  Assert.Equal(<span style="color:#e6db74">&#34;Hello ATM!&#34;</span>, md.LastTextDisplayed);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Given our knowledge of C#, the only way <code>md.LastTextDisplayed</code> would be the string specified was if the <code>ATM</code> class asked it to display the message when it was constructed. Thus, we know it will do the same with the real <code>DisplayScreen</code> class.  And if we have also thoroughly unit tested the <code>DisplayScreen</code> class, then we have a strong basis for believing our system is built correctly.</p>
<p>This approach also allows us to test things that would normally be very difficult to do - for example, we can write a method to have a <code>MockCardReader</code> trigger a <code>CardInserted</code> event:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MockCardReader</span> : ICardReader 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">event</span> EventHandler&lt;CardInsertedEventArgs&gt; CardInserted;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> TriggerCardInserted()
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    CardInserted.Invoke(<span style="color:#66d9ef">this</span>, <span style="color:#66d9ef">new</span> CardInsertedEventArgs());
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Which allows us to check that the ATM prompts a user for a PIN once a card is inserted:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#a6e22e">[Fact]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> ShouldPromptForPinOnCardInsert()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  MockDisplay md = <span style="color:#66d9ef">new</span> MockDisplay();
</span></span><span style="display:flex;"><span>  MockKeyboard mk = <span style="color:#66d9ef">new</span> MockKeyboard();
</span></span><span style="display:flex;"><span>  MockCardReader mcr= <span style="color:#66d9ef">new</span> MockCardReader();
</span></span><span style="display:flex;"><span>  MockCashDispenser mcd = <span style="color:#66d9ef">new</span> MockCashDispenser();
</span></span><span style="display:flex;"><span>  Atm atm = <span style="color:#66d9ef">new</span> Atm(md, mk, mcr, mcd);
</span></span><span style="display:flex;"><span>  mcr.TriggerCardInserted();
</span></span><span style="display:flex;"><span>  Assert.Equal(<span style="color:#e6db74">&#34;Please enter your PIN:&#34;</span>, md.LastTextDisplayed);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Using mock objects like this can greatly simplify the test-writing process, and improve the quality and robustness of your unit tests.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="running-tests">Running Tests</h1>

<p>Tests are usually run with a <em>test runner</em>, a program that will execute the test code against the code to be tested.  The exact mechanism involved depends on the testing framework.</p>
<p>The xUnit framework is offered as a set of Nuget packages:</p>
<ul>
<li>The <code>xunit</code> package contains the library code defining the <code>Assertion</code> class as well as the <code>[Fact]</code> and <code>[Test]</code> attributes.</li>
<li>The <code>xunit.runner.visualstudio</code> package contains the actual test runner</li>
</ul>
<p>As with other aspects of the .NET framework, the tools can be used at either the command line, or through Visual Studio integrations.  The <a href="https://xunit.net/docs/getting-started/netcore/cmdline" target="_blank">xunit documentation</a>
 describes the command line approach thoroughly, so we won&rsquo;t belabor it here.  But be aware, if you want to do development in a Linux or Unix environment, you <em>must</em> use the command line, as there is no version of Visual Studio available for those platforms (there is however, a version available for the Mac OS).</p>
<p>When building tests with Visual Studio, you will typically begin by adding an xUnit Test Project to your existing solution.  Using the wizard will automatically incorporate the necessary Nuget packages into the project.  However, you will need to add the project to be tested to the Dependencies list of the test project to give it access to the assembly to be tested.  You do this by right-clicking the &lsquo;Dependencies&rsquo; entry under the Test Project in Visual Studio, choosing &ldquo;Add Project Reference&rdquo;, and in the dialog that pops up, checking the checkbox next to the name of the project you are testing:</p>
<p>
<a href="#image-0bb20ae354b730aef898cc125eeaa547" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.4.6.1.gif" alt="Adding the project reference" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-0bb20ae354b730aef898cc125eeaa547">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.4.6.1.gif" alt="Adding the project reference" class="lightbox-image" loading="lazy">
</a></p>
<p>To explore and run your tests, you can open the <a href="https://docs.microsoft.com/en-us/visualstudio/test/run-unit-tests-with-test-explorer?view=vs-2019" target="_blank">Test Explorer</a>
 from the &ldquo;Test&rdquo; menu.  If no tests appear, you may need to build the test project. This can be done by right-clicking the test project in the Solution Explorer and selecting &ldquo;Build&rdquo;, or by clicking the &ldquo;Run All&rdquo; button in the Test Explorer.  The &ldquo;Run All&rdquo; button will run every test in the suite.  Alternatively, you can run individual tests by clicking on them, and clicking the &ldquo;Run&rdquo; button.</p>
<p>
<a href="#image-a8bc5f5a83881cdb9ec5d89fca64edfc" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.4.6.2.png" alt="Run and Run All buttons" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-a8bc5f5a83881cdb9ec5d89fca64edfc">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.4.6.2.png" alt="Run and Run All buttons" class="lightbox-image" loading="lazy">
</a></p>
<p>As tests complete, they will report their status - pass or fail - indicated by a green checkmark or red x next to the test name, as well as the time it took to run the test.  There will also be a summary available with details about any failures that can be accessed by clicking the test name.</p>
<p>
<a href="#image-81a883e789219f26c8829d5fddf781aa" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.4.6.3.png" alt="Test Detail Summary" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-81a883e789219f26c8829d5fddf781aa">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.4.6.3.png" alt="Test Detail Summary" class="lightbox-image" loading="lazy">
</a></p>
<p>Occasionally, your tests may not seem to finish, but get stuck running. If this happens, check the output panel, switching it from &ldquo;build&rdquo; to &ldquo;tests&rdquo;.  Most likely your test process crashed because of an error in your test code, and the output reporting that error will be reported there.</p>
<p>
<a href="#image-a348b01fdd295e53c902503289e51b21" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.4.6.4.png" alt="Test Output in the Output Panel" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-a348b01fdd295e53c902503289e51b21">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.4.6.4.png" alt="Test Output in the Output Panel" class="lightbox-image" loading="lazy">
</a></p>
<p>It is a good idea to run tests you&rsquo;ve written previously as you add to or refactor your code.  This practice is known as <em>regression testing</em>, and can help you identify errors your changes introduce that break what had previously been working code.  This is also one of the strongest arguments for writing test code rather than performing ad-hoc testing; automated tests are easy to repeat.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="summary">Summary</h1>

<p>In this chapter we learned about testing, both manually using test plans and automatically using a testing framework. We saw how the cost of fixing errors rises exponentially with how long they go undiscovered. We discussed how writing automated tests during the programming phase can help uncover these errors earlier, and how regression testing can help us find new errors introduced while adding to our programs.</p>
<p>We learned how to use xUnit and Visual Studio&rsquo;s Test Explorer to write and run tests on .NET programs.  We explored a good chunk of xUnit&rsquo;s assertion library.  We saw how to get Visual Studio to analyze our tests for code coverage, discussed this metric&rsquo;s value to evaluate our tests.  We also explored mutation testing, and saw how it can help improve our tests.</p>
<p>As you move forward as a software developer, you&rsquo;ll want to incorporate testing into your code-writing efforts.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="test-code-coverage">Test Code Coverage</h1>

<p>The term <em>test code coverage</em> refers to how much of your program&rsquo;s code is executed as your tests run. It is a useful metric for evaluating the <em>depth</em> of your test, if not necessarily the quality.  Basically, if your code is not executed in the test framework, it is not tested in any way. If it is executed, then at least <em>some</em> tests are looking at it.  So aiming for a high code coverage is a good starting point for writing tests.</p>
<p>Much like Visual Studio provides a Test Explorer for running tests, it provides support for analyzing test coverage.  We can access this from the &ldquo;Test&rdquo; menu, where we select the &ldquo;Analyze Code Coverage for All Tests&rdquo;.</p>
<p>
<a href="#image-a304879262f4d0f23f249055cc3666ac" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.4.7.1.png" alt="Code coverage command in the Test Menu" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-a304879262f4d0f23f249055cc3666ac">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.4.7.1.png" alt="Code coverage command in the Test Menu" class="lightbox-image" loading="lazy">
</a></p>
<p>This will build and run all our tests, and as they run it will collect data about how many blocks of code are or are not executed.  The results appear in the Code Coverage Results panel:</p>
<p>
<a href="#image-e08d8135e60fc708253fcb00213a226d" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.4.7.2.png" alt="Code Coverage results panel" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-e08d8135e60fc708253fcb00213a226d">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/1.4.7.2.png" alt="Code Coverage results panel" class="lightbox-image" loading="lazy">
</a></p>
<p>Be aware that there will always be some blocks that are not picked up in this analysis, so it is typical to shoot for a high percentage.</p>
<p>While test code coverage is a good starting point for evaluating your tests, it is simply a measure of quantity, not quality. It is easily possible for you to have all of your code covered by tests, but still miss errors.  You need to carefully consider the edge cases - those unexpected and unanticipated ways your code might end up being used.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="mutation-testing">Mutation Testing</h1>

<p>At this point you may be asking how to determine if your tests are good.  Mutation testing is one way of evaluating the quality of your tests.  Effectively, mutation testing is a strategy that <em>mutates</em> your program, and then runs your tests.  If the test fails against the mutated code, this suggests your test is good.</p>
<p>As a simplistic example, take this extremely simple class:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Doll
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Name {<span style="color:#66d9ef">get</span>;} = <span style="color:#e6db74">&#34;Molly&#34;</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>A mutation might change it to:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> Doll
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> Name {<span style="color:#66d9ef">get</span>;} = <span style="color:#e6db74">&#34;Mollycoddle&#34;</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>We would expect that the test <code>TheDollsNameIsAlwaysMolly</code> would fail due to this mutation.  If it doesn&rsquo;t, we probably need to revisit our test.  Here is an example of a test that would both normally pass, and pass with this mutation.  See if you can spot the problem:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#a6e22e">[Fact]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> TheDollsNameIsAlwaysMolly()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  Doll doll = <span style="color:#66d9ef">new</span> Doll();
</span></span><span style="display:flex;"><span>  Assert.Contains(doll.Name, <span style="color:#e6db74">&#34;Molly&#34;</span>);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Mutation testing is done by a special testing tool that uses reflection to understand and alter the classes being tested in your unit tests.  In C#, we use <a href="https://stryker-mutator.io/docs/stryker-net/introduction/" target="_blank">Stryker.NET</a>
.</p>
<p>As with code coverage, mutation testing can&rsquo;t provide all the answers.  But it does help ensure that our programs and the tests we write of them are more robust.</p>

            <footer class="footline">

            </footer>
          </article>

          </section>
    
    
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 5</div>
<h1 id="uml">UML</h1>

<p>The Standard Model of Object-Orientation</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of UML</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="introduction">Introduction</h1>

<p>As software systems became more complex, it became harder to talk and reason about them.  Unified Modeling Language (UML) attempted to correct for this by providing a <em>visual, diagrammatic</em> approach to communicate the structure and function of a program.  If a picture is worth a thousand words, a UML diagram might be worth a thousand lines of code&hellip;</p>
<h2 id="key-terms">Key Terms</h2>
<p>Some key terms to learn in this chapter are:</p>
<ul>
<li>Unified Modeling Language</li>
<li>Class Diagrams</li>
<li>Typed Elements</li>
<li>Constraints</li>
<li>Stereotypes</li>
<li>Attributes</li>
<li>Operations</li>
<li>Association</li>
<li>Generalization</li>
<li>Realization</li>
<li>Composition</li>
<li>Aggregation</li>
</ul>
<h2 id="key-skills">Key Skills</h2>
<p>The key skill to learn in this chapter is how to draw UML class diagrams.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="uml">UML</h1>

<p><a href="https://www.uml.org/" target="_blank">Unified Modeling Language (UML)</a>
 was introduced to create a standardized way of visualizing a software system design.  It was developed by Grady Booch, Ivar Jacobson, and James Rumbah at Rational Software in the mid-nineties.  It was adopted as a standard by the Object Management Group in 1997, and also by the International Organization for Standardization (ISO) as an approved ISO standard in 2005.</p>
<p>The UML standard actually provides many different kinds of diagrams for describing a software system - both structure and behavior:</p>
<ul>
<li><strong>Class Diagram</strong> A class diagram visualizes the structure of the classes in the software, and the relationships between these classes.</li>
<li><strong>Component Diagram</strong> A component diagram visualizes how the software system is broken into <em>components</em>, and how communication between those components is achieved.</li>
<li><strong>Activity Diagram</strong> An activity diagram represents workflows in a step-by-step process for actions.  It is used to model data flow in a software system.</li>
<li><strong>Use-Case Diagram</strong> A use-case diagram identifies the kinds of users a software system will have, and how they work with the software.</li>
<li><strong>Sequence Diagram</strong> A sequence diagram shows object interactions arranged in chronological sequences.</li>
<li><strong>Communication Diagram</strong> A communication diagram models the interactions between objects in terms of sequences of messages.</li>
</ul>
<p>The <a href="https://www.omg.org/spec/UML/2.5.1/PDF" target="_blank">full UML specification</a>
 is <em>754 pages long</em>, so there is a <em>lot</em> of information packed into it.  For the purposes of this class, we&rsquo;re focusing on a single kind of diagram - the <em>class diagram</em>.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="boxes">Boxes</h1>

<p>UML class diagrams are largely composed of <em>boxes</em> - basically a rectangular border containing text. UML class diagrams use boxes to represent units of code - i.e. classes, structs, and enumerations.  These boxes are broken into compartments.  For example, an <code>Enum</code> is broken into two compartments:</p>
<p>
<a href="#image-5ce29a34d043779f88eb771becbeb7b0" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.3.1.png" alt="A UML Enum representation" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-5ce29a34d043779f88eb771becbeb7b0">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.3.1.png" alt="A UML Enum representation" class="lightbox-image" loading="lazy">
</a></p>
<h3 id="stereotypes">Stereotypes</h3>
<p>UML is intended to be language-agnostic.  But we often find ourselves in situations where we want to convey language-specific ideas, and the UML specification leaves room for this with  <em>stereotypes</em>. Stereotypes consist of text enclosed in double less than and greater than symbols.  In the example above, we indicate the box represents an enumeration with the 
<span class="math align-center">$ \texttt{&lt&ltenum&gt;&gt;}$</span> stereotype.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="typed-elements">Typed Elements</h1>

<p>A second basic building block for UML diagrams is a <em>typed element</em>.  Typed elements (as you might expect from the name) have a <em>type</em>.  Fields and parameters are typed elements, as are method parameters and return values.</p>
<p>The pattern for defining a typed element is:</p>

<span class="math align-center">$$
\texttt{[visibility] element : type [constraint]} 
$$</span><p>The optional 
<span class="math align-center">$\texttt{[visibility]}$</span> indicates the visibility of the element, the 
<span class="math align-center">$\texttt{element}$</span> is the name of the typed element, and the 
<span class="math align-center">$\texttt{type}$</span> is its type, and the 
<span class="math align-center">$\texttt{[constraint]}$</span> is an optional constraint.</p>
<h3 id="visibility">Visibility</h3>
<p>In UML <em>visibility</em> (what we would call access level in C#) is indicated with symbols, i.e.:</p>
<ul>
<li>
<span class="math align-center">$\texttt{+}$</span> indicates <code>public</code></li>
<li>
<span class="math align-center">$\texttt{-}$</span> indicates <code>private</code></li>
<li>
<span class="math align-center">$\texttt{#}$</span> indicates <code>protected</code></li>
</ul>
<p>I.e. the field:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">int</span> Size;</span></span></code></pre></div><p>Would be expressed:</p>

<span class="math align-center">$$
\texttt{# Size : int}
$$</span><h3 id="constraints">Constraints</h3>
<p>A typed element can include a <em>constraint</em> indicating some restriction for the element.  The constraints are contained in a pair of curly braces after the typed element, and follow the pattern:</p>

<span class="math align-center">$$
\texttt{ {element: boolean expression} }
$$</span><p>For example:</p>

<span class="math align-center">$$
\texttt{- age: int {age: >= 0}}
$$</span><p>Indicates the private variable <code>age</code> must be greater than or equal to 0.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="classes">Classes</h1>

<p>In a UML class diagram, individual classes are represented with a box divided into three compartments, each of which is for displaying specific information:</p>
<p>
<a href="#image-0694d8d41c9647634c512a502f685022" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.5.1.png" alt="Class Diagram example" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-0694d8d41c9647634c512a502f685022">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.5.1.png" alt="Class Diagram example" class="lightbox-image" loading="lazy">
</a></p>
<p>The first compartment identifies the class - it contains the name of the class. The second compartment holds the <em>attributes</em> of the class (in C#, these are the <em>fields</em> and <em>properties</em>).  And the third compartment holds the <em>operations</em> of the class (in C#, these are the <em>methods</em>).</p>
<p>In the diagram above, we can see the <code>Fruit</code> class modeled on the right side.</p>
<h3 id="attributes">Attributes</h3>
<p>The <em>attributes</em> in UML represent the <em>state</em> of an object.  For C#, this would correspond to the <em>fields</em> and <em>properties</em> of the class.</p>
<p>We indicate fields with a typed element, i.e. in the example above, the <code>blended</code> field is represented with:</p>

<span class="math align-center">$$
\texttt{-blended:bool}
$$ </span><p>Indicating it should be declared <code>private</code> with the type <code>bool</code>.</p>
<p>For properties, we add a stereotype containing either <code>get</code>, <code>set</code>, or both.  I.e. if we were to expose the private field bool with a public accessor, we would add a line to our class diagram with:</p>

<span class="math align-center">$$
\texttt{+Blended:bool&lt;&lt;get,set&gt;&gt;}
$$</span>
  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>In C#, properties are technically methods.  But we use the same syntax to utilize them as we do fields, and they serve the same role - to expose aspects of the class state. So for the purposes of this class we&rsquo;ll classify them as attributes.</p>
</div>
</div>
<h3 id="operators">Operators</h3>
<p>The <em>operators</em> in UML represent the <em>behavior</em> of the object, i.e. the <em>methods</em> we can invoke upon it.  These are declared using the pattern:</p>

<span class="math align-center">$$ 
\texttt{visibility name([parameter list])[:return type]}
$$</span><p>The 
<span class="math align-center">$\texttt{[visibility]}$</span> uses the same symbols as typed elements, with the same correspondences. The 
<span class="math align-center">$\texttt{name}$ </span> is the name of the method, and the 
<span class="math align-center">$\texttt{[parameter list]}$</span> is a comma-separated list of typed elements, corresponding to the parameters.  The 
<span class="math align-center">$\texttt{[:return type]}$</span> indicates the return type for the method (it can be omitted for void).</p>
<p>Thus, in the example above, the protected method <code>Blend</code> has no parameters and returns a string.  Similarly, the method:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> Add(<span style="color:#66d9ef">int</span> a, <span style="color:#66d9ef">int</span> b)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> a + b;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Would be expressed:</p>

<span class="math align-center">$$
\texttt{+Add(a:int, b:int):int}
$$</span><h2 id="static-and-abstract">Static and Abstract</h2>
<p>In UML, we indicate a class is static by <em>underlining</em> its name in the first compartment of the class diagram.  We can similarly indicate static operators and methods by underlining the entire line referring to them.</p>
<p>To indicate a class is abstract, we <em>italicize</em> its name.  Abstract methods are also indicated by italicizing the entire line referring to them.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="associations">Associations</h1>

<p>Class diagrams also express the associations <em>between</em> classes by drawing lines between the boxes representing them.</p>
<p>
<a href="#image-698a080e9ab7f09eed3b65524d6f0b1d" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.6.1.png" alt="UML Association" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-698a080e9ab7f09eed3b65524d6f0b1d">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.6.1.png" alt="UML Association" class="lightbox-image" loading="lazy">
</a></p>
<p>There are two basic types of associations we model with UML: <strong>has-a</strong> and <strong>is-a</strong> associations.  We break these into two further categories, based on the strength of the association, which is either <strong>strong</strong> or <strong>weak</strong>.  These associations are:</p>
<table>
  <tr>
    <th>Association Name</th>
    <th>Association Type</th>
  </tr>
  <tr>
    <td>Realization</td>
    <td>weak is-a</td>
  </tr>
  <tr>
    <td>Generalization</td>
    <td>strong is-a</td>
  </tr>
  <tr>
    <td>Aggregation</td>
    <td>weak has-a</td>
  </tr>
  <tr>
    <td>Composition</td>
    <td>strong has-a</td>
  </tr>
</table>
<h2 id="is-a-associations">Is-A Associations</h2>
<p>Is-a associations indicate a relationship where one class <strong>is a</strong> instance of another class.  Thus, these associations represent <em>polymorphism</em>, where a class can be treated as another class, i.e. it has both its own, and the associated classes&rsquo; <em>types</em>.</p>
<h3 id="realization-weak-is-a">Realization (Weak is-a)</h3>
<p>Realization refers to making an interface &ldquo;real&rdquo; by implementing the methods it defines.  For C#, this corresponds to a class that is implementing an <code>Interface</code>. We call this a <strong>is-a</strong> relationship, because the class is treated as being the type of the <code>Interface</code>.  It is also a <strong>weak</strong> relationship as the same interface can be implemented by otherwise unrelated classes.  In UML, realization is indicated by a dashed arrow in the direction of implementation:</p>
<p>
<a href="#image-71b6519d46d21aaa60c078be5ee3d1a2" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.6.2.png" alt="Realization in UML" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-71b6519d46d21aaa60c078be5ee3d1a2">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.6.2.png" alt="Realization in UML" class="lightbox-image" loading="lazy">
</a></p>
<h3 id="generalization">Generalization</h3>
<p>Generalization refers to extracting the shared parts from different classes to make a <em>general</em> base class of what they have in common.  For C# this corresponds to <em>inheritance</em>.  We call this a <strong>strong is-a</strong> relationship, because the class has all the same state and behavior as the base class.  In UML, generalization is indicated by a solid arrow in the direction of inheritance:</p>
<p>
<a href="#image-3c746543372b68ab7472782f0a3091ad" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.6.3.png" alt="Generalization in UML" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-3c746543372b68ab7472782f0a3091ad">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.6.3.png" alt="Generalization in UML" class="lightbox-image" loading="lazy">
</a></p>
<p>Also notice that we show that <code>Fruit</code> and its <code>Blend()</code> method are abstract by italicizing them.</p>
<h2 id="has-a-associations">Has-A Associations</h2>
<p>Has-a associations indicates that a class holds one or more references to instances of another class.   In C#, this corresponds to having a variable or collection with the type of the associated class. This is true for both kinds of has-a associations.  The difference between the two is how strong the association is.</p>
<h3 id="aggregation">Aggregation</h3>
<p>Aggregation refers to collecting references to other classes.   As the aggregating class has references to the other classes, we call this a <strong>has-a</strong> relationship.  It is considered <strong>weak</strong> because the aggregated classes are only collected by the aggregating class, and can exist on their own.  It is indicated in UML by a solid line from the aggregating class to the one it aggregates, with an open diamond &ldquo;fletching&rdquo; on the opposite side of the arrow (the arrowhead is optional).</p>
<p>
<a href="#image-8c89d7d47237c07de8dfe8d0433a8fac" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.6.4.png" alt="Aggregation in UML" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-8c89d7d47237c07de8dfe8d0433a8fac">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.6.4.png" alt="Aggregation in UML" class="lightbox-image" loading="lazy">
</a></p>
<h3 id="composition">Composition</h3>
<p>Composition refers to assembling a class from other classes, &ldquo;composing&rdquo; it.  As the composed class has references to the other classes, we call this a <strong>has-a</strong> relationship.  However, the composing class typically <em>creates</em> the instances of the classes composing it, and they are likewise destroyed when the composing class is destroyed.  For this reason, we call it a <strong>strong</strong> relationship.  It is indicated in UML by a solid line from the composing class to those it is composed of, with a solid diamond &ldquo;fletching&rdquo; on the opposite side of the arrow (the arrowhead is optional).</p>
<p>
<a href="#image-6f49a7632fd29ec5760a69269e92ae7f" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.6.5.png" alt="Composition in UML" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-6f49a7632fd29ec5760a69269e92ae7f">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.6.5.png" alt="Composition in UML" class="lightbox-image" loading="lazy">
</a></p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>Aggregation and composition are commonly confused, especially given they both are defined by holding a variable or collection of another class type.  An analogy I like to use to help students reason about the difference is this:</p>
<p>Aggregation is like a shopping cart.  When you go shopping, you place groceries into the shopping cart, and it holds them as you push it around the store.  Thus, a <code>ShoppingCart</code> class might have a <code>List&lt;Grocery&gt;</code> named <code>Contents</code>, and you would add the items to it.  When you reach the checkout, you would then take the items back out.  The individual <code>Grocery</code> objects existed <em>before</em> they were aggregated by the <code>ShoppingCart</code>, and also <em>after</em> they were removed from it.</p>
<p>In contrast, Composition is like an organism.  Say we create a class representing a <code>Dog</code>.  It might be composed of classes like <code>Tongue</code>, <code>Ear</code>, <code>Leg</code>, and <code>Tail</code>.  We would probably construct these in the <code>Dog</code> class&rsquo;s constructor, and when we dispose of the <code>Dog</code> object, we wouldn&rsquo;t expect these component classes to stick around.</p>
</div>
</div>
<h2 id="multiplicity">Multiplicity</h2>
<p>With aggregation and composition, we may also place numbers on either end of the association, indicating the number of objects involved.  We call these numbers the <em>multiplicity</em> of the association.</p>
<p>
<a href="#image-040cf16d431c8ccd76b5b392de88ff90" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.6.5.png" alt="Composition in UML" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-040cf16d431c8ccd76b5b392de88ff90">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.6.5.png" alt="Composition in UML" class="lightbox-image" loading="lazy">
</a></p>
<p>For example, the <code>Frog</code> class in the composition example has two instances of front and rear legs, so we indicate that each <code>Frog</code> instance (by a <code>1</code> on the Frog side of the association) has exactly two (by the <code>2</code> on the leg side of the association) legs.  The tongue has a <code>1</code> to <code>1</code> multiplicity as each frog has one tongue.</p>
<p>
<a href="#image-dcde10d02787034af1e0b41008282007" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.6.4.png" alt="Aggregation in UML" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-dcde10d02787034af1e0b41008282007">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.6.4.png" alt="Aggregation in UML" class="lightbox-image" loading="lazy">
</a></p>
<p>Multiplicities can also be represented as a range (indicated by the start and end of the range separated by <code>..</code>).  We see this in the <code>ShoppingCart</code> example above, where the count of <code>GroceryItems</code> in the cart ranges from 0 to infinity (infinity is indicated by an asterisk <code>*</code>).</p>
<p>Generalization and realization are always one-to-one multiplicities, so multiplicities are typically omitted for these associations.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="visio">Visio</h1>

<p>One of the many tools we can use to create UML diagrams is Microsoft Visio.  For Kansas State University Computer Science students, this can be downloaded through your <a href="https://support.cs.ksu.edu/CISDocs/wiki/FAQ#MSDNAA" target="_blank">Azure Student Portal</a>
.</p>
<p>Visio is a vector graphics editor for creating flowcharts and diagrams.  it comes preloaded with a UML class diagram template, which can be selected when creating a new file:</p>
<p>
<a href="#image-06a6a1ef0e22ff5cbe2699efce12bf73" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.7.1.png" alt="UML Class Diagram Template" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-06a6a1ef0e22ff5cbe2699efce12bf73">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.7.1.png" alt="UML Class Diagram Template" class="lightbox-image" loading="lazy">
</a></p>
<p>Class diagrams are built by dragging shapes from the shape toolbox onto the drawing surface.  Notice that the shapes include classes, interfaces, enumerations, and all the associations we have discussed. Once in the drawing surface, these can be resized and edited.</p>
<p>
<a href="#image-e126561a1c54ba0bf25fa061b346dddf" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.7.2.gif" alt="Dragging Shapes" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-e126561a1c54ba0bf25fa061b346dddf">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.7.2.gif" alt="Dragging Shapes" class="lightbox-image" loading="lazy">
</a></p>
<p>Right-clicking on an association will open a context menu, allowing you to turn on multiplicities.  These can be edited by double-clicking on them.  Unneeded multiplicities can be deleted.</p>
<p>
<a href="#image-9a31d69b91775971d8a69657286c848d" class="lightbox-link">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.7.3.gif" alt="Setting Multiplicities" style="height: auto; width: auto;" loading="lazy">
</a>
<a href="javascript:history.back();" class="lightbox" id="image-9a31d69b91775971d8a69657286c848d">
<img src="https://ksu-cs-textbooks.github.io/cis400/images/5.7.3.gif" alt="Setting Multiplicities" class="lightbox-image" loading="lazy">
</a></p>
<p>To export a Visio project in PDF or other form, choose the &ldquo;Export&rdquo; option from the file menu.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="summary">Summary</h1>

<p>In this section, we learned about UML class diagrams, a language-agnostic approach to visualizing the structure of an object-oriented software system.  We saw how individual classes are represented by boxes divided into three compartments; the first for the identity of the class, the second for its attributes, and the third for its operators. We learned that italics are used to indicate abstract classes and operators, and underlining static classes, attributes, and operators.</p>
<p>We also saw how associations between classes can be represented by arrows with specific characteristics, and examined four of these in detail: aggregation, composition, generalization, and realization.  We also learned how multiplicities can show the number of instances involved in these associations.</p>
<p>Finally, we saw how C# classes, interfaces, and enumerations are modeled using UML.  We saw how the stereotype can be used to indicate language-specific features like C# properties.  We also looked at creating UML Class diagrams using Microsoft Visio.</p>

            <footer class="footline">

            </footer>
          </article>

          </section>
    
    
          <article class="chapter">
            <header class="headline">
            </header>


<div class="article-subheading">Chapter 6</div>
<h1 id="advanced-c">Advanced C#</h1>

<p>For a Sharper Language</p>

            <footer class="footline">

            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Advanced C#</h1>
    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="introduction">Introduction</h1>

<p>Throughout the earlier chapters, we&rsquo;ve focused on the theoretical aspects of Object-Orientation, and discussed how those are embodied in the C# language.  Before we close this section though, it would be a good idea to recognize that C# is not <em>just</em> an object-oriented language, but actually draws upon many ideas and syntax approaches that are not very object-oriented at all!</p>
<p>In this chapter, we&rsquo;ll examine many aspects of C# that fall outside of the object-oriented mold. Understanding how and why these constructs have entered C# will help make you a better .NET programmer, and hopefully alleviate any confusion you might have.</p>
<h2 id="key-terms">Key Terms</h2>
<p>Some key terms to learn in this chapter are:</p>
<ul>
<li>Production Languages</li>
<li>The <code>static</code> keyword</li>
<li>Generics</li>
<li>Nullables</li>
<li>Anonymous Types</li>
<li>Lambda Syntax</li>
<li>Pattern Matching</li>
</ul>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="production-languages">Production Languages</h1>

<p>It is important to understand that C# is a <em>production</em> language - i.e. one intended to be used to create real-world software.  To support this goal, the developers of the C# language have made many efforts to make C# code easier to write, read, and reason about.  Each new version of C# has added additional syntax and features to make the language more powerful and easier to use.  In some cases, these are entirely new things the language couldn&rsquo;t do previously, and in others they are <em>syntactic sugar</em> - a kind of abbreviation of an existing syntax.  Consider the following <code>if</code> statement:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(someTestFlag) 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    DoThing();
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span> 
</span></span><span style="display:flex;"><span>{ 
</span></span><span style="display:flex;"><span>    DoOtherThing();
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>As the branches only execute a single expression each, this can be abbreviated as:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(someTestFlag) DoThing();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span> DoOtherThing();</span></span></code></pre></div><p>Similarly, Visual Studio has evolved side-by-side with the language.  For example, you have probably come to like <em>Intellisense</em> - Visual Studio&rsquo;s ability to offer descriptions of classes and methods as you type them, as well as <em>code completion</em>, where it offers to complete the statement you have been typing with a likely target.  As we mentioned in our section on learning programming, these powerful features can be great for a professional, but can interfere with a novice programmer&rsquo;s learning.</p>
<p>Let&rsquo;s take a look at some of the features of C# that we haven&rsquo;t examined in detail yet.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="the-static-keyword">The static Keyword</h1>

<p>To start, let&rsquo;s revisit one more keyword that causes a lot of confusion for new programmers, <code>static</code>.  We mentioned it briefly when talking about encapsulation and modules, and said we could mimic a module in C# with a static class.  We offered this example:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A library of vector math functions</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">VectorMath</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Computes the dot product of two vectors </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">double</span> DotProduct(Vector3 a, Vector3 b) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> a.x * b.x + a.y * b.y + a.z * b.z;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Computes the magnitude of a vector</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">double</span> Magnitude(Vector3 a) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> Math.Sqrt(Math.Pow(a.x, <span style="color:#ae81ff">2</span>) + Math.Pow(a.y, <span style="color:#ae81ff">2</span>) + Math.Pow(a.z, <span style="color:#ae81ff">2</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>You&rsquo;ve probably worked with the C# <code>Math</code> class before, which is declared the same way - as a static class containing static methods.  For example, to compute 8 cubed, you might have used:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Math.Pow(<span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">3</span>);</span></span></code></pre></div><p>Notice how we didn&rsquo;t construct an object from the <code>Math</code> class?  In C# we <em>cannot construct static classes</em> - they simply exist as a container for static fields and methods.  If you&rsquo;re thinking that doesn&rsquo;t sound very object-oriented, you&rsquo;re absolutely right.  The <code>static</code> keyword allows for some very non-object-oriented behavior more in line with imperative languages like C.  Bringing the idea of <code>static</code> classes into C# let programmers with an imperative background use similar techniques to what they were used to, which is why <code>static</code> classes have been a part of C# from the beginning.</p>
<h3 id="static-methods-in-regular-classes">Static Methods in Regular Classes</h3>
<p>You can also create <code>static</code> methods within a non-static class.  For example, we could refactor our <code>Vector3</code> class to add a static <code>DotProduct()</code> within it:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Vector3</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> X {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> Y {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> Z {<span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt; </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Creates a new Vector3 object</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Vector3(<span style="color:#66d9ef">double</span> x, <span style="color:#66d9ef">double</span> y, <span style="color:#66d9ef">double</span> z) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.X = x;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.Y = y;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.Z = z;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Computes the dot product of this vector and another one </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;other&#34;&gt;The other vector&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> DotProduct(Vector3 other) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.X * other.X + <span style="color:#66d9ef">this</span>.Y * other.Y + <span style="color:#66d9ef">this</span>.Z * other.Z;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Computes the dot product of two vectors </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;a&#34;&gt;The first vector&lt;param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;param name=&#34;b&#34;&gt;The second vector&lt;/param&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> DotProduct(Vector3 a, Vector3 b)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> a.DotProduct(b);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>This method would be invoked like any other <code>static</code> method, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Vector3 a = <span style="color:#66d9ef">new</span> Vector3(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>);
</span></span><span style="display:flex;"><span>Vector3 b = <span style="color:#66d9ef">new</span> Vector3(<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>Vector3.DotProduct(a, b);</span></span></code></pre></div><p>You can see we&rsquo;re doing the same thing as the instance method <code>DotProduct(Vector3 other)</code>, but in a library-like way.</p>
<h3 id="static-fields-within-regular-classes">Static Fields Within Regular Classes</h3>
<p>We can also declare fields as <code>static</code>, which has a meaning slightly different than static methods.  Specifically, the field is <em>shared</em> amongst all instances of the class.  Consider the following class:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Tribble</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> count = <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Tribble() 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        count *= <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> TotalTribbles
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">get</span> 
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> count;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>If we create a single Tribble, and then ask how many total Tribbles there are:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> t = <span style="color:#66d9ef">new</span> Tribble();
</span></span><span style="display:flex;"><span>t.TotalTribbles; <span style="color:#75715e">// expect this to be 2</span></span></span></code></pre></div><p>We would expect the value to be 2, as <code>count</code> was initialized to <code>1</code> and then multiplied by <code>2</code> in the Tribble constructor.  But if we construct <em>two</em> Tribbles:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> t = <span style="color:#66d9ef">new</span> Tribble();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> u = <span style="color:#66d9ef">new</span> Tribble();
</span></span><span style="display:flex;"><span>t.TotalTribbles; <span style="color:#75715e">// will be 4</span>
</span></span><span style="display:flex;"><span>u.TotalTribbles; <span style="color:#75715e">// will be 4</span></span></span></code></pre></div><p>This is because <em>all instances of Tribble share the <code>count</code> field</em>.  So it is initialized to <code>1</code>, multiplied by <code>2</code> when tribble <code>a</code> was constructed, and multiplied by <code>2</code> again when tribble <code>b</code> was constructed.  Hence $1 * 2 * 2 = 4$.  Every additional Tribble we construct will double the total population (which is the trouble with Tribbles).</p>
<h2 id="why-call-this-static">Why Call This Static?</h2>
<p>Which brings us to a point of confusion for most students, <em>why call this static</em>?  After all, doesn&rsquo;t the word <em>static</em> indicate <em>unchanging</em>?</p>
<p>The answer lies in how memory is allocated in a program.  Sometimes we know in advance how much memory we need to hold a variable, i.e. a <code>double</code> in C# requires 64 bits of memory.  We call these types <em>value types</em> in C#, as the value is stored directly in memory where our variable is allocated.  Other types, i.e. a <code>List&lt;T&gt;</code>, we may not know exactly how much memory will be required.  We call these <em>reference</em> types.  Instead of the variable holding a binary value, it holds a binary <em>address</em> to <em>another</em> location in memory where the list data is stored (hence, it is a <em>reference</em>).</p>
<p>When your program runs, it gets assigned a big chunk of memory from the operating system.  Your program is loaded into the first part of this memory, and the remaining memory is used to hold variable values as the program runs.  If you imagine that memory as a long shelf, we put the program instructions and any literal values to the far left of this shelf.  Then, as the program runs and we need to create space for variables, we either put them on the left side or right side of the remaining shelf space.  Value types, which we know will only exist for the duration of their scope (i.e. the method they are defined in) go to the left, and once we&rsquo;ve ended that scope we remove them.  Similarly, the references we create (holding the address of memory of reference types) go on the left.  The <em>data</em> of the reference types however, go on the right, because we don&rsquo;t know when we&rsquo;ll be done with them.</p>
<p>We call the kind of memory allocation that happens on the left <em>static</em>, as we know it should exist as long as the variable is in scope.  Hence, the <code>static</code> keyword.  In lower-level languages like C, we have to manually allocate space for our reference types (hence, not static).  C# is a <em>memory managed</em> language in that we don&rsquo;t need to manually allocate and deallocate space for reference types, but we <em>do</em> allocate space every time we use the <code>new</code> keyword, and the garbage collector frees any space it decides we&rsquo;re done with (because we no longer have references pointing at it).  So pointers <em>do</em> exist in C#, they are just &ldquo;under the hood&rdquo;.</p>
<p>By the way, the left side of the shelf we call the <strong>Stack</strong>, and the right the <strong>Heap</strong>.  This is the source of the name for a <strong>Stack Overflow Exception</strong> - it means your program used up all the available space in the <strong>Stack</strong>, but still needs more.  This is why it typically happens with infinite loops or recursion - they keep allocating variables on the stack until they run out of space.</p>
<p>Memory allocation and pointers is covered in detail in  <strong>CIS 308 - C Language Lab</strong>, and you&rsquo;ll learn more about how programs run and the heap and stack in <strong>CIS 450 - Computer Architecture and Operations</strong>.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="operator-overloading">Operator Overloading</h1>

<p>C# allows you to override most of the language&rsquo;s operators to provide class-specific functionality.  The user-defined casts <a href="https://ksu-cs-textbooks.github.io/cis400/1-object-orientation/02-polymorphism/05-casting/">we discussed earlier</a>
 are one example of this.</p>
<p>Perhaps the most obvious of these are the arithmetic operators, i.e. <code>+</code>, <code>-</code>, <code>\</code>, <code>*</code>.  Consider our <code>Vector3</code> class we defined earlier.  If we wanted to overload the <code>+</code> operator to allow for vector addition, we could add it to the class definition:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A class representing a 3-element vector</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Vector3</span> 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;The x-coordinate&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> X { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;The y-coordinate&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> Y { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;The z-coordinate&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> Z { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>;}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Constructs a new vector</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Vector3(<span style="color:#66d9ef">double</span> x, <span style="color:#66d9ef">double</span> y, <span style="color:#66d9ef">double</span> z)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        X = x;
</span></span><span style="display:flex;"><span>        Y = y;
</span></span><span style="display:flex;"><span>        Z = z;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// Adds two vectors using vector addition</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Vector3 <span style="color:#66d9ef">operator</span> +(Vector3 v1, Vector3 v2)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Vector3(v1.X + v2.X, v1.Y + v2.Y, v1.Z + v2.Z);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Note that we have to make the method <code>static</code>, and include the <code>operator</code> keyword, along with the symbol of the operation.  This vector addition we are performing here is also a <em>binary</em> operation (meaning it takes two parameters).  We can also define <em>unary</em> operations, like negation:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// Negates a vector</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Vector3 <span style="color:#66d9ef">operator</span> -(Vector3 v)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Vector3(-v.X, -v.Y, -v.Z);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>The full list of <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/operator-overloading#overloadable-operators" target="_blank">overloadable operators is found in the C# documentation</a>
</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="generics">Generics</h1>

<p>Generics expand the type system of C# by allowing classes and structs to be defined with a generic type parameter, which will be instantiated when it is used in code.  This avoids the necessity of writing similar specialized classes that each work with a different data type.  You&rsquo;ve used examples of this extensively in your <em>CIS 300 - Data Structures</em> course.</p>
<p>For example, the generic <code>List&lt;T&gt;</code> can be used to create a list of any type.  If we want a list of integers, we declare it using <code>List&lt;int&gt;</code>, and if we want a list of booleans we declare it using <code>List&lt;bool&gt;</code>.  Both use the same generic list class.</p>
<p>You can declare your own generics as well.  Say you need a binary tree, but want to be able to support different types.  We can declare a generic <code>BinaryTreeNode&lt;T&gt;</code> class:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// A class representing a node in a binary tree </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;summary&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/// &lt;typeparam name=&#34;T&#34;&gt;The type to hold in the tree&lt;/typeparam&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">BinaryTreeNode</span>&lt;T&gt; 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt; </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// The value held in this node of the tree </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> T Value { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt; </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// The left branch of this node</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> BinaryTreeNode&lt;T&gt; Left { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;summary&gt; </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// The right branch of this node</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/// &lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> BinaryTreeNode&lt;T&gt; Right { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Note the use of <code>&lt;typeparam&gt;</code> in the XML comments.  You should always document your generic type parameters when using them.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="nullables">Nullables</h1>

<p>Returning to the distinction between value and reference types, a <em>value</em> type stores its value directly in the variable, while a <em>reference</em> type stores an address to another location in memory that has been allocated to hold the value.  This is why reference types can be <code>null</code> - this indicates they aren&rsquo;t pointing at anything.  In contrast, value types cannot be null - they <em>always</em> contain a value.  However, there are times it would be convenient to have a value type be allowed to be null.</p>
<p>For these circumstances, we can use the <a href="https://docs.microsoft.com/en-us/dotnet/api/system.nullable-1" target="_blank">Nullable<T></a>
 generic type, which allows the variable to represent the same values as before, <em>plus</em> <code>null</code>.  It does this by wrapping the value in a simple structure that stores the value in its <code>Value</code> property, and also has a boolean property for <code>HasValue</code>.  More importantly, it supports explicit casting into the template type, so we can still use it in expressions, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Nullable&lt;<span style="color:#66d9ef">int</span>&gt; a = <span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> b = <span style="color:#ae81ff">6</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> c = (<span style="color:#66d9ef">int</span>)a + b;
</span></span><span style="display:flex;"><span><span style="color:#75715e">// This evaluates to 11.</span></span></span></code></pre></div><p>However, if the value is <code>null</code>, we&rsquo;ll get an <code>InvalidOperationException</code> with the message <em>&ldquo;Nullable object must have a value&rdquo;</em>.</p>
<p>There is also syntactic sugar for declaring nullable types.  We can follow the type with a question mark (<code>?</code>), i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">int?</span> a = <span style="color:#ae81ff">5</span>;</span></span></code></pre></div><p>Which works the same as <code>Nullable&lt;int&gt; a = 5;</code>, but is less typing.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="anonymous-types">Anonymous Types</h1>

<p>Another new addition to C# is <a href="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/anonymous-types" target="_blank">anonymous types</a>
.  These are read-only objects whose type is created by the compiler rather than being defined in code.  They are created using syntax very similar to object initializer syntax.</p>
<p>For example, the line:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> name = <span style="color:#66d9ef">new</span> { First=<span style="color:#e6db74">&#34;Jack&#34;</span>, Last=<span style="color:#e6db74">&#34;Sprat&#34;</span> };</span></span></code></pre></div><p>Creates an anonymous object with properties <code>First</code> and <code>Last</code> and assigns it to the variable name.  Note we have to use <code>var</code>, because the object does not have a defined type.  Anonymous types are primarily used with LINQ, which we&rsquo;ll cover in the future.</p>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="lambda-syntax">Lambda Syntax</h1>

<p>The next topic we&rsquo;ll cover is <em>lambda syntax</em>.  You may remember from CIS 115 the <em>Turing Machine</em>, which was Alan Turing&rsquo;s theoretical computer he used to prove a lot of theoretical computer science ideas.  Another mathematician of the day, Alan Church, created his own equivalent of the Turing machine expressed as a formal logic system, <a href="https://en.wikipedia.org/wiki/Lambda_calculus" target="_blank">Lambda calculus</a>
.  Broadly speaking, the two approaches do the same thing, but are expressed very differently - the Turing machine is an (imaginary) hardware-based system, while Lambda Calculus is a formal symbolic system grounded in mathematical logic.  Computer scientists develop familiarity with both conceptions, and some of the most important work in our field is the result of putting them together.</p>
<p>But they do represent two different perspectives, which influenced different programming language paradigms.  The Turing machine you worked with in CIS 115 is very similar to assembly language, and the imperative programming paradigm draws strongly upon this approach.  In contrast, the logical and functional programming paradigms were more influenced by Lambda calculus.  This difference in perspective also appears in how functions are commonly written in these different paradigms.  An imperative language tends to define functions something like:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>Add(param1, param2)
{
    return param1 + param2;
}</code></pre></div><p>While a functional language might express the same idea as:</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>(param1, param2) =&gt; param1 + param2</code></pre></div><p>This &ldquo;arrow&rdquo; or &ldquo;lambda&rdquo; syntax has since been adopted as an alternative way of writing functions in many modern languages, including C#.  In C#, it is primarily used as syntactic sugar, to replace what would otherwise be a lot of typing to express a simple idea.</p>
<p>Consider the case where we want to search a <code>List&lt;string&gt; AnimalList</code> for a string containing the substring <code>&quot;kitten&quot;</code>.  The <code>List.Find()</code> takes a predicate - a static method that can be invoked to find an item in the list.  We have to define a static method, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">bool</span> FindKittenSubstring(<span style="color:#66d9ef">string</span> fullString)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> fullString.Contains(<span style="color:#e6db74">&#34;kitten&#34;</span>);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>From this method, we create a predicate:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>Predicate&lt;<span style="color:#66d9ef">string</span>&gt; findKittenPredicate = FindKittenSubstring;</span></span></code></pre></div><p>Then we can pass that predicate into our <code>Find</code>:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> containsKitten = AnimalList.Find(findKittenPredicate);</span></span></code></pre></div><p>This is quite a lot of work to express a simple idea.  C# introduced lambda syntax as a way to streamline it.  The same operation using lambda syntax is:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> containsKitten = AnimalList.Find((fullString) =&gt; fullString.Contains(<span style="color:#e6db74">&#34;kitten&#34;</span>));</span></span></code></pre></div><p>Much cleaner to write.  The C# compiler is converting this lambda expression into a predicate as it compiles, but we no longer have to write it!  You&rsquo;ll see this syntax in your xUnit tests as well as when we cover LINQ.  It has also been adapted to simplify writing getters and setters.  Consider this case:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span> 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> LastName { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> FirstName { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> FullName 
</span></span><span style="display:flex;"><span>    { 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">get</span> 
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> FirstName + <span style="color:#e6db74">&#34; &#34;</span> + LastName;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>We could instead express this as:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span> 
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> LastName { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> FirstName { <span style="color:#66d9ef">get</span>; <span style="color:#66d9ef">set</span>; }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">string</span> FullName =&gt; FirstName + <span style="color:#e6db74">&#34; &#34;</span> + LastName;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>In fact, all methods that return the result of a single expression can be written this way:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">VectorMath</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> Add(Vector a, Vector b) =&gt; <span style="color:#66d9ef">new</span> Vector(a.X + b.X, a.Y + b.Y, a.Z + b.Z);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="pattern-matching">Pattern Matching</h1>

<p>Pattern matching is another idea common to functional languages that has gradually crept into C#.  Pattern matching refers to extracting information from structured data by matching the shape of that data.</p>
<p>We&rsquo;ve already seen the pattern-matching is operator <a href="https://ksu-cs-textbooks.github.io/cis400/1-object-orientation/02-polymorphism/05-casting/">in our discussion of casting</a>
.  This allows us to extract the <em>cast</em> version of a variable and assign it to a new one:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(oldVariable <span style="color:#66d9ef">is</span> SpecificType newVariable)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// within this block newVariable is (SpecificType)oldVariable</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>The <code>switch</code> statement is also an example of pattern matching.  The traditional version only matched constant values, i.e.:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">switch</span>(choice)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;1&#34;</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Do something</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;2&#34;</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Do something else</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;3&#34;</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Do a third thing</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">default</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Do a default action</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>However, in C# version 7.0, this has been expanded to also match patterns.  For example, given a <code>Square</code>, <code>Circle</code>, and <code>Rectangle</code>  class that all extend a <code>Shape</code> class, we can write a method to find the area using a switch:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">double</span> ComputeCircumference(Shape shape)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">switch</span>(shape)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> Square s:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">4</span> * s.Side;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> Circle c:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> c.Radius * <span style="color:#ae81ff">2</span> * Math.PI;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> Rectangle r:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">2</span> * r.Length + <span style="color:#ae81ff">2</span> * r.Height;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">default</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> ArgumentException(
</span></span><span style="display:flex;"><span>                message: <span style="color:#e6db74">&#34;shape is not a recognized shape&#34;</span>,
</span></span><span style="display:flex;"><span>                paramName: nameof(shape)
</span></span><span style="display:flex;"><span>            );
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>Note that here we match the type of the <code>shape</code> <em>and</em> cast it to that type making it available in the provided variable, i.e. <code>case Square s:</code> matches if <code>shape</code> can be cast to a <code>Square</code>, and <code>s</code> is the result of that cast operation.</p>
<p>This is further expanded upon with the use of <code>when</code> clauses, i.e. we could add a special case for a circle or square with a circumference of 0:</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">double</span> ComputeCircumference(Shape shape)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">switch</span>(shape)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> Square s when s.Side == <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> Circle c when c.Radius == <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> Square s:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">4</span> * s.Side;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> Circle c:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> c.Radius * <span style="color:#ae81ff">2</span> * Math.PI;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">case</span> Rectangle r:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">2</span> * r.Length + <span style="color:#ae81ff">2</span> * r.Height;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">default</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> ArgumentException(
</span></span><span style="display:flex;"><span>                message: <span style="color:#e6db74">&#34;shape is not a recognized shape&#34;</span>,
</span></span><span style="display:flex;"><span>                paramName: nameof(shape)
</span></span><span style="display:flex;"><span>            );
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>The <code>when</code> applies conditions to the match that only allow a match when the corresponding condition is true.</p>

  
  
<div class="box notices cstyle info">
  <div class="box-label"><i class="fa-fw fas fa-info-circle"></i> Info</div>
  <div class="box-content">

<p>C# 8.0, which is currently in preview, has <a href="https://docs.microsoft.com/en-us/archive/msdn-magazine/2019/may/csharp-8-0-pattern-matching-in-csharp-8-0" target="_blank">expanded greatly upon pattern matching</a>
, adding exciting new features, such as the switch expression, tuples, and deconstruction operator.</p>
</div>
</div>

            <footer class="footline">

            </footer>
          </article>

    
    
          <article class="default">
            <header class="headline">
            </header>
<h1 id="summary">Summary</h1>

<p>In this chapter we looked at some of the features of C# that aren&rsquo;t directly related to object-orientation, including many drawn from imperative or functional paradigms.  Some have been with the language since the beginning, such as the <code>static</code> keyword, while others have recently been added, like pattern matching.</p>
<p>Each addition has greatly expanded the power and usability of C# - consider generics, whose introduction brought entirely new (and much more performant) library collections like <code>List&lt;T&gt;</code>, <code>Dictionary&lt;T&gt;</code>, and <code>HashSet&lt;T&gt;</code>.  Others have lead to simpler and cleaner code, like the use of Lambda expressions.  Perhaps most important is the realization that programming languages often continue to evolve beyond their original conceptions.</p>

            <footer class="footline">

            </footer>
          </article>

          </section>
          </section>

        </div>
      </main>
    
<div class="git-footer">
<p class="theme-version-footer">5.18.0</p>
<p>Last modified by: 
            <i class='fas fa-user'></i> Russell Feldhausen
            <i class='fas fa-calendar'></i> <a href="https://gitlab.cs.ksu.edu/cs-textbooks/cis400-textbook/-/commit/681e5c9c43e3ac6de614c2cc74487702fd43cab7">Aug 10, 2023</a>
</p>
</div>

    
    </div>
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/clipboard.min.js?1713819112" defer></script>
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/perfect-scrollbar.min.js?1713819112" defer></script>
    <script>
      function useMathJax( config ){
        if( !Object.assign ){
          
          return;
        }
        window.MathJax = Object.assign( window.MathJax || {}, {
          loader: {
            load: ['[tex]/mhchem']
          },
          startup: {
            elements: [
              '.math'
            ]
          },
          tex: {
            inlineMath: [
              ['$', '$'], 
              ['\\(', '\\)']
            ]
          },
          options: {
            enableMenu: false 
          }
        }, config );
      }
      useMathJax( JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="https://ksu-cs-textbooks.github.io/cis400/js/mathjax/tex-mml-chtml.js?1713819112"></script>
    <script src="https://ksu-cs-textbooks.github.io/cis400/js/theme.js?1713819112" defer></script>
  </body>
</html>
