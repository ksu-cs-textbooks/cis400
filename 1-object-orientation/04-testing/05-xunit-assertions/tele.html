<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="Like most testing frameworks, the xUnit framework provides a host of specialized assertions.
Boolean Assertions For example, xUnit provides two boolean assertions:
Assert.True(bool actual), asserts that the value supplied to the actual parameter is true. Assert.False(bool actual), asserts that the value supplied to the actual parameter is false. While it may be tempting to use Assert.True() for all tests, i.e. Assert.True(stove.BurnerOne == 0), it is better practice to use the specialized assertion that best matches the situation, in this case Assert."><meta name=author content="Nathan Bean"><meta name=twitter:card content="summary"><meta name=twitter:title content="xUnit Assertions :: K-State CIS 400 Textbook"><meta name=twitter:description content="Like most testing frameworks, the xUnit framework provides a host of specialized assertions.
Boolean Assertions For example, xUnit provides two boolean assertions:
Assert.True(bool actual), asserts that the value supplied to the actual parameter is true. Assert.False(bool actual), asserts that the value supplied to the actual parameter is false. While it may be tempting to use Assert.True() for all tests, i.e. Assert.True(stove.BurnerOne == 0), it is better practice to use the specialized assertion that best matches the situation, in this case Assert."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis400/1-object-orientation/04-testing/05-xunit-assertions/"><meta property="og:site_name" content="K-State CIS 400 Textbook"><meta property="og:title" content="xUnit Assertions :: K-State CIS 400 Textbook"><meta property="og:description" content="Like most testing frameworks, the xUnit framework provides a host of specialized assertions.
Boolean Assertions For example, xUnit provides two boolean assertions:
Assert.True(bool actual), asserts that the value supplied to the actual parameter is true. Assert.False(bool actual), asserts that the value supplied to the actual parameter is false. While it may be tempting to use Assert.True() for all tests, i.e. Assert.True(stove.BurnerOne == 0), it is better practice to use the specialized assertion that best matches the situation, in this case Assert."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="Object-Orientation"><meta property="article:published_time" content="2018-08-24T10:53:26-05:00"><meta property="article:modified_time" content="2024-06-27T14:36:54-05:00"><meta itemprop=name content="xUnit Assertions :: K-State CIS 400 Textbook"><meta itemprop=description content="Like most testing frameworks, the xUnit framework provides a host of specialized assertions.
Boolean Assertions For example, xUnit provides two boolean assertions:
Assert.True(bool actual), asserts that the value supplied to the actual parameter is true. Assert.False(bool actual), asserts that the value supplied to the actual parameter is false. While it may be tempting to use Assert.True() for all tests, i.e. Assert.True(stove.BurnerOne == 0), it is better practice to use the specialized assertion that best matches the situation, in this case Assert."><meta itemprop=datePublished content="2018-08-24T10:53:26-05:00"><meta itemprop=dateModified content="2024-06-27T14:36:54-05:00"><meta itemprop=wordCount content="1436"><title>xUnit Assertions :: K-State CIS 400 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis400/1-object-orientation/04-testing/05-xunit-assertions/ rel=canonical type=text/html title="xUnit Assertions :: K-State CIS 400 Textbook"><link href=/cis400/1-object-orientation/04-testing/05-xunit-assertions/index.xml rel=alternate type=application/rss+xml title="xUnit Assertions :: K-State CIS 400 Textbook"><link href=/cis400/1-object-orientation/04-testing/05-xunit-assertions/index.print.html rel=alternate type=text/html title="xUnit Assertions :: K-State CIS 400 Textbook"><link href=/cis400/1-object-orientation/04-testing/05-xunit-assertions/embed.html rel=alternate type=text/html title="xUnit Assertions :: K-State CIS 400 Textbook"><link href=/cis400/css/fontawesome-all.min.css?1724347213 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/fontawesome-all.min.css?1724347213 rel=stylesheet></noscript><link href=/cis400/css/nucleus.css?1724347213 rel=stylesheet><link href=/cis400/css/auto-complete.css?1724347213 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/auto-complete.css?1724347213 rel=stylesheet></noscript><link href=/cis400/css/perfect-scrollbar.min.css?1724347213 rel=stylesheet><link href=/cis400/css/fonts.css?1724347213 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/fonts.css?1724347213 rel=stylesheet></noscript><link href=/cis400/css/theme.css?1724347213 rel=stylesheet><link href=/cis400/css/theme-auto.css?1724347213 rel=stylesheet id=R-variant-style><link href=/cis400/css/chroma-auto.css?1724347213 rel=stylesheet id=R-variant-chroma-style><link href=/cis400/css/variant.css?1724347213 rel=stylesheet><link href=/cis400/css/print.css?1724347213 rel=stylesheet media=print><script src=/cis400/js/variant.js?1724347213></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis400",window.index_js_url="/cis400/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis400/css/custom.css?1724347213 rel=stylesheet></head><body class="mobile-support tele disableInlineCopyToClipboard" data-url=/cis400/1-object-orientation/04-testing/05-xunit-assertions/><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=xunit-assertions>xUnit Assertions</h1><p>Like most testing frameworks, the xUnit framework provides a host of specialized assertions.</p><h2 id=boolean-assertions>Boolean Assertions</h2><p>For example, xUnit provides two boolean assertions:</p><ul><li><code>Assert.True(bool actual)</code>, asserts that the value supplied to the <code>actual</code> parameter is <code>true</code>.</li><li><code>Assert.False(bool actual)</code>, asserts that the value supplied to the <code>actual</code> parameter is <code>false</code>.</li></ul><p>While it may be tempting to use <code>Assert.True()</code> for all tests, i.e. <code>Assert.True(stove.BurnerOne == 0)</code>, it is better practice to use the specialized assertion that best matches the situation, in this case <code>Assert.Equal&lt;T>(T expected, T actual)</code> as a failing test will supply more details.</p><h2 id=equality-assertions>Equality Assertions</h2><p>The <code>Assert.Equal&lt;T>(T expected, T actual)</code> is the workhorse of the assertion library. Notice it is a template method, so it can be used with any type that is comparable (which is pretty much everything possible in C#). It also has an override, <code>Assert.Equal&lt;T>(T expected, T actual, int precision)</code> which allows you to specify the precision for floating-point numbers. Remember that floating point error can cause two calculated values to be slightly different than one another; specifying a precision allows you to say just how close to the expected an actual value needs to be to be considered &rsquo;equal&rsquo; for the purposes of the test.</p><p>Like most assertions, it is paired with an opposite, <code>Assert.NotEqual&lt;T>(T expected, T actual)</code>, which also has an override for supplying precision.</p><h2 id=numeric-assertions>Numeric Assertions</h2><p>With numeric values, it can be handy to determine if the value falls within a range:</p><ul><li><code>Assert.InRange&lt;T>(T actual, T low, T high)</code> asserts <code>actual</code> falls between <code>low</code> and <code>high</code> (inclusive), and</li><li><code>Assert.NotInRange&lt;T>(T actual, T low, T high)</code> asserts <code>actual</code> does not fall between <code>low</code> and <code>high</code> (inclusive)</li></ul><h2 id=reference-assertions>Reference Assertions</h2><p>There are special assertions to deal with null references:</p><ul><li><code>Assert.Null(object object)</code> asserts the supplied <code>object</code> is null, and</li><li><code>Assert.NotNull(object object)</code> asserts the supplied <code>object</code> is <em>not</em> null</li></ul><p>In addition, two objects may be considered equal, but may or may not be the same object (i.e. not referencing the same memory). This can be asserted with:</p><ul><li><code>Assert.Same(object expected, object actual)</code> asserts the <code>expected</code> and <code>actual</code> object references are to the same object, while</li><li><code>Assert.NotSame(object expected, object actual)</code> asserts the <code>expected</code> and <code>actual</code> object references are <em>not</em> the same object</li></ul><h2 id=type-assertions>Type Assertions</h2><p>At times, you may want to assure it is possible to cast an object to a specific type. This can be done with:</p><ul><li><code>Assert.IsAssignableFrom&lt;T>(object obj)</code>
Where <code>T</code> is the type to cast into.</li></ul><p>At other times, you may want to assert that the object is <em>exactly</em> the type you expect (.e. <code>T</code> is not an interface or base class of <code>obj</code>). That can be done with:</p><ul><li><code>Assert.IsType&lt;T>(object obj)</code></li></ul><h2 id=collection-assertions>Collection Assertions</h2><p>There are a host of assertions for working with collections:</p><ul><li><code>Assert.Empty(IEnumerable collection)</code> asserts that the collection is empty, while</li><li><code>Assert.NotEmpty(IEnumerable collection)</code> asserts that it is <em>not</em> empty</li><li><code>Assert.Contains&lt;T>(T expected, IEnumerable&lt;T> collection)</code> asserts that the <code>expected</code> item is found in the <code>collection</code>, while</li><li><code>Assert.DoesNotContain&lt;T>(T expected, IEnumerable&lt;T> collection)</code> asserts the <code>expected</code> item is <em>not</em> found in the <code>collection</code></li></ul><p>In addition to the simple equality check form of <code>Assert.Contains&lt;T>()</code> and <code>Assert.DoesNotContain&lt;T>()</code>, there is a version that takes a filter expression (an expression that evaluates to <code>true</code> or <code>false</code> indicating that an item was found) written as a lambda expression. For example, to determine if a list of <code>Fruit</code> contains an <code>Orange</code> we could use:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>List</span><span class=p>&lt;</span><span class=n>Fruit</span><span class=p>&gt;</span> <span class=n>fruits</span> <span class=p>=</span> <span class=k>new</span> <span class=n>List</span><span class=p>&lt;</span><span class=n>Fruit</span><span class=p>&gt;()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>new</span> <span class=n>Orange</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>    <span class=k>new</span> <span class=n>Apple</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>    <span class=k>new</span> <span class=n>Grape</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>    <span class=k>new</span> <span class=n>Banana</span><span class=p>()</span> <span class=p>{</span><span class=n>Overripe</span> <span class=p>=</span> <span class=kc>true</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=n>Assert</span><span class=p>.</span><span class=n>Contains</span><span class=p>(</span><span class=n>fruits</span><span class=p>,</span> <span class=n>item</span> <span class=p>=&gt;</span> <span class=n>item</span> <span class=k>is</span> <span class=n>Orange</span><span class=p>);</span></span></span></code></pre></div><p>The expression <code>item is Orange</code> is run on each item in <code>fruits</code> until it evaluates to <code>true</code> or we run out of fruit to check. We can also supply curly braces with a return statement if we need to perform more complex logic:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>Assert</span><span class=p>.</span><span class=n>Contains</span><span class=p>(</span><span class=n>fruits</span><span class=p>,</span> <span class=n>item</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>item</span> <span class=k>is</span> <span class=n>Banana</span> <span class=n>banana</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>banana</span><span class=p>.</span><span class=n>Overripe</span><span class=p>)</span> <span class=k>return</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>});</span></span></span></code></pre></div><p>Here we only return <code>true</code> for overripe bananas. Using <code>Assert.Contains()</code> with a filter expression can be useful for checking that expected items are in a collection. To check that the collection also does not contain unexpected items, we can test the length of the collection against the expected number of values, i.e.:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>Assert</span><span class=p>.</span><span class=n>True</span><span class=p>(</span><span class=n>fruits</span><span class=p>.</span><span class=n>Count</span> <span class=p>==</span> <span class=m>4</span><span class=p>,</span> <span class=s>$&#34;Expected 4 items but found {fruits.Count}&#34;</span><span class=p>);</span></span></span></code></pre></div><p>Here we use the <code>Assert.True()</code> overload that allows a custom message when the test fails.</p><p>Finally, <code>Assert.Collection&lt;T>(IEnumerable&lt;T> collection, Action&lt;T>[] inspectors)</code> can apply specific inspectors against each item in a collection. Using the same fruits list as above:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>Assert</span><span class=p>.</span><span class=n>Collection</span><span class=p>(</span><span class=n>fruits</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>    <span class=n>item</span> <span class=p>=&gt;</span> <span class=n>Assert</span><span class=p>.</span><span class=n>IsType</span><span class=p>&lt;</span><span class=n>Orange</span><span class=p>&gt;(</span><span class=n>item</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=n>item</span> <span class=p>=&gt;</span> <span class=n>Assert</span><span class=p>.</span><span class=n>IsType</span><span class=p>&lt;</span><span class=n>Apple</span><span class=p>&gt;(</span><span class=n>item</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=n>item</span> <span class=p>=&gt;</span> <span class=n>Assert</span><span class=p>.</span><span class=n>IsType</span><span class=p>&lt;</span><span class=n>Grape</span><span class=p>&gt;(</span><span class=n>item</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=n>item</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Assert</span><span class=p>.</span><span class=n>IsType</span><span class=p>&lt;</span><span class=n>Banana</span><span class=p>&gt;(</span><span class=n>item</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>Assert</span><span class=p>.</span><span class=n>True</span><span class=p>(((</span><span class=n>Banana</span><span class=p>)</span><span class=n>item</span><span class=p>).</span><span class=n>Overripe</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>);</span></span></span></code></pre></div><p>Here we use an <a href="https://docs.microsoft.com/en-us/dotnet/api/system.action-1?view=netcore-3.1" rel=external target=_blank>Action<t> delegate</a> to map each item in the collection to an assertion. These actions are written using [lambda expressions], which are conceptually <em>functions</em>.</p><p>The number of actions should correspond to the expected size of the collection, and the items supplied to the actions <em>must be in the same order as they appear in the collection</em>. Thus, the <code>Assert.Collection()</code> is a good choice when the collection is expected to always be in the same order, while the <code>Assert.Contains()</code> approach allows for variation in the ordering.</p><h2 id=exception-assertions>Exception Assertions</h2><p>Error assertions <em>also</em> use <a href="https://docs.microsoft.com/en-us/dotnet/api/system.action-1?view=netcore-3.1" rel=external target=_blank>Action<t> delegate</a>, in this case to execute code that is expected to throw an exception, i.e. we could test for <code>System.DivideByZeroException</code> with:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=na>[Fact]</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>void</span> <span class=n>DivisionByZeroShouldThrowException</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Assert</span><span class=p>.</span><span class=n>Throws</span><span class=p>(</span><span class=n>System</span><span class=p>.</span><span class=n>DivideByZeroException</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>var</span> <span class=n>tmp</span> <span class=p>=</span> <span class=m>10.0</span><span class=p>/</span><span class=m>0.0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>Note how we place the code that is expected to throw the exception <em>inside</em> the body of the Action? This allows the assertion to wrap it in a <code>try/catch</code> internally. The exception-related assertions are:</p><ul><li><code>Assert.Throws(System.Exception expectedException, Action testCode)</code> asserts the supplied <code>expectedException</code> is thrown when <code>testCode</code> is executed</li><li><code>Assert.Throws&lt;T>(Action testCode) where T : System.Exception</code> the templated version of the above</li><li><code>Assert.ThrowsAny&lt;T>(Action testCode) where T: System.Exception</code> asserts that <em>any</em> exception will be thrown by the <code>testCode</code> when executed</li></ul><p>There are also similar assertions for exceptions being thrown in <em>asynchronous</em> code. These operate nearly identically, except instead of supplying an Action, we supply a <a href="https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task?view=netcore-3.1" rel=external target=_blank>Task</a>:</p><ul><li><code>Assert.ThrowsAsync&lt;T>(Task testCode) where T : System.Exception</code> asserts the supplied exception type <code>T</code> is thrown when <code>testCode</code> is executed</li><li><code>Assert.ThrowsAnyAsync&lt;T>(Task testCode) where T: System.Exception</code> is the asynchronous version of the previous assertion, asserts the supplied exception type <code>T</code> will be thrown some point after <code>testCode</code> is executed.</li></ul><h2 id=events-assertions>Events Assertions</h2><p>Asserting that events will be thrown also involves <a href="https://docs.microsoft.com/en-us/dotnet/api/system.action-1?view=netcore-3.1" rel=external target=_blank>Action<t> delegate</a>, and is a bit more involved as it requires <em>three</em>. The first delegate is for attaching the assertion-supplied event handler to the listener, the second for detaching it, and the third is for triggering the event with the actual code involved.</p><p>For example, assume we have a class, <code>Emailer</code>, with a method <code>SendEmail(string address, string body)</code> that should have an event handler <code>EmailSent</code> whose event args are <code>EmailSentEventArgs</code>. We could test that this class was actually raising this event with:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=na>[Fact]</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>void</span> <span class=n>EmailerShouldRaiseEmailSentWhenSendingEmails</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>string</span> <span class=n>address</span> <span class=p>=</span> <span class=s>&#34;test@test.com&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>string</span> <span class=n>body</span> <span class=p>=</span> <span class=s>&#34;this is a test&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>Emailer</span> <span class=n>emailer</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Emailer</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>Assert</span><span class=p>.</span><span class=n>Raises</span><span class=p>&lt;</span><span class=n>EmailSentEventArgs</span><span class=p>&gt;(</span>
</span></span><span class=line><span class=cl>        <span class=n>listener</span> <span class=p>=&gt;</span> <span class=n>emailer</span> <span class=p>+=</span> <span class=n>listener</span><span class=p>,</span> <span class=c1>// This action attaches the listener</span>
</span></span><span class=line><span class=cl>        <span class=n>listener</span> <span class=p>=&gt;</span> <span class=n>emailer</span> <span class=p>-=</span> <span class=n>listener</span><span class=p>,</span> <span class=c1>// This action detaches the listener </span>
</span></span><span class=line><span class=cl>        <span class=p>()</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>emailer</span><span class=p>.</span><span class=n>SendEmail</span><span class=p>(</span><span class=n>address</span><span class=p>,</span> <span class=n>body</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>The various event assertions are:</p><ul><li><code>Assert.Raises&lt;T>(Action attach, Action detach, Action testCode)</code></li><li><code>Assert.RaisesAny&lt;T>(Action attach, Action detach, Action testCode)</code></li></ul><p>There are also similar assertions for events being raised by <em>asynchronous</em> code. These operate nearly identically, except instead of supplying an Action, we supply a <a href="https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task?view=netcore-3.1" rel=external target=_blank>Task</a>:</p><ul><li><code>Assert.RaisesAsync&lt;T>(Action attach, Action detach, Task testCode)</code></li><li><code>Assert.RaisesAnyAsync&lt;T>(Action attach, Action detach, Task testCode)</code></li></ul><p>For examples of these assertions, see <a href=https://textbooks.cs.ksu.edu/cis400/2-desktop-development/03-events/10-testing-generic-events/ rel=external target=_blank>section 2.3.10</a></p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>XUnit does not directly support old-style events - those with a named event handler like <code>CollectionChangedEventHandler</code>, only those that use the templated form: <code>EventHandler&lt;CustomEventArgs></code> (with the exception of the <code>PropertyChanged</code> event, discussed below). For strategies to handle the older-style events, see <a href=https://textbooks.cs.ksu.edu/cis400/2-desktop-development/03-events/11-testing-custom-events/ rel=external target=_blank>section 2.3.11</a></p></div></div><h2 id=property-change-assertions>Property Change Assertions</h2><p>Because C# has deeply integrated the idea of &lsquo;Property Change&rsquo; notifications as part of its GUI frameworks (which we&rsquo;ll cover in a later chapter), it makes sense to have a special assertion to deal with this notification. Hence, the <code>Assert.PropertyChanged(INotifyPropertyChanged @object, string propertyName, Action testCode)</code>. Using it is simple - supply the object that implements the <code>INotifyPropertyChanged</code> interface as the first argument, the name of the property that will be changing as the second, and the Action delegate that will trigger the change as the third.</p><p>For example, if we had a <code>Profile</code> object with a <code>StatusMessage</code> property that we knew should trigger a notification when it changes, we could write our test as:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=na>[Fact]</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>void</span> <span class=n>ProfileShouldNotifyOfStatusMessageChanges</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Profile</span> <span class=n>testProfile</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Profile</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>Assert</span><span class=p>.</span><span class=n>PropertyChanged</span><span class=p>(</span><span class=n>testProfile</span><span class=p>,</span> <span class=s>&#34;StatusMessage&#34;</span><span class=p>,</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=n>testProfile</span><span class=p>.</span><span class=n>StatusMessage</span> <span class=p>=</span> <span class=s>&#34;Hard at work&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>There is also a similar assertion for testing if a property is changed in <em>asynchronous</em> code. This operates nearly identically, except instead of supplying an Action, we supply a <a href="https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task?view=netcore-3.1" rel=external target=_blank>Task</a>:</p><ul><li><code>Assert.PropertyChangedAsync(INotifyPropertyChanged @object, string propertyName, Task testCode)</code></li></ul><footer class=footline></footer></article></div></main></div></div><script src=/cis400/js/clipboard.min.js?1724347213 defer></script><script src=/cis400/js/perfect-scrollbar.min.js?1724347213 defer></script><script src=/cis400/js/theme.js?1724347213 defer></script><script src=/cis400/js/tele-scroll.js?1724347213 defer></script></body></html>