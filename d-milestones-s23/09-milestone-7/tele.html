<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.128.0"><meta name=generator content="Relearn 6.0.0"><meta name=description content="Web Only This textbook was authored for the CIS 400 - Object-Oriented Design, Implementation, and Testing course at Kansas State University. This section describes assignments specific to the Spring 2023 offering of that course. Prior semester offerings can be found here. If you are not enrolled in the course, please disregard this section.
In this assignment, we will be modifying the Point of Sale application to allow the user taking an order to modify individual items in an order."><meta name=author content="Nathan Bean"><meta name=twitter:card content="summary"><meta name=twitter:title content="Milestone 7 Requirements :: K-State CIS 400 Textbook"><meta name=twitter:description content="Web Only This textbook was authored for the CIS 400 - Object-Oriented Design, Implementation, and Testing course at Kansas State University. This section describes assignments specific to the Spring 2023 offering of that course. Prior semester offerings can be found here. If you are not enrolled in the course, please disregard this section.
In this assignment, we will be modifying the Point of Sale application to allow the user taking an order to modify individual items in an order."><meta property="og:url" content="https://textbooks.cs.ksu.edu/cis400/d-milestones-s23/09-milestone-7/"><meta property="og:site_name" content="K-State CIS 400 Textbook"><meta property="og:title" content="Milestone 7 Requirements :: K-State CIS 400 Textbook"><meta property="og:description" content="Web Only This textbook was authored for the CIS 400 - Object-Oriented Design, Implementation, and Testing course at Kansas State University. This section describes assignments specific to the Spring 2023 offering of that course. Prior semester offerings can be found here. If you are not enrolled in the course, please disregard this section.
In this assignment, we will be modifying the Point of Sale application to allow the user taking an order to modify individual items in an order."><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta itemprop=name content="Milestone 7 Requirements :: K-State CIS 400 Textbook"><meta itemprop=description content="Web Only This textbook was authored for the CIS 400 - Object-Oriented Design, Implementation, and Testing course at Kansas State University. This section describes assignments specific to the Spring 2023 offering of that course. Prior semester offerings can be found here. If you are not enrolled in the course, please disregard this section.
In this assignment, we will be modifying the Point of Sale application to allow the user taking an order to modify individual items in an order."><meta itemprop=datePublished content="2018-08-24T10:53:26-05:00"><meta itemprop=dateModified content="2024-06-27T14:36:54-05:00"><meta itemprop=wordCount content="1753"><title>Milestone 7 Requirements :: K-State CIS 400 Textbook</title>
<link href=https://textbooks.cs.ksu.edu/cis400/d-milestones-s23/09-milestone-7/ rel=canonical type=text/html title="Milestone 7 Requirements :: K-State CIS 400 Textbook"><link href=/cis400/d-milestones-s23/09-milestone-7/index.xml rel=alternate type=application/rss+xml title="Milestone 7 Requirements :: K-State CIS 400 Textbook"><link href=/cis400/d-milestones-s23/09-milestone-7/index.print.html rel=alternate type=text/html title="Milestone 7 Requirements :: K-State CIS 400 Textbook"><link href=/cis400/d-milestones-s23/09-milestone-7/embed.html rel=alternate type=text/html title="Milestone 7 Requirements :: K-State CIS 400 Textbook"><link href=/cis400/css/fontawesome-all.min.css?1731961660 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/fontawesome-all.min.css?1731961660 rel=stylesheet></noscript><link href=/cis400/css/nucleus.css?1731961660 rel=stylesheet><link href=/cis400/css/auto-complete.css?1731961660 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/auto-complete.css?1731961660 rel=stylesheet></noscript><link href=/cis400/css/perfect-scrollbar.min.css?1731961660 rel=stylesheet><link href=/cis400/css/fonts.css?1731961660 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/cis400/css/fonts.css?1731961660 rel=stylesheet></noscript><link href=/cis400/css/theme.css?1731961660 rel=stylesheet><link href=/cis400/css/theme-auto.css?1731961660 rel=stylesheet id=R-variant-style><link href=/cis400/css/chroma-auto.css?1731961660 rel=stylesheet id=R-variant-chroma-style><link href=/cis400/css/variant.css?1731961660 rel=stylesheet><link href=/cis400/css/print.css?1731961660 rel=stylesheet media=print><script src=/cis400/js/variant.js?1731961660></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../..",window.relearn.relBaseUri="../../..",window.relearn.absBaseUri="https://textbooks.cs.ksu.edu/cis400",window.index_js_url="/cis400/index.search.js",window.variants&&variants.init(["auto","light-theme","dark-theme"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><link href=/cis400/css/custom.css?1731961660 rel=stylesheet></head><body class="mobile-support tele disableInlineCopyToClipboard" data-url=/cis400/d-milestones-s23/09-milestone-7/><div id=tele class="tele mirror"><div id=R-body class=default-animation><div id=R-body-overlay></div><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=milestone-7-requirements>Milestone 7 Requirements</h1><div class="box notices cstyle noiframe"><div class=box-label><i class="fa-fw fas fa-times-circle"></i> Web Only</div><div class=box-content><p>This textbook was authored for the <strong>CIS 400 - Object-Oriented Design, Implementation, and Testing</strong> course at Kansas State University. This section describes assignments specific to the <strong>Spring 2023</strong> offering of that course. Prior semester offerings can be found <a href=/cis400/d-milestones-s23/09-milestone-7/old/>here</a>. If you are not enrolled in the course, please disregard this section.</p></div></div><p>In this assignment, we will be modifying the Point of Sale application to allow the user taking an order to modify individual items in an order. This will involve creating more custom controls, implementing data binding on all menu items, and adding the ability to display different controls in our app as needed.</p><h3 id=general-requirements>General requirements:</h3><ul><li>You will need to follow the style laid out in the C# Coding Conventions</li></ul><h3 id=assignment-requirements>Assignment requirements:</h3><ul><li><p>Create custom controls for count, size, etc.</p></li><li><p>Create custom controls for modifying specific menu items</p></li><li><p>Implement <code>IPropertyChanged</code> on all menu items</p></li><li><p>Data bind menu items</p></li><li><p>Refactor Order to pass forward property changes</p></li><li><p>Create/expand your unit tests for any new classes, properties, or methods (at this point, you do not need to test custom WPF control classes)</p></li><li><p>Update UML Diagrams</p></li></ul><h3 id=purpose>Purpose:</h3><p>This assignment is intended to help you gain a greater grasp of using composition to create complex controls from simpler ones, and to gain more practice utilizing data binding.</p><h4 id=creating-custom-controls-for-common-properties>Creating Custom Controls for Common Properties</h4><p>Several of your menu items have aspects in common, such as a count of some kind (i.e. <code>FlyingSaucer.StackSize</code>), or a <code>ServingSize</code>. Instead of re-implementing controls for these properties over and over again, you can instead create a simpler control that <em>only</em> sets the count or allows for selection from the enumerated values.</p><p>This is both good DRY (do not repeat yourself) practice and simplifies the creation of more complex controls that can be composed using these basic controls. For this milestone, you should create (at a minimum):</p><ol><li>A custom control for displaying and updating a count value</li><li>A custom control for displaying and updating enumerated values (such as a <code>ServingSize</code> value)</li></ol><p>You may create additional controls as you see fit.</p><h5 id=create-menu-item-customization-controls>Create Menu Item Customization Controls</h5><p>Once you have your basic controls created, you should turn your attention to creating controls that will allow the user to modify an item in the order. These should be specific to a menu item, i.e. a <code>FlyingSaucerCustomizationControl</code> should be used to customize a <code>FlyingSaucer</code>. You will need a control for each menu item served at The Flying Saucer.</p><p>Your customization controls should:</p><ul><li>Display the name of the menu item, i.e. &ldquo;Flying Saucer&rdquo;.</li><li>Display and allow changing any boolean properties (i.e. <code>FlyingSaucer.Syrup</code>) - a <code>&lt;CheckBox></code> or <code>&lt;ToggleButton></code> is appropriate for this task</li><li>Display and allow changing of any numeric properties (i.e. <code>FlyingSaucer.StackSize</code>) - you should use a common custom control (as described above) for this.</li><li>Displaying and allow changing of any enumerated properties (i.e. <code>SaucerFuel.Size</code>) - you should use a common custom control (as described above) for this.</li><li>Displaying the <code>Calories</code> property - this should <em>not</em> be an editable control, i.e. a <code>&lt;TextBlock></code> would be appropriate.</li></ul><h4 id=implement-ipropertychanged-on-all-menu-items>Implement IPropertyChanged on all menu items</h4><p>The <code>INotifyPropertyChanged</code> interface needs to be implemented on every menu item (Note that this can be done <em>through inheritance</em>, so you might only have to implement it in a common base class - though see the warning below for a common gotcha). Implementing the interface requires you to declare an event of type <code>PropertyChangedEventHandler</code> named <code>PropertyChanged</code>. Doing this much satisfies the <em>letter</em> of the <code>INotifyPropertyChanged</code> interface, but not the <em>intent</em>.</p><p>To satisfy the intent, you should also <em>invoke</em> any event listeners registered with your <code>PropertyChanged</code> event handler <em>when one of the properties of the object changes</em>, with the details about that change. You must do this for <strong>ALL</strong> properties that can change in your menu item classes (Hint: you can skip properties like the <code>OuterOmlette.Price</code>, which cannot change).</p><div class="box notices cstyle tip"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Tip</div><div class=box-content><p>Think carefully about the requirement of invoking <code>PropertyChanged</code> <em>when and where the property changes</em>. Consider the <code>Price</code> property of a <code>CrashedSacucer</code>. Where does it change? It (depending on your implementation) has no setter! Remember, it is a <em>calculated</em> value, and its value is dependent on the <code>Size</code> property. So when the <code>Size</code> property changes, so does the <code>Price</code> property! You must account for <strong>all</strong> the possible places in your class&rsquo; code that trigger a property might change when you implement <code>INotifyPropertyChanged</code>.</p></div></div><div class="box notices cstyle warning"><div class=box-label><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div><div class=box-content><p>An odd side effect of the nature of the .NET platform is that events <em>cannot be invoked from a different class than they are defined in</em>. This includes <em>inherited</em> events. The standard practice to get around this issue is to declare a protected helper method to do the invocation in a base class that also implements the event, i.e.:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>protected</span> <span class=k>virtual</span> <span class=k>void</span> <span class=n>OnPropertyChanged</span><span class=p>(</span><span class=kt>string</span> <span class=n>propertyName</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=p>.</span><span class=n>PropertyChanged</span><span class=p>?.</span><span class=n>Invoke</span><span class=p>(</span><span class=k>this</span><span class=p>,</span> <span class=k>new</span> <span class=n>PropertyChangedEventArgs</span><span class=p>(</span><span class=n>propertyName</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>This method can then be called in derived classes to indicate a property is changing.</p></div></div><h4 id=testing-your-inotifypropertychanged-implementation>Testing your INotifyPropertyChanged Implementation</h4><p>To verify that you have correctly implemented these properties, you need to write additional tests to check that the property does, indeed change. The <a href=https://textbooks.cs.ksu.edu/cis400/1-object-orientation/04-testing/05-xunit-assertions/#property-change-assertions rel=external target=_blank>PropertyChange Assertion</a> we discussed in the testing chapter is used for this purpose. These tests should be placed in the unit test class corresponding to the menu item being tested.</p><p>Here is an example using the <code>SaucerFuel</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=na>[Theory]</span>
</span></span><span class=line><span class=cl><span class=na>[InlineData(ServingSize.Small, &#34;Size&#34;)]</span>
</span></span><span class=line><span class=cl><span class=na>[InlineData(ServingSize.Medium, &#34;Size&#34;)]</span>
</span></span><span class=line><span class=cl><span class=na>[InlineData(ServingSize.Large, &#34;Size&#34;)]</span>
</span></span><span class=line><span class=cl><span class=na>[InlineData(ServingSize.Small, &#34;Price&#34;)]</span>
</span></span><span class=line><span class=cl><span class=na>[InlineData(ServingSize.Medium, &#34;Price&#34;)]</span>
</span></span><span class=line><span class=cl><span class=na>[InlineData(ServingSize.Large, &#34;Price&#34;)]</span>
</span></span><span class=line><span class=cl><span class=na>[InlineData(ServingSize.Small, &#34;Calories&#34;)]</span>
</span></span><span class=line><span class=cl><span class=na>[InlineData(ServingSize.Medium, &#34;Calories&#34;)]</span>
</span></span><span class=line><span class=cl><span class=na>[InlineData(ServingSize.Large, &#34;Calories&#34;)]</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=k>void</span> <span class=n>ChangingSizeShouldNotifyOfPropertyChanges</span><span class=p>(</span><span class=n>ServingSize</span> <span class=n>size</span><span class=p>,</span> <span class=kt>string</span> <span class=n>propertyName</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>SaucerFuel</span> <span class=n>saucerFuel</span> <span class=p>=</span> <span class=k>new</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=n>Assert</span><span class=p>.</span><span class=n>PropertyChanged</span><span class=p>(</span><span class=n>saucerFuel</span><span class=p>,</span> <span class=n>propertyName</span><span class=p>,</span> <span class=p>()=&gt;{</span>
</span></span><span class=line><span class=cl>    <span class=n>saucerFuel</span><span class=p>.</span><span class=n>Size</span> <span class=p>=</span> <span class=n>size</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>Remember that calculated properties will change <em>based on the property they are calculated from</em>, and you must also test for these. I.e. on the sides, you might have a test method <code>PricePropertyChangedWhenSizeChanges(Size size)</code>. Alternatively, you could combine multiple property checks into one test, i.e. <code>ShouldNotifyOfPropertyChangedWhenSizeChanges(Size size, string propertyName)</code> (as in the example above) and supply the names of the separate properties through <code>[InlineData]</code>.</p></div></div><p>Additionally, it is important to test that the menu item classes implements the <code>INotifyPropertyChanged</code> interface. This can be accomplished with the <code>IsAssignableFrom&lt;T>(object obj)</code> <a href=https://textbooks.cs.ksu.edu/cis400/1-object-orientation/04-testing/05-xunit-assertions/#type-assertions rel=external target=_blank>Type Assertion</a>, i.e.:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=kd>public</span> <span class=k>void</span> <span class=n>ShouldImplementINotifyChanged</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>SaucerFuel</span> <span class=n>saucerFuel</span> <span class=p>=</span> <span class=k>new</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=n>Assert</span><span class=p>.</span><span class=n>IsAssignableFrom</span><span class=p>&lt;</span><span class=n>INotifyPropertyChanged</span><span class=p>&gt;(</span><span class=n>saucerFuel</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>You might be wondering why it is important to test for if the class actually implements <code>INotifyPropertyChanged</code>. Property binding <em>only</em> works if the class can be cast to be an instance of <code>INotifyPropertyChanged</code>, so even if you have correctly set up the <code>PropertyChanged</code> event, your GUI will not update unless you have explicitly implemented the interface.</p></div></div>For the various Menu Items to serve as targets of data binding, you must also implement the <code>INotifyPropertyChanged</code> interface on each of them.</p><h4 id=display-bound-customization-controls-when-adding-or-editing-an-item-in-the-order>Display bound customization controls when adding or editing an item in the order</h4><p>When an item is added to an order, or an item already in the order is selected to be customized, you should display a customization control to the user:</p><p><a href=#R-image-7a2d1dcf5bd676dfcc7b64fad4b0f58b class=lightbox-link><img alt="Example POS Customization Control" class="border lazy lightbox noshadow figure-image" loading=lazy src=/cis400/images/d.f22.7.7.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7a2d1dcf5bd676dfcc7b64fad4b0f58b><img alt="Example POS Customization Control" class="border lazy lightbox noshadow lightbox-image" loading=lazy src=/cis400/images/d.f22.7.7.png></a></p><p>For the control to be usable, you will need to temporarily replace or cover your <code>MenuItemSelectionControl</code>. Two common strategies for accomplishing this are:</p><ol><li>Swapping the <code>Child</code> property of a <code>&lt;Border></code> or other WPF control between a <code>&lt;MenuItemSelectionControl></code> and the various customization screens you will need, or</li><li>Having all controls pre-loaded into the <code>&lt;MainWindow></code>, but using their <a href="https://learn.microsoft.com/en-us/dotnet/api/system.windows.uielement.visibility?view=windowsdesktop-7.0" rel=external target=_blank>Visibility</a> property to hide or show them as needed.</li></ol><h5 id=binding-the-menu-item-to-the-customization-control>Binding the menu item to the customization control</h5><p>In either case, when you display one of your item customization controls, you will also want to set its <code>DataContext</code> property to the specific menu item you want to customize. This will apply any changes made through the customization control to the bound menu item object.</p><h5 id=editing-or-removing-items-from-the-order>Editing or Removing Items from the Order</h5><p>In addition to allowing the user to customize items as they are added to the order, you need to allow them to edit items previously added. In addition, you will want to provide a mechanism for <em>removing</em> items from the order.</p><p>A common approach is to add edit and remove buttons to your <code>&lt;DataTemplate></code> displayed in the <code>OrderSummaryControl</code>&rsquo;s <code>&lt;ListView></code>. Because the <code>DataTemplate</code> used as the <code>ItemTemplate</code> has the individual order item as its <code>DataContext</code>, placing the buttons within the <code>&lt;DataTemplate></code> means those buttons <em>also</em> have the individual <code>IMenuItem</code> object as their <code>DataContext</code>, while the <code>OrderSummaryControl</code> itself has the <code>Order</code> as its <code>DataContext</code>.</p><p>You can leverage this to use the <code>Remove()</code> method of your <code>Order</code> class without needing to pass a lot of variables around. For customization, you&rsquo;ll also need to display the appropriate customization control, and bind the item to its <code>DataContext</code>.</p><h4 id=update-order-properties-when-menu-item-properties-change>Update Order properties when Menu Item properties change</h4><p>Finally, now that your menu items implement <code>IPropertyChanged</code>, you can handle the issue of when a property of an item in an order changes that also affects a property of the <code>Order</code> class. For example, changing the <code>Size</code> of a <code>SaucerFuel</code> changes its price, so the <code>Order</code> containing it should update its own <code>Subtotal</code>, <code>Tax</code>, and <code>Total</code>. Think carefully about how your menu items can communicate this change to the order class that contains them. Hint: we did something very similar in our Data Binding Exercise.</p><h4 id=update-your-uml-diagrams>Update Your UML Diagrams</h4><p>You will need to update your UML diagrams to reflect the changes you have made to the Data and Point of Sale projects. Remember to mark the associations between your <code>Order</code> and its various Menu Item instances.</p><h2 id=submitting-the-assignment>Submitting the Assignment</h2><p>Once your project is complete <a href=https://textbooks.cs.ksu.edu/cis400/b-git-and-github/12-release/ rel=external target=_blank>create a release</a> tagged <code>v0.7.0</code> with name <code>"Milestone 7"</code>. Copy the URL for the release page and submit it to the Canvas assignment.</p><h2 id=grading-rubric>Grading Rubric</h2><p>The grading rubric for this assignment will be:</p><p><strong>15% Structure</strong> Did you implement the structure as laid out in the specification? Are the correct names used for classes, enums, properties, methods, events, etc? Do classes inherit from expected base classes?</p><p><strong>15% Documentation</strong> Does every class, method, property, and field use the correct XML-style documentation? Does every XML comment tag contain explanatory text?</p><p><strong>15% Design</strong> Are you appropriately using C# to create reasonably efficient, secure, and usable software? Does your code contain bugs that will cause issues at runtime?</p><p><strong>15% UML Diagrams</strong> Does your UML diagram reflect the code actually in your release? Are all classes, enums, etc. included? Are associations correctly identified?</p><p><strong>20% Functionality</strong> Does the program do what the assignment asks? Do properties return the expected values? Do methods perform the expected actions?</p><p><strong>20% Testing</strong> Do you have unit tests for all classes? Do your unit tests cover all the functionality of those classes? Do you have a written test plan for your GUI? Do you have a record of employing the test plan in your release?</p><div class="box notices cstyle warning"><div class=box-label><i class="fa-fw fas fa-exclamation-triangle"></i> Warning</div><div class=box-content><p>Projects that do not compile will receive an automatic grade of 0.</p></div></div><p>&ndash;></p><footer class=footline></footer></article></div></main></div></div><script src=/cis400/js/clipboard.min.js?1731961660 defer></script><script src=/cis400/js/perfect-scrollbar.min.js?1731961660 defer></script><script src=/cis400/js/theme.js?1731961660 defer></script><script src=/cis400/js/tele-scroll.js?1731961660 defer></script></body></html>